import{w as N,l as j,a1 as ge,a2 as ne,a3 as Ne,J as xe,K as se,a4 as Ze,a5 as $e,a6 as Ke,a7 as eA,a8 as SA,b as gA,M as lA,a9 as Me,aa as ht,ab as He,V as sA,ac as ns,ad as OA,Y as $,ae as is,H as ke,F as Ee,d as rA,af as ie,c as Ie,ag as Pe,ah as rs,ai as xA,aj as dt,ak as ft,P as TA,al as It,am as Je,an as pe,I as U,Q as he,ao as os,ap as cs,G as AA,aq as gs,ar as ls,as as hs,at as HA,a as pt,au as ds,av as aA,aw as ut,L as Bt,ax as fs,f as bt,ay as V,O as Et,az as Ct,aA as Qt,$ as LA,aB as mt,o as JA,N as Is,aC as ps,aD as us,aE as Bs,C as Ce,aF as bs,aG as Es,a0 as GA,aH as MA,aI as vA,aJ as hA,aK as Cs,aL as Qs,aM as ms,aN as dA,aO as ws,aP as ys,aQ as Ds,A as Rs,aR as Fs,aS as ks,aT as Ss,aU as de,aV as xs,aW as K,aX as Ts,aY as wt,R as Se,aZ as Ls,a_ as Gs,a$ as Ms,b0 as vs,b1 as yt,b2 as Dt,b3 as Us,b4 as _s,b5 as Ns,b6 as Ye,b7 as Ve,b8 as YA,D as Ps,b9 as qA,ba as Os,bb as Hs,bc as VA,bd as qs,be as js,bf as Ks,bg as Js,bh as Ys,bi as zA,bj as Vs}from"./three.3f33d046.js";import{t as zs,m as Xs}from"./curve.0ba3d968.js";const Ws=/^[og]\s*(.+)?/,Zs=/^mtllib /,$s=/^usemtl /,ea=/^usemap /,XA=/\s+/,WA=new N,fA=new N,ZA=new N,$A=new N,Ae=new N,oA=new j;function Aa(){const l={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,A){if(this.object&&this.object.fromDeclaration===!1){this.object.name=e,this.object.fromDeclaration=A!==!1;return}const s=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:A!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(t,a){const n=this._finalize(!1);n&&(n.inherited||n.groupCount<=0)&&this.materials.splice(n.index,1);const i={index:this.materials.length,name:t||"",mtllib:Array.isArray(a)&&a.length>0?a[a.length-1]:"",smooth:n!==void 0?n.smooth:this.smooth,groupStart:n!==void 0?n.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(r){const c={index:typeof r=="number"?r:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return c.clone=this.clone.bind(c),c}};return this.materials.push(i),i},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(t){const a=this.currentMaterial();if(a&&a.groupEnd===-1&&(a.groupEnd=this.geometry.vertices.length/3,a.groupCount=a.groupEnd-a.groupStart,a.inherited=!1),t&&this.materials.length>1)for(let n=this.materials.length-1;n>=0;n--)this.materials[n].groupCount<=0&&this.materials.splice(n,1);return t&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),a}},s&&s.name&&typeof s.clone=="function"){const t=s.clone(0);t.inherited=!0,this.object.materials.push(t)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(e,A){const s=parseInt(e,10);return(s>=0?s-1:s+A/3)*3},parseNormalIndex:function(e,A){const s=parseInt(e,10);return(s>=0?s-1:s+A/3)*3},parseUVIndex:function(e,A){const s=parseInt(e,10);return(s>=0?s-1:s+A/2)*2},addVertex:function(e,A,s){const t=this.vertices,a=this.object.geometry.vertices;a.push(t[e+0],t[e+1],t[e+2]),a.push(t[A+0],t[A+1],t[A+2]),a.push(t[s+0],t[s+1],t[s+2])},addVertexPoint:function(e){const A=this.vertices;this.object.geometry.vertices.push(A[e+0],A[e+1],A[e+2])},addVertexLine:function(e){const A=this.vertices;this.object.geometry.vertices.push(A[e+0],A[e+1],A[e+2])},addNormal:function(e,A,s){const t=this.normals,a=this.object.geometry.normals;a.push(t[e+0],t[e+1],t[e+2]),a.push(t[A+0],t[A+1],t[A+2]),a.push(t[s+0],t[s+1],t[s+2])},addFaceNormal:function(e,A,s){const t=this.vertices,a=this.object.geometry.normals;WA.fromArray(t,e),fA.fromArray(t,A),ZA.fromArray(t,s),Ae.subVectors(ZA,fA),$A.subVectors(WA,fA),Ae.cross($A),Ae.normalize(),a.push(Ae.x,Ae.y,Ae.z),a.push(Ae.x,Ae.y,Ae.z),a.push(Ae.x,Ae.y,Ae.z)},addColor:function(e,A,s){const t=this.colors,a=this.object.geometry.colors;t[e]!==void 0&&a.push(t[e+0],t[e+1],t[e+2]),t[A]!==void 0&&a.push(t[A+0],t[A+1],t[A+2]),t[s]!==void 0&&a.push(t[s+0],t[s+1],t[s+2])},addUV:function(e,A,s){const t=this.uvs,a=this.object.geometry.uvs;a.push(t[e+0],t[e+1]),a.push(t[A+0],t[A+1]),a.push(t[s+0],t[s+1])},addDefaultUV:function(){const e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){const A=this.uvs;this.object.geometry.uvs.push(A[e+0],A[e+1])},addFace:function(e,A,s,t,a,n,i,r,c){const g=this.vertices.length;let o=this.parseVertexIndex(e,g),h=this.parseVertexIndex(A,g),d=this.parseVertexIndex(s,g);if(this.addVertex(o,h,d),this.addColor(o,h,d),i!==void 0&&i!==""){const f=this.normals.length;o=this.parseNormalIndex(i,f),h=this.parseNormalIndex(r,f),d=this.parseNormalIndex(c,f),this.addNormal(o,h,d)}else this.addFaceNormal(o,h,d);if(t!==void 0&&t!==""){const f=this.uvs.length;o=this.parseUVIndex(t,f),h=this.parseUVIndex(a,f),d=this.parseUVIndex(n,f),this.addUV(o,h,d),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";const A=this.vertices.length;for(let s=0,t=e.length;s<t;s++){const a=this.parseVertexIndex(e[s],A);this.addVertexPoint(a),this.addColor(a)}},addLineGeometry:function(e,A){this.object.geometry.type="Line";const s=this.vertices.length,t=this.uvs.length;for(let a=0,n=e.length;a<n;a++)this.addVertexLine(this.parseVertexIndex(e[a],s));for(let a=0,n=A.length;a<n;a++)this.addUVLine(this.parseUVIndex(A[a],t))}};return l.startObject("",!1),l}class ta extends ge{constructor(e){super(e),this.materials=null}load(e,A,s,t){const a=this,n=new ne(this.manager);n.setPath(this.path),n.setRequestHeader(this.requestHeader),n.setWithCredentials(this.withCredentials),n.load(e,function(i){try{A(a.parse(i))}catch(r){t?t(r):console.error(r),a.manager.itemError(e)}},s,t)}setMaterials(e){return this.materials=e,this}parse(e){const A=new Aa;e.indexOf(`\r
`)!==-1&&(e=e.replace(/\r\n/g,`
`)),e.indexOf(`\\
`)!==-1&&(e=e.replace(/\\\n/g,""));const s=e.split(`
`);let t=[];for(let i=0,r=s.length;i<r;i++){const c=s[i].trimStart();if(c.length===0)continue;const g=c.charAt(0);if(g!=="#")if(g==="v"){const o=c.split(XA);switch(o[0]){case"v":A.vertices.push(parseFloat(o[1]),parseFloat(o[2]),parseFloat(o[3])),o.length>=7?(oA.setRGB(parseFloat(o[4]),parseFloat(o[5]),parseFloat(o[6])).convertSRGBToLinear(),A.colors.push(oA.r,oA.g,oA.b)):A.colors.push(void 0,void 0,void 0);break;case"vn":A.normals.push(parseFloat(o[1]),parseFloat(o[2]),parseFloat(o[3]));break;case"vt":A.uvs.push(parseFloat(o[1]),parseFloat(o[2]));break}}else if(g==="f"){const h=c.slice(1).trim().split(XA),d=[];for(let p=0,I=h.length;p<I;p++){const u=h[p];if(u.length>0){const B=u.split("/");d.push(B)}}const f=d[0];for(let p=1,I=d.length-1;p<I;p++){const u=d[p],B=d[p+1];A.addFace(f[0],u[0],B[0],f[1],u[1],B[1],f[2],u[2],B[2])}}else if(g==="l"){const o=c.substring(1).trim().split(" ");let h=[];const d=[];if(c.indexOf("/")===-1)h=o;else for(let f=0,p=o.length;f<p;f++){const I=o[f].split("/");I[0]!==""&&h.push(I[0]),I[1]!==""&&d.push(I[1])}A.addLineGeometry(h,d)}else if(g==="p"){const h=c.slice(1).trim().split(" ");A.addPointGeometry(h)}else if((t=Ws.exec(c))!==null){const o=(" "+t[0].slice(1).trim()).slice(1);A.startObject(o)}else if($s.test(c))A.object.startMaterial(c.substring(7).trim(),A.materialLibraries);else if(Zs.test(c))A.materialLibraries.push(c.substring(7).trim());else if(ea.test(c))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(g==="s"){if(t=c.split(" "),t.length>1){const h=t[1].trim().toLowerCase();A.object.smooth=h!=="0"&&h!=="off"}else A.object.smooth=!0;const o=A.object.currentMaterial();o&&(o.smooth=A.object.smooth)}else{if(c==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+c+'"')}}A.finalize();const a=new Ne;if(a.materialLibraries=[].concat(A.materialLibraries),!(A.objects.length===1&&A.objects[0].geometry.vertices.length===0)===!0)for(let i=0,r=A.objects.length;i<r;i++){const c=A.objects[i],g=c.geometry,o=c.materials,h=g.type==="Line",d=g.type==="Points";let f=!1;if(g.vertices.length===0)continue;const p=new xe;p.setAttribute("position",new se(g.vertices,3)),g.normals.length>0&&p.setAttribute("normal",new se(g.normals,3)),g.colors.length>0&&(f=!0,p.setAttribute("color",new se(g.colors,3))),g.hasUVIndices===!0&&p.setAttribute("uv",new se(g.uvs,2));const I=[];for(let B=0,b=o.length;B<b;B++){const E=o[B],m=E.name+"_"+E.smooth+"_"+f;let C=A.materials[m];if(this.materials!==null){if(C=this.materials.create(E.name),h&&C&&!(C instanceof Ze)){const w=new Ze;$e.prototype.copy.call(w,C),w.color.copy(C.color),C=w}else if(d&&C&&!(C instanceof Ke)){const w=new Ke({size:10,sizeAttenuation:!1});$e.prototype.copy.call(w,C),w.color.copy(C.color),w.map=C.map,C=w}}C===void 0&&(h?C=new Ze:d?C=new Ke({size:1,sizeAttenuation:!1}):C=new eA,C.name=E.name,C.flatShading=!E.smooth,C.vertexColors=f,A.materials[m]=C),I.push(C)}let u;if(I.length>1){for(let B=0,b=o.length;B<b;B++){const E=o[B];p.addGroup(E.groupStart,E.groupCount,B)}h?u=new SA(p,I):d?u=new gA(p,I):u=new lA(p,I)}else h?u=new SA(p,I[0]):d?u=new gA(p,I[0]):u=new lA(p,I[0]);u.name=c.name,a.add(u)}else if(A.vertices.length>0){const i=new Ke({size:1,sizeAttenuation:!1}),r=new xe;r.setAttribute("position",new se(A.vertices,3)),A.colors.length>0&&A.colors[0]!==void 0&&(r.setAttribute("color",new se(A.colors,3)),i.vertexColors=!0);const c=new gA(r,i);a.add(c)}return a}}class sa extends ge{constructor(e){super(e)}load(e,A,s,t){const a=this,n=this.path===""?Me.extractUrlBase(e):this.path,i=new ne(this.manager);i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,function(r){try{A(a.parse(r,n))}catch(c){t?t(c):console.error(c),a.manager.itemError(e)}},s,t)}setMaterialOptions(e){return this.materialOptions=e,this}parse(e,A){const s=e.split(`
`);let t={};const a=/\s+/,n={};for(let r=0;r<s.length;r++){let c=s[r];if(c=c.trim(),c.length===0||c.charAt(0)==="#")continue;const g=c.indexOf(" ");let o=g>=0?c.substring(0,g):c;o=o.toLowerCase();let h=g>=0?c.substring(g+1):"";if(h=h.trim(),o==="newmtl")t={name:h},n[h]=t;else if(o==="ka"||o==="kd"||o==="ks"||o==="ke"){const d=h.split(a,3);t[o]=[parseFloat(d[0]),parseFloat(d[1]),parseFloat(d[2])]}else t[o]=h}const i=new aa(this.resourcePath||A,this.materialOptions);return i.setCrossOrigin(this.crossOrigin),i.setManager(this.manager),i.setMaterials(n),i}}class aa{constructor(e="",A={}){this.baseUrl=e,this.options=A,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.crossOrigin="anonymous",this.side=this.options.side!==void 0?this.options.side:ht,this.wrap=this.options.wrap!==void 0?this.options.wrap:He}setCrossOrigin(e){return this.crossOrigin=e,this}setManager(e){this.manager=e}setMaterials(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}}convert(e){if(!this.options)return e;const A={};for(const s in e){const t=e[s],a={};A[s]=a;for(const n in t){let i=!0,r=t[n];const c=n.toLowerCase();switch(c){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(r=[r[0]/255,r[1]/255,r[2]/255]),this.options&&this.options.ignoreZeroRGBs&&r[0]===0&&r[1]===0&&r[2]===0&&(i=!1);break}i&&(a[c]=r)}}return A}preload(){for(const e in this.materialsInfo)this.create(e)}getIndex(e){return this.nameLookup[e]}getAsArray(){let e=0;for(const A in this.materialsInfo)this.materialsArray[e]=this.create(A),this.nameLookup[A]=e,e++;return this.materialsArray}create(e){return this.materials[e]===void 0&&this.createMaterial_(e),this.materials[e]}createMaterial_(e){const A=this,s=this.materialsInfo[e],t={name:e,side:this.side};function a(i,r){return typeof r!="string"||r===""?"":/^https?:\/\//i.test(r)?r:i+r}function n(i,r){if(t[i])return;const c=A.getTextureParams(r,t),g=A.loadTexture(a(A.baseUrl,c.url));g.repeat.copy(c.scale),g.offset.copy(c.offset),g.wrapS=A.wrap,g.wrapT=A.wrap,(i==="map"||i==="emissiveMap")&&(g.colorSpace=$),t[i]=g}for(const i in s){const r=s[i];let c;if(r!=="")switch(i.toLowerCase()){case"kd":t.color=new j().fromArray(r).convertSRGBToLinear();break;case"ks":t.specular=new j().fromArray(r).convertSRGBToLinear();break;case"ke":t.emissive=new j().fromArray(r).convertSRGBToLinear();break;case"map_kd":n("map",r);break;case"map_ks":n("specularMap",r);break;case"map_ke":n("emissiveMap",r);break;case"norm":n("normalMap",r);break;case"map_bump":case"bump":n("bumpMap",r);break;case"map_d":n("alphaMap",r),t.transparent=!0;break;case"ns":t.shininess=parseFloat(r);break;case"d":c=parseFloat(r),c<1&&(t.opacity=c,t.transparent=!0);break;case"tr":c=parseFloat(r),this.options&&this.options.invertTrProperty&&(c=1-c),c>0&&(t.opacity=1-c,t.transparent=!0);break}}return this.materials[e]=new eA(t),this.materials[e]}getTextureParams(e,A){const s={scale:new sA(1,1),offset:new sA(0,0)},t=e.split(/\s+/);let a;return a=t.indexOf("-bm"),a>=0&&(A.bumpScale=parseFloat(t[a+1]),t.splice(a,2)),a=t.indexOf("-s"),a>=0&&(s.scale.set(parseFloat(t[a+1]),parseFloat(t[a+2])),t.splice(a,4)),a=t.indexOf("-o"),a>=0&&(s.offset.set(parseFloat(t[a+1]),parseFloat(t[a+2])),t.splice(a,4)),s.url=t.join(" ").trim(),s}loadTexture(e,A,s,t,a){const n=this.manager!==void 0?this.manager:ns;let i=n.getHandler(e);i===null&&(i=new OA(n)),i.setCrossOrigin&&i.setCrossOrigin(this.crossOrigin);const r=i.load(e,s,t,a);return A!==void 0&&(r.mapping=A),r}}class na extends is{constructor(e){super(e),this.type=ke}parse(e){const n=function(Q,y){switch(Q){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(y||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(y||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(y||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(y||""))}},g=`
`,o=function(Q,y,D){y=y||1024;let x=Q.pos,G=-1,F=0,L="",k=String.fromCharCode.apply(null,new Uint16Array(Q.subarray(x,x+128)));for(;0>(G=k.indexOf(g))&&F<y&&x<Q.byteLength;)L+=k,F+=k.length,x+=128,k+=String.fromCharCode.apply(null,new Uint16Array(Q.subarray(x,x+128)));return-1<G?(D!==!1&&(Q.pos+=F+G+1),L+k.slice(0,G)):!1},h=function(Q){const y=/^#\?(\S+)/,D=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,R=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,x=/^\s*FORMAT=(\S+)\s*$/,G=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,F={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let L,k;for((Q.pos>=Q.byteLength||!(L=o(Q)))&&n(1,"no header found"),(k=L.match(y))||n(3,"bad initial token"),F.valid|=1,F.programtype=k[1],F.string+=L+`
`;L=o(Q),L!==!1;){if(F.string+=L+`
`,L.charAt(0)==="#"){F.comments+=L+`
`;continue}if((k=L.match(D))&&(F.gamma=parseFloat(k[1])),(k=L.match(R))&&(F.exposure=parseFloat(k[1])),(k=L.match(x))&&(F.valid|=2,F.format=k[1]),(k=L.match(G))&&(F.valid|=4,F.height=parseInt(k[1],10),F.width=parseInt(k[2],10)),F.valid&2&&F.valid&4)break}return F.valid&2||n(3,"missing format specifier"),F.valid&4||n(3,"missing image size specifier"),F},d=function(Q,y,D){const R=y;if(R<8||R>32767||Q[0]!==2||Q[1]!==2||Q[2]&128)return new Uint8Array(Q);R!==(Q[2]<<8|Q[3])&&n(3,"wrong scanline width");const x=new Uint8Array(4*y*D);x.length||n(4,"unable to allocate buffer space");let G=0,F=0;const L=4*R,k=new Uint8Array(4),v=new Uint8Array(L);let H=D;for(;H>0&&F<Q.byteLength;){F+4>Q.byteLength&&n(1),k[0]=Q[F++],k[1]=Q[F++],k[2]=Q[F++],k[3]=Q[F++],(k[0]!=2||k[1]!=2||(k[2]<<8|k[3])!=R)&&n(3,"bad rgbe scanline format");let O=0,P;for(;O<L&&F<Q.byteLength;){P=Q[F++];const J=P>128;if(J&&(P-=128),(P===0||O+P>L)&&n(3,"bad scanline data"),J){const M=Q[F++];for(let W=0;W<P;W++)v[O++]=M}else v.set(Q.subarray(F,F+P),O),O+=P,F+=P}const ee=R;for(let J=0;J<ee;J++){let M=0;x[G]=v[J+M],M+=R,x[G+1]=v[J+M],M+=R,x[G+2]=v[J+M],M+=R,x[G+3]=v[J+M],G+=4}H--}return x},f=function(Q,y,D,R){const x=Q[y+3],G=Math.pow(2,x-128)/255;D[R+0]=Q[y+0]*G,D[R+1]=Q[y+1]*G,D[R+2]=Q[y+2]*G,D[R+3]=1},p=function(Q,y,D,R){const x=Q[y+3],G=Math.pow(2,x-128)/255;D[R+0]=rA.toHalfFloat(Math.min(Q[y+0]*G,65504)),D[R+1]=rA.toHalfFloat(Math.min(Q[y+1]*G,65504)),D[R+2]=rA.toHalfFloat(Math.min(Q[y+2]*G,65504)),D[R+3]=rA.toHalfFloat(1)},I=new Uint8Array(e);I.pos=0;const u=h(I),B=u.width,b=u.height,E=d(I.subarray(I.pos),B,b);let m,C,w;switch(this.type){case Ee:w=E.length/4;const Q=new Float32Array(w*4);for(let D=0;D<w;D++)f(E,D*4,Q,D*4);m=Q,C=Ee;break;case ke:w=E.length/4;const y=new Uint16Array(w*4);for(let D=0;D<w;D++)p(E,D*4,y,D*4);m=y,C=ke;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:B,height:b,data:m,header:u.string,gamma:u.gamma,exposure:u.exposure,type:C}}setDataType(e){return this.type=e,this}load(e,A,s,t){function a(n,i){switch(n.type){case Ee:case ke:n.colorSpace=ie,n.minFilter=Ie,n.magFilter=Ie,n.generateMipmaps=!1,n.flipY=!0;break}A&&A(n,i)}return super.load(e,a,s,t)}}function Vn(l,e=!1){const A=l[0].index!==null,s=new Set(Object.keys(l[0].attributes)),t=new Set(Object.keys(l[0].morphAttributes)),a={},n={},i=l[0].morphTargetsRelative,r=new xe;let c=0;for(let g=0;g<l.length;++g){const o=l[g];let h=0;if(A!==(o.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+g+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const d in o.attributes){if(!s.has(d))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+g+'. All geometries must have compatible attributes; make sure "'+d+'" attribute exists among all geometries, or in none of them.'),null;a[d]===void 0&&(a[d]=[]),a[d].push(o.attributes[d]),h++}if(h!==s.size)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+g+". Make sure all geometries have the same number of attributes."),null;if(i!==o.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+g+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const d in o.morphAttributes){if(!t.has(d))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+g+".  .morphAttributes must be consistent throughout all geometries."),null;n[d]===void 0&&(n[d]=[]),n[d].push(o.morphAttributes[d])}if(e){let d;if(A)d=o.index.count;else if(o.attributes.position!==void 0)d=o.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+g+". The geometry must have either an index or a position attribute"),null;r.addGroup(c,d,g),c+=d}}if(A){let g=0;const o=[];for(let h=0;h<l.length;++h){const d=l[h].index;for(let f=0;f<d.count;++f)o.push(d.getX(f)+g);g+=l[h].attributes.position.count}r.setIndex(o)}for(const g in a){const o=et(a[g]);if(!o)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+g+" attribute."),null;r.setAttribute(g,o)}for(const g in n){const o=n[g][0].length;if(o===0)break;r.morphAttributes=r.morphAttributes||{},r.morphAttributes[g]=[];for(let h=0;h<o;++h){const d=[];for(let p=0;p<n[g].length;++p)d.push(n[g][p][h]);const f=et(d);if(!f)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+g+" morphAttribute."),null;r.morphAttributes[g].push(f)}}return r}function et(l){let e,A,s,t=-1,a=0;for(let c=0;c<l.length;++c){const g=l[c];if(e===void 0&&(e=g.array.constructor),e!==g.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(A===void 0&&(A=g.itemSize),A!==g.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(s===void 0&&(s=g.normalized),s!==g.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if(t===-1&&(t=g.gpuType),t!==g.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;a+=g.count*A}const n=new e(a),i=new Pe(n,A,s);let r=0;for(let c=0;c<l.length;++c){const g=l[c];if(g.isInterleavedBufferAttribute){const o=r/A;for(let h=0,d=g.count;h<d;h++)for(let f=0;f<A;f++){const p=g.getComponent(h,f);i.setComponent(h+o,f,p)}}else n.set(g.array,r);r+=g.count*A}return t!==void 0&&(i.gpuType=t),i}function At(l,e){if(e===rs)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),l;if(e===xA||e===dt){let A=l.getIndex();if(A===null){const n=[],i=l.getAttribute("position");if(i!==void 0){for(let r=0;r<i.count;r++)n.push(r);l.setIndex(n),A=l.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),l}const s=A.count-2,t=[];if(e===xA)for(let n=1;n<=s;n++)t.push(A.getX(0)),t.push(A.getX(n)),t.push(A.getX(n+1));else for(let n=0;n<s;n++)n%2===0?(t.push(A.getX(n)),t.push(A.getX(n+1)),t.push(A.getX(n+2))):(t.push(A.getX(n+2)),t.push(A.getX(n+1)),t.push(A.getX(n)));t.length/3!==s&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=l.clone();return a.setIndex(t),a.clearGroups(),a}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),l}class ia extends ge{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(A){return new la(A)}),this.register(function(A){return new ha(A)}),this.register(function(A){return new Ca(A)}),this.register(function(A){return new Qa(A)}),this.register(function(A){return new ma(A)}),this.register(function(A){return new fa(A)}),this.register(function(A){return new Ia(A)}),this.register(function(A){return new pa(A)}),this.register(function(A){return new ua(A)}),this.register(function(A){return new ga(A)}),this.register(function(A){return new Ba(A)}),this.register(function(A){return new da(A)}),this.register(function(A){return new Ea(A)}),this.register(function(A){return new ba(A)}),this.register(function(A){return new oa(A)}),this.register(function(A){return new wa(A)}),this.register(function(A){return new ya(A)})}load(e,A,s,t){const a=this;let n;if(this.resourcePath!=="")n=this.resourcePath;else if(this.path!==""){const c=Me.extractUrlBase(e);n=Me.resolveURL(c,this.path)}else n=Me.extractUrlBase(e);this.manager.itemStart(e);const i=function(c){t?t(c):console.error(c),a.manager.itemError(e),a.manager.itemEnd(e)},r=new ne(this.manager);r.setPath(this.path),r.setResponseType("arraybuffer"),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(e,function(c){try{a.parse(c,n,function(g){A(g),a.manager.itemEnd(e)},i)}catch(g){i(g)}},s,i)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,A,s,t){let a;const n={},i={},r=new TextDecoder;if(typeof e=="string")a=JSON.parse(e);else if(e instanceof ArrayBuffer)if(r.decode(new Uint8Array(e,0,4))===Rt){try{n[T.KHR_BINARY_GLTF]=new Da(e)}catch(o){t&&t(o);return}a=JSON.parse(n[T.KHR_BINARY_GLTF].content)}else a=JSON.parse(r.decode(e));else a=e;if(a.asset===void 0||a.asset.version[0]<2){t&&t(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new Na(a,{path:A||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let g=0;g<this.pluginCallbacks.length;g++){const o=this.pluginCallbacks[g](c);o.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),i[o.name]=o,n[o.name]=!0}if(a.extensionsUsed)for(let g=0;g<a.extensionsUsed.length;++g){const o=a.extensionsUsed[g],h=a.extensionsRequired||[];switch(o){case T.KHR_MATERIALS_UNLIT:n[o]=new ca;break;case T.KHR_DRACO_MESH_COMPRESSION:n[o]=new Ra(a,this.dracoLoader);break;case T.KHR_TEXTURE_TRANSFORM:n[o]=new Fa;break;case T.KHR_MESH_QUANTIZATION:n[o]=new ka;break;default:h.indexOf(o)>=0&&i[o]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+o+'".')}}c.setExtensions(n),c.setPlugins(i),c.parse(s,t)}parseAsync(e,A){const s=this;return new Promise(function(t,a){s.parse(e,A,t,a)})}}function ra(){let l={};return{get:function(e){return l[e]},add:function(e,A){l[e]=A},remove:function(e){delete l[e]},removeAll:function(){l={}}}}const T={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class oa{constructor(e){this.parser=e,this.name=T.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,A=this.parser.json.nodes||[];for(let s=0,t=A.length;s<t;s++){const a=A[s];a.extensions&&a.extensions[this.name]&&a.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}_loadLight(e){const A=this.parser,s="light:"+e;let t=A.cache.get(s);if(t)return t;const a=A.json,r=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e];let c;const g=new j(16777215);r.color!==void 0&&g.setRGB(r.color[0],r.color[1],r.color[2],ie);const o=r.range!==void 0?r.range:0;switch(r.type){case"directional":c=new It(g),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new TA(g),c.distance=o;break;case"spot":c=new ft(g),c.distance=o,r.spot=r.spot||{},r.spot.innerConeAngle=r.spot.innerConeAngle!==void 0?r.spot.innerConeAngle:0,r.spot.outerConeAngle=r.spot.outerConeAngle!==void 0?r.spot.outerConeAngle:Math.PI/4,c.angle=r.spot.outerConeAngle,c.penumbra=1-r.spot.innerConeAngle/r.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+r.type)}return c.position.set(0,0,0),c.decay=2,be(c,r),r.intensity!==void 0&&(c.intensity=r.intensity),c.name=A.createUniqueName(r.name||"light_"+e),t=Promise.resolve(c),A.cache.add(s,t),t}getDependency(e,A){if(e==="light")return this._loadLight(A)}createNodeAttachment(e){const A=this,s=this.parser,a=s.json.nodes[e],i=(a.extensions&&a.extensions[this.name]||{}).light;return i===void 0?null:this._loadLight(i).then(function(r){return s._getNodeRef(A.cache,i,r)})}}class ca{constructor(){this.name=T.KHR_MATERIALS_UNLIT}getMaterialType(){return Je}extendParams(e,A,s){const t=[];e.color=new j(1,1,1),e.opacity=1;const a=A.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){const n=a.baseColorFactor;e.color.setRGB(n[0],n[1],n[2],ie),e.opacity=n[3]}a.baseColorTexture!==void 0&&t.push(s.assignTexture(e,"map",a.baseColorTexture,$))}return Promise.all(t)}}class ga{constructor(e){this.parser=e,this.name=T.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,A){const t=this.parser.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();const a=t.extensions[this.name].emissiveStrength;return a!==void 0&&(A.emissiveIntensity=a),Promise.resolve()}}class la{constructor(e){this.parser=e,this.name=T.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:pe}extendMaterialParams(e,A){const s=this.parser,t=s.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();const a=[],n=t.extensions[this.name];if(n.clearcoatFactor!==void 0&&(A.clearcoat=n.clearcoatFactor),n.clearcoatTexture!==void 0&&a.push(s.assignTexture(A,"clearcoatMap",n.clearcoatTexture)),n.clearcoatRoughnessFactor!==void 0&&(A.clearcoatRoughness=n.clearcoatRoughnessFactor),n.clearcoatRoughnessTexture!==void 0&&a.push(s.assignTexture(A,"clearcoatRoughnessMap",n.clearcoatRoughnessTexture)),n.clearcoatNormalTexture!==void 0&&(a.push(s.assignTexture(A,"clearcoatNormalMap",n.clearcoatNormalTexture)),n.clearcoatNormalTexture.scale!==void 0)){const i=n.clearcoatNormalTexture.scale;A.clearcoatNormalScale=new sA(i,i)}return Promise.all(a)}}class ha{constructor(e){this.parser=e,this.name=T.KHR_MATERIALS_DISPERSION}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:pe}extendMaterialParams(e,A){const t=this.parser.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();const a=t.extensions[this.name];return A.dispersion=a.dispersion!==void 0?a.dispersion:0,Promise.resolve()}}class da{constructor(e){this.parser=e,this.name=T.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:pe}extendMaterialParams(e,A){const s=this.parser,t=s.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();const a=[],n=t.extensions[this.name];return n.iridescenceFactor!==void 0&&(A.iridescence=n.iridescenceFactor),n.iridescenceTexture!==void 0&&a.push(s.assignTexture(A,"iridescenceMap",n.iridescenceTexture)),n.iridescenceIor!==void 0&&(A.iridescenceIOR=n.iridescenceIor),A.iridescenceThicknessRange===void 0&&(A.iridescenceThicknessRange=[100,400]),n.iridescenceThicknessMinimum!==void 0&&(A.iridescenceThicknessRange[0]=n.iridescenceThicknessMinimum),n.iridescenceThicknessMaximum!==void 0&&(A.iridescenceThicknessRange[1]=n.iridescenceThicknessMaximum),n.iridescenceThicknessTexture!==void 0&&a.push(s.assignTexture(A,"iridescenceThicknessMap",n.iridescenceThicknessTexture)),Promise.all(a)}}class fa{constructor(e){this.parser=e,this.name=T.KHR_MATERIALS_SHEEN}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:pe}extendMaterialParams(e,A){const s=this.parser,t=s.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();const a=[];A.sheenColor=new j(0,0,0),A.sheenRoughness=0,A.sheen=1;const n=t.extensions[this.name];if(n.sheenColorFactor!==void 0){const i=n.sheenColorFactor;A.sheenColor.setRGB(i[0],i[1],i[2],ie)}return n.sheenRoughnessFactor!==void 0&&(A.sheenRoughness=n.sheenRoughnessFactor),n.sheenColorTexture!==void 0&&a.push(s.assignTexture(A,"sheenColorMap",n.sheenColorTexture,$)),n.sheenRoughnessTexture!==void 0&&a.push(s.assignTexture(A,"sheenRoughnessMap",n.sheenRoughnessTexture)),Promise.all(a)}}class Ia{constructor(e){this.parser=e,this.name=T.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:pe}extendMaterialParams(e,A){const s=this.parser,t=s.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();const a=[],n=t.extensions[this.name];return n.transmissionFactor!==void 0&&(A.transmission=n.transmissionFactor),n.transmissionTexture!==void 0&&a.push(s.assignTexture(A,"transmissionMap",n.transmissionTexture)),Promise.all(a)}}class pa{constructor(e){this.parser=e,this.name=T.KHR_MATERIALS_VOLUME}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:pe}extendMaterialParams(e,A){const s=this.parser,t=s.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();const a=[],n=t.extensions[this.name];A.thickness=n.thicknessFactor!==void 0?n.thicknessFactor:0,n.thicknessTexture!==void 0&&a.push(s.assignTexture(A,"thicknessMap",n.thicknessTexture)),A.attenuationDistance=n.attenuationDistance||1/0;const i=n.attenuationColor||[1,1,1];return A.attenuationColor=new j().setRGB(i[0],i[1],i[2],ie),Promise.all(a)}}class ua{constructor(e){this.parser=e,this.name=T.KHR_MATERIALS_IOR}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:pe}extendMaterialParams(e,A){const t=this.parser.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();const a=t.extensions[this.name];return A.ior=a.ior!==void 0?a.ior:1.5,Promise.resolve()}}class Ba{constructor(e){this.parser=e,this.name=T.KHR_MATERIALS_SPECULAR}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:pe}extendMaterialParams(e,A){const s=this.parser,t=s.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();const a=[],n=t.extensions[this.name];A.specularIntensity=n.specularFactor!==void 0?n.specularFactor:1,n.specularTexture!==void 0&&a.push(s.assignTexture(A,"specularIntensityMap",n.specularTexture));const i=n.specularColorFactor||[1,1,1];return A.specularColor=new j().setRGB(i[0],i[1],i[2],ie),n.specularColorTexture!==void 0&&a.push(s.assignTexture(A,"specularColorMap",n.specularColorTexture,$)),Promise.all(a)}}class ba{constructor(e){this.parser=e,this.name=T.EXT_MATERIALS_BUMP}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:pe}extendMaterialParams(e,A){const s=this.parser,t=s.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();const a=[],n=t.extensions[this.name];return A.bumpScale=n.bumpFactor!==void 0?n.bumpFactor:1,n.bumpTexture!==void 0&&a.push(s.assignTexture(A,"bumpMap",n.bumpTexture)),Promise.all(a)}}class Ea{constructor(e){this.parser=e,this.name=T.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:pe}extendMaterialParams(e,A){const s=this.parser,t=s.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();const a=[],n=t.extensions[this.name];return n.anisotropyStrength!==void 0&&(A.anisotropy=n.anisotropyStrength),n.anisotropyRotation!==void 0&&(A.anisotropyRotation=n.anisotropyRotation),n.anisotropyTexture!==void 0&&a.push(s.assignTexture(A,"anisotropyMap",n.anisotropyTexture)),Promise.all(a)}}class Ca{constructor(e){this.parser=e,this.name=T.KHR_TEXTURE_BASISU}loadTexture(e){const A=this.parser,s=A.json,t=s.textures[e];if(!t.extensions||!t.extensions[this.name])return null;const a=t.extensions[this.name],n=A.options.ktx2Loader;if(!n){if(s.extensionsRequired&&s.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return A.loadTextureImage(e,a.source,n)}}class Qa{constructor(e){this.parser=e,this.name=T.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const A=this.name,s=this.parser,t=s.json,a=t.textures[e];if(!a.extensions||!a.extensions[A])return null;const n=a.extensions[A],i=t.images[n.source];let r=s.textureLoader;if(i.uri){const c=s.options.manager.getHandler(i.uri);c!==null&&(r=c)}return this.detectSupport().then(function(c){if(c)return s.loadTextureImage(e,n.source,r);if(t.extensionsRequired&&t.extensionsRequired.indexOf(A)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return s.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const A=new Image;A.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",A.onload=A.onerror=function(){e(A.height===1)}})),this.isSupported}}class ma{constructor(e){this.parser=e,this.name=T.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const A=this.name,s=this.parser,t=s.json,a=t.textures[e];if(!a.extensions||!a.extensions[A])return null;const n=a.extensions[A],i=t.images[n.source];let r=s.textureLoader;if(i.uri){const c=s.options.manager.getHandler(i.uri);c!==null&&(r=c)}return this.detectSupport().then(function(c){if(c)return s.loadTextureImage(e,n.source,r);if(t.extensionsRequired&&t.extensionsRequired.indexOf(A)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return s.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const A=new Image;A.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",A.onload=A.onerror=function(){e(A.height===1)}})),this.isSupported}}class wa{constructor(e){this.name=T.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const A=this.parser.json,s=A.bufferViews[e];if(s.extensions&&s.extensions[this.name]){const t=s.extensions[this.name],a=this.parser.getDependency("buffer",t.buffer),n=this.parser.options.meshoptDecoder;if(!n||!n.supported){if(A.extensionsRequired&&A.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return a.then(function(i){const r=t.byteOffset||0,c=t.byteLength||0,g=t.count,o=t.byteStride,h=new Uint8Array(i,r,c);return n.decodeGltfBufferAsync?n.decodeGltfBufferAsync(g,o,h,t.mode,t.filter).then(function(d){return d.buffer}):n.ready.then(function(){const d=new ArrayBuffer(g*o);return n.decodeGltfBuffer(new Uint8Array(d),g,o,h,t.mode,t.filter),d})})}else return null}}class ya{constructor(e){this.name=T.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const A=this.parser.json,s=A.nodes[e];if(!s.extensions||!s.extensions[this.name]||s.mesh===void 0)return null;const t=A.meshes[s.mesh];for(const c of t.primitives)if(c.mode!==te.TRIANGLES&&c.mode!==te.TRIANGLE_STRIP&&c.mode!==te.TRIANGLE_FAN&&c.mode!==void 0)return null;const n=s.extensions[this.name].attributes,i=[],r={};for(const c in n)i.push(this.parser.getDependency("accessor",n[c]).then(g=>(r[c]=g,r[c])));return i.length<1?null:(i.push(this.parser.createNodeMesh(e)),Promise.all(i).then(c=>{const g=c.pop(),o=g.isGroup?g.children:[g],h=c[0].count,d=[];for(const f of o){const p=new U,I=new N,u=new he,B=new N(1,1,1),b=new os(f.geometry,f.material,h);for(let E=0;E<h;E++)r.TRANSLATION&&I.fromBufferAttribute(r.TRANSLATION,E),r.ROTATION&&u.fromBufferAttribute(r.ROTATION,E),r.SCALE&&B.fromBufferAttribute(r.SCALE,E),b.setMatrixAt(E,p.compose(I,u,B));for(const E in r)if(E==="_COLOR_0"){const m=r[E];b.instanceColor=new cs(m.array,m.itemSize,m.normalized)}else E!=="TRANSLATION"&&E!=="ROTATION"&&E!=="SCALE"&&f.geometry.setAttribute(E,r[E]);AA.prototype.copy.call(b,f),this.parser.assignFinalMaterial(b),d.push(b)}return g.isGroup?(g.clear(),g.add(...d),g):d[0]}))}}const Rt="glTF",qe=12,tt={JSON:1313821514,BIN:5130562};class Da{constructor(e){this.name=T.KHR_BINARY_GLTF,this.content=null,this.body=null;const A=new DataView(e,0,qe),s=new TextDecoder;if(this.header={magic:s.decode(new Uint8Array(e.slice(0,4))),version:A.getUint32(4,!0),length:A.getUint32(8,!0)},this.header.magic!==Rt)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const t=this.header.length-qe,a=new DataView(e,qe);let n=0;for(;n<t;){const i=a.getUint32(n,!0);n+=4;const r=a.getUint32(n,!0);if(n+=4,r===tt.JSON){const c=new Uint8Array(e,qe+n,i);this.content=s.decode(c)}else if(r===tt.BIN){const c=qe+n;this.body=e.slice(c,c+i)}n+=i}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Ra{constructor(e,A){if(!A)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=T.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=A,this.dracoLoader.preload()}decodePrimitive(e,A){const s=this.json,t=this.dracoLoader,a=e.extensions[this.name].bufferView,n=e.extensions[this.name].attributes,i={},r={},c={};for(const g in n){const o=UA[g]||g.toLowerCase();i[o]=n[g]}for(const g in e.attributes){const o=UA[g]||g.toLowerCase();if(n[g]!==void 0){const h=s.accessors[e.attributes[g]],d=Oe[h.componentType];c[o]=d.name,r[o]=h.normalized===!0}}return A.getDependency("bufferView",a).then(function(g){return new Promise(function(o,h){t.decodeDracoFile(g,function(d){for(const f in d.attributes){const p=d.attributes[f],I=r[f];I!==void 0&&(p.normalized=I)}o(d)},i,c,ie,h)})})}}class Fa{constructor(){this.name=T.KHR_TEXTURE_TRANSFORM}extendTexture(e,A){return(A.texCoord===void 0||A.texCoord===e.channel)&&A.offset===void 0&&A.rotation===void 0&&A.scale===void 0||(e=e.clone(),A.texCoord!==void 0&&(e.channel=A.texCoord),A.offset!==void 0&&e.offset.fromArray(A.offset),A.rotation!==void 0&&(e.rotation=A.rotation),A.scale!==void 0&&e.repeat.fromArray(A.scale),e.needsUpdate=!0),e}}class ka{constructor(){this.name=T.KHR_MESH_QUANTIZATION}}class Ft extends ms{constructor(e,A,s,t){super(e,A,s,t)}copySampleValue_(e){const A=this.resultBuffer,s=this.sampleValues,t=this.valueSize,a=e*t*3+t;for(let n=0;n!==t;n++)A[n]=s[a+n];return A}interpolate_(e,A,s,t){const a=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=i*2,c=i*3,g=t-A,o=(s-A)/g,h=o*o,d=h*o,f=e*c,p=f-c,I=-2*d+3*h,u=d-h,B=1-I,b=u-h+o;for(let E=0;E!==i;E++){const m=n[p+E+i],C=n[p+E+r]*g,w=n[f+E+i],Q=n[f+E]*g;a[E]=B*m+b*C+I*w+u*Q}return a}}const Sa=new he;class xa extends Ft{interpolate_(e,A,s,t){const a=super.interpolate_(e,A,s,t);return Sa.fromArray(a).normalize().toArray(a),a}}const te={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Oe={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},st={9728:Is,9729:Ie,9984:ps,9985:us,9986:Bs,9987:HA},at={33071:Ce,33648:bs,10497:He},IA={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},UA={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Re={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Ta={CUBICSPLINE:void 0,LINEAR:mt,STEP:Es},pA={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function La(l){return l.DefaultMaterial===void 0&&(l.DefaultMaterial=new pt({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:ht})),l.DefaultMaterial}function Ge(l,e,A){for(const s in A.extensions)l[s]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[s]=A.extensions[s])}function be(l,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(l.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Ga(l,e,A){let s=!1,t=!1,a=!1;for(let c=0,g=e.length;c<g;c++){const o=e[c];if(o.POSITION!==void 0&&(s=!0),o.NORMAL!==void 0&&(t=!0),o.COLOR_0!==void 0&&(a=!0),s&&t&&a)break}if(!s&&!t&&!a)return Promise.resolve(l);const n=[],i=[],r=[];for(let c=0,g=e.length;c<g;c++){const o=e[c];if(s){const h=o.POSITION!==void 0?A.getDependency("accessor",o.POSITION):l.attributes.position;n.push(h)}if(t){const h=o.NORMAL!==void 0?A.getDependency("accessor",o.NORMAL):l.attributes.normal;i.push(h)}if(a){const h=o.COLOR_0!==void 0?A.getDependency("accessor",o.COLOR_0):l.attributes.color;r.push(h)}}return Promise.all([Promise.all(n),Promise.all(i),Promise.all(r)]).then(function(c){const g=c[0],o=c[1],h=c[2];return s&&(l.morphAttributes.position=g),t&&(l.morphAttributes.normal=o),a&&(l.morphAttributes.color=h),l.morphTargetsRelative=!0,l})}function Ma(l,e){if(l.updateMorphTargets(),e.weights!==void 0)for(let A=0,s=e.weights.length;A<s;A++)l.morphTargetInfluences[A]=e.weights[A];if(e.extras&&Array.isArray(e.extras.targetNames)){const A=e.extras.targetNames;if(l.morphTargetInfluences.length===A.length){l.morphTargetDictionary={};for(let s=0,t=A.length;s<t;s++)l.morphTargetDictionary[A[s]]=s}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function va(l){let e;const A=l.extensions&&l.extensions[T.KHR_DRACO_MESH_COMPRESSION];if(A?e="draco:"+A.bufferView+":"+A.indices+":"+uA(A.attributes):e=l.indices+":"+uA(l.attributes)+":"+l.mode,l.targets!==void 0)for(let s=0,t=l.targets.length;s<t;s++)e+=":"+uA(l.targets[s]);return e}function uA(l){let e="";const A=Object.keys(l).sort();for(let s=0,t=A.length;s<t;s++)e+=A[s]+":"+l[A[s]]+";";return e}function _A(l){switch(l){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Ua(l){return l.search(/\.jpe?g($|\?)/i)>0||l.search(/^data\:image\/jpeg/)===0?"image/jpeg":l.search(/\.webp($|\?)/i)>0||l.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const _a=new U;class Na{constructor(e={},A={}){this.json=e,this.extensions={},this.plugins={},this.options=A,this.cache=new ra,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let s=!1,t=-1,a=!1,n=-1;if(typeof navigator!="undefined"){const i=navigator.userAgent;s=/^((?!chrome|android).)*safari/i.test(i)===!0;const r=i.match(/Version\/(\d+)/);t=s&&r?parseInt(r[1],10):-1,a=i.indexOf("Firefox")>-1,n=a?i.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap=="undefined"||s&&t<17||a&&n<98?this.textureLoader=new OA(this.options.manager):this.textureLoader=new gs(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ne(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,A){const s=this,t=this.json,a=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(n){return n._markDefs&&n._markDefs()}),Promise.all(this._invokeAll(function(n){return n.beforeRoot&&n.beforeRoot()})).then(function(){return Promise.all([s.getDependencies("scene"),s.getDependencies("animation"),s.getDependencies("camera")])}).then(function(n){const i={scene:n[0][t.scene||0],scenes:n[0],animations:n[1],cameras:n[2],asset:t.asset,parser:s,userData:{}};return Ge(a,i,t),be(i,t),Promise.all(s._invokeAll(function(r){return r.afterRoot&&r.afterRoot(i)})).then(function(){for(const r of i.scenes)r.updateMatrixWorld();e(i)})}).catch(A)}_markDefs(){const e=this.json.nodes||[],A=this.json.skins||[],s=this.json.meshes||[];for(let t=0,a=A.length;t<a;t++){const n=A[t].joints;for(let i=0,r=n.length;i<r;i++)e[n[i]].isBone=!0}for(let t=0,a=e.length;t<a;t++){const n=e[t];n.mesh!==void 0&&(this._addNodeRef(this.meshCache,n.mesh),n.skin!==void 0&&(s[n.mesh].isSkinnedMesh=!0)),n.camera!==void 0&&this._addNodeRef(this.cameraCache,n.camera)}}_addNodeRef(e,A){A!==void 0&&(e.refs[A]===void 0&&(e.refs[A]=e.uses[A]=0),e.refs[A]++)}_getNodeRef(e,A,s){if(e.refs[A]<=1)return s;const t=s.clone(),a=(n,i)=>{const r=this.associations.get(n);r!=null&&this.associations.set(i,r);for(const[c,g]of n.children.entries())a(g,i.children[c])};return a(s,t),t.name+="_instance_"+e.uses[A]++,t}_invokeOne(e){const A=Object.values(this.plugins);A.push(this);for(let s=0;s<A.length;s++){const t=e(A[s]);if(t)return t}return null}_invokeAll(e){const A=Object.values(this.plugins);A.unshift(this);const s=[];for(let t=0;t<A.length;t++){const a=e(A[t]);a&&s.push(a)}return s}getDependency(e,A){const s=e+":"+A;let t=this.cache.get(s);if(!t){switch(e){case"scene":t=this.loadScene(A);break;case"node":t=this._invokeOne(function(a){return a.loadNode&&a.loadNode(A)});break;case"mesh":t=this._invokeOne(function(a){return a.loadMesh&&a.loadMesh(A)});break;case"accessor":t=this.loadAccessor(A);break;case"bufferView":t=this._invokeOne(function(a){return a.loadBufferView&&a.loadBufferView(A)});break;case"buffer":t=this.loadBuffer(A);break;case"material":t=this._invokeOne(function(a){return a.loadMaterial&&a.loadMaterial(A)});break;case"texture":t=this._invokeOne(function(a){return a.loadTexture&&a.loadTexture(A)});break;case"skin":t=this.loadSkin(A);break;case"animation":t=this._invokeOne(function(a){return a.loadAnimation&&a.loadAnimation(A)});break;case"camera":t=this.loadCamera(A);break;default:if(t=this._invokeOne(function(a){return a!=this&&a.getDependency&&a.getDependency(e,A)}),!t)throw new Error("Unknown type: "+e);break}this.cache.add(s,t)}return t}getDependencies(e){let A=this.cache.get(e);if(!A){const s=this,t=this.json[e+(e==="mesh"?"es":"s")]||[];A=Promise.all(t.map(function(a,n){return s.getDependency(e,n)})),this.cache.add(e,A)}return A}loadBuffer(e){const A=this.json.buffers[e],s=this.fileLoader;if(A.type&&A.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+A.type+" buffer type is not supported.");if(A.uri===void 0&&e===0)return Promise.resolve(this.extensions[T.KHR_BINARY_GLTF].body);const t=this.options;return new Promise(function(a,n){s.load(Me.resolveURL(A.uri,t.path),a,void 0,function(){n(new Error('THREE.GLTFLoader: Failed to load buffer "'+A.uri+'".'))})})}loadBufferView(e){const A=this.json.bufferViews[e];return this.getDependency("buffer",A.buffer).then(function(s){const t=A.byteLength||0,a=A.byteOffset||0;return s.slice(a,a+t)})}loadAccessor(e){const A=this,s=this.json,t=this.json.accessors[e];if(t.bufferView===void 0&&t.sparse===void 0){const n=IA[t.type],i=Oe[t.componentType],r=t.normalized===!0,c=new i(t.count*n);return Promise.resolve(new Pe(c,n,r))}const a=[];return t.bufferView!==void 0?a.push(this.getDependency("bufferView",t.bufferView)):a.push(null),t.sparse!==void 0&&(a.push(this.getDependency("bufferView",t.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",t.sparse.values.bufferView))),Promise.all(a).then(function(n){const i=n[0],r=IA[t.type],c=Oe[t.componentType],g=c.BYTES_PER_ELEMENT,o=g*r,h=t.byteOffset||0,d=t.bufferView!==void 0?s.bufferViews[t.bufferView].byteStride:void 0,f=t.normalized===!0;let p,I;if(d&&d!==o){const u=Math.floor(h/d),B="InterleavedBuffer:"+t.bufferView+":"+t.componentType+":"+u+":"+t.count;let b=A.cache.get(B);b||(p=new c(i,u*d,t.count*d/g),b=new ls(p,d/g),A.cache.add(B,b)),I=new hs(b,r,h%d/g,f)}else i===null?p=new c(t.count*r):p=new c(i,h,t.count*r),I=new Pe(p,r,f);if(t.sparse!==void 0){const u=IA.SCALAR,B=Oe[t.sparse.indices.componentType],b=t.sparse.indices.byteOffset||0,E=t.sparse.values.byteOffset||0,m=new B(n[1],b,t.sparse.count*u),C=new c(n[2],E,t.sparse.count*r);i!==null&&(I=new Pe(I.array.slice(),I.itemSize,I.normalized));for(let w=0,Q=m.length;w<Q;w++){const y=m[w];if(I.setX(y,C[w*r]),r>=2&&I.setY(y,C[w*r+1]),r>=3&&I.setZ(y,C[w*r+2]),r>=4&&I.setW(y,C[w*r+3]),r>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return I})}loadTexture(e){const A=this.json,s=this.options,a=A.textures[e].source,n=A.images[a];let i=this.textureLoader;if(n.uri){const r=s.manager.getHandler(n.uri);r!==null&&(i=r)}return this.loadTextureImage(e,a,i)}loadTextureImage(e,A,s){const t=this,a=this.json,n=a.textures[e],i=a.images[A],r=(i.uri||i.bufferView)+":"+n.sampler;if(this.textureCache[r])return this.textureCache[r];const c=this.loadImageSource(A,s).then(function(g){g.flipY=!1,g.name=n.name||i.name||"",g.name===""&&typeof i.uri=="string"&&i.uri.startsWith("data:image/")===!1&&(g.name=i.uri);const h=(a.samplers||{})[n.sampler]||{};return g.magFilter=st[h.magFilter]||Ie,g.minFilter=st[h.minFilter]||HA,g.wrapS=at[h.wrapS]||He,g.wrapT=at[h.wrapT]||He,t.associations.set(g,{textures:e}),g}).catch(function(){return null});return this.textureCache[r]=c,c}loadImageSource(e,A){const s=this,t=this.json,a=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(o=>o.clone());const n=t.images[e],i=self.URL||self.webkitURL;let r=n.uri||"",c=!1;if(n.bufferView!==void 0)r=s.getDependency("bufferView",n.bufferView).then(function(o){c=!0;const h=new Blob([o],{type:n.mimeType});return r=i.createObjectURL(h),r});else if(n.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const g=Promise.resolve(r).then(function(o){return new Promise(function(h,d){let f=h;A.isImageBitmapLoader===!0&&(f=function(p){const I=new GA(p);I.needsUpdate=!0,h(I)}),A.load(Me.resolveURL(o,a.path),f,void 0,d)})}).then(function(o){return c===!0&&i.revokeObjectURL(r),be(o,n),o.userData.mimeType=n.mimeType||Ua(n.uri),o}).catch(function(o){throw console.error("THREE.GLTFLoader: Couldn't load texture",r),o});return this.sourceCache[e]=g,g}assignTexture(e,A,s,t){const a=this;return this.getDependency("texture",s.index).then(function(n){if(!n)return null;if(s.texCoord!==void 0&&s.texCoord>0&&(n=n.clone(),n.channel=s.texCoord),a.extensions[T.KHR_TEXTURE_TRANSFORM]){const i=s.extensions!==void 0?s.extensions[T.KHR_TEXTURE_TRANSFORM]:void 0;if(i){const r=a.associations.get(n);n=a.extensions[T.KHR_TEXTURE_TRANSFORM].extendTexture(n,i),a.associations.set(n,r)}}return t!==void 0&&(n.colorSpace=t),e[A]=n,n})}assignFinalMaterial(e){const A=e.geometry;let s=e.material;const t=A.attributes.tangent===void 0,a=A.attributes.color!==void 0,n=A.attributes.normal===void 0;if(e.isPoints){const i="PointsMaterial:"+s.uuid;let r=this.cache.get(i);r||(r=new Ke,$e.prototype.copy.call(r,s),r.color.copy(s.color),r.map=s.map,r.sizeAttenuation=!1,this.cache.add(i,r)),s=r}else if(e.isLine){const i="LineBasicMaterial:"+s.uuid;let r=this.cache.get(i);r||(r=new Ze,$e.prototype.copy.call(r,s),r.color.copy(s.color),r.map=s.map,this.cache.add(i,r)),s=r}if(t||a||n){let i="ClonedMaterial:"+s.uuid+":";t&&(i+="derivative-tangents:"),a&&(i+="vertex-colors:"),n&&(i+="flat-shading:");let r=this.cache.get(i);r||(r=s.clone(),a&&(r.vertexColors=!0),n&&(r.flatShading=!0),t&&(r.normalScale&&(r.normalScale.y*=-1),r.clearcoatNormalScale&&(r.clearcoatNormalScale.y*=-1)),this.cache.add(i,r),this.associations.set(r,this.associations.get(s))),s=r}e.material=s}getMaterialType(){return pt}loadMaterial(e){const A=this,s=this.json,t=this.extensions,a=s.materials[e];let n;const i={},r=a.extensions||{},c=[];if(r[T.KHR_MATERIALS_UNLIT]){const o=t[T.KHR_MATERIALS_UNLIT];n=o.getMaterialType(),c.push(o.extendParams(i,a,A))}else{const o=a.pbrMetallicRoughness||{};if(i.color=new j(1,1,1),i.opacity=1,Array.isArray(o.baseColorFactor)){const h=o.baseColorFactor;i.color.setRGB(h[0],h[1],h[2],ie),i.opacity=h[3]}o.baseColorTexture!==void 0&&c.push(A.assignTexture(i,"map",o.baseColorTexture,$)),i.metalness=o.metallicFactor!==void 0?o.metallicFactor:1,i.roughness=o.roughnessFactor!==void 0?o.roughnessFactor:1,o.metallicRoughnessTexture!==void 0&&(c.push(A.assignTexture(i,"metalnessMap",o.metallicRoughnessTexture)),c.push(A.assignTexture(i,"roughnessMap",o.metallicRoughnessTexture))),n=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,i)})))}a.doubleSided===!0&&(i.side=ds);const g=a.alphaMode||pA.OPAQUE;if(g===pA.BLEND?(i.transparent=!0,i.depthWrite=!1):(i.transparent=!1,g===pA.MASK&&(i.alphaTest=a.alphaCutoff!==void 0?a.alphaCutoff:.5)),a.normalTexture!==void 0&&n!==Je&&(c.push(A.assignTexture(i,"normalMap",a.normalTexture)),i.normalScale=new sA(1,1),a.normalTexture.scale!==void 0)){const o=a.normalTexture.scale;i.normalScale.set(o,o)}if(a.occlusionTexture!==void 0&&n!==Je&&(c.push(A.assignTexture(i,"aoMap",a.occlusionTexture)),a.occlusionTexture.strength!==void 0&&(i.aoMapIntensity=a.occlusionTexture.strength)),a.emissiveFactor!==void 0&&n!==Je){const o=a.emissiveFactor;i.emissive=new j().setRGB(o[0],o[1],o[2],ie)}return a.emissiveTexture!==void 0&&n!==Je&&c.push(A.assignTexture(i,"emissiveMap",a.emissiveTexture,$)),Promise.all(c).then(function(){const o=new n(i);return a.name&&(o.name=a.name),be(o,a),A.associations.set(o,{materials:e}),a.extensions&&Ge(t,o,a),o})}createUniqueName(e){const A=aA.sanitizeNodeName(e||"");return A in this.nodeNamesUsed?A+"_"+ ++this.nodeNamesUsed[A]:(this.nodeNamesUsed[A]=0,A)}loadGeometries(e){const A=this,s=this.extensions,t=this.primitiveCache;function a(i){return s[T.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(i,A).then(function(r){return nt(r,i,A)})}const n=[];for(let i=0,r=e.length;i<r;i++){const c=e[i],g=va(c),o=t[g];if(o)n.push(o.promise);else{let h;c.extensions&&c.extensions[T.KHR_DRACO_MESH_COMPRESSION]?h=a(c):h=nt(new xe,c,A),t[g]={primitive:c,promise:h},n.push(h)}}return Promise.all(n)}loadMesh(e){const A=this,s=this.json,t=this.extensions,a=s.meshes[e],n=a.primitives,i=[];for(let r=0,c=n.length;r<c;r++){const g=n[r].material===void 0?La(this.cache):this.getDependency("material",n[r].material);i.push(g)}return i.push(A.loadGeometries(n)),Promise.all(i).then(function(r){const c=r.slice(0,r.length-1),g=r[r.length-1],o=[];for(let d=0,f=g.length;d<f;d++){const p=g[d],I=n[d];let u;const B=c[d];if(I.mode===te.TRIANGLES||I.mode===te.TRIANGLE_STRIP||I.mode===te.TRIANGLE_FAN||I.mode===void 0)u=a.isSkinnedMesh===!0?new ut(p,B):new lA(p,B),u.isSkinnedMesh===!0&&u.normalizeSkinWeights(),I.mode===te.TRIANGLE_STRIP?u.geometry=At(u.geometry,dt):I.mode===te.TRIANGLE_FAN&&(u.geometry=At(u.geometry,xA));else if(I.mode===te.LINES)u=new SA(p,B);else if(I.mode===te.LINE_STRIP)u=new Bt(p,B);else if(I.mode===te.LINE_LOOP)u=new fs(p,B);else if(I.mode===te.POINTS)u=new gA(p,B);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+I.mode);Object.keys(u.geometry.morphAttributes).length>0&&Ma(u,a),u.name=A.createUniqueName(a.name||"mesh_"+e),be(u,a),I.extensions&&Ge(t,u,I),A.assignFinalMaterial(u),o.push(u)}for(let d=0,f=o.length;d<f;d++)A.associations.set(o[d],{meshes:e,primitives:d});if(o.length===1)return a.extensions&&Ge(t,o[0],a),o[0];const h=new Ne;a.extensions&&Ge(t,h,a),A.associations.set(h,{meshes:e});for(let d=0,f=o.length;d<f;d++)h.add(o[d]);return h})}loadCamera(e){let A;const s=this.json.cameras[e],t=s[s.type];if(!t){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return s.type==="perspective"?A=new bt(V.radToDeg(t.yfov),t.aspectRatio||1,t.znear||1,t.zfar||2e6):s.type==="orthographic"&&(A=new Et(-t.xmag,t.xmag,t.ymag,-t.ymag,t.znear,t.zfar)),s.name&&(A.name=this.createUniqueName(s.name)),be(A,s),Promise.resolve(A)}loadSkin(e){const A=this.json.skins[e],s=[];for(let t=0,a=A.joints.length;t<a;t++)s.push(this._loadNodeShallow(A.joints[t]));return A.inverseBindMatrices!==void 0?s.push(this.getDependency("accessor",A.inverseBindMatrices)):s.push(null),Promise.all(s).then(function(t){const a=t.pop(),n=t,i=[],r=[];for(let c=0,g=n.length;c<g;c++){const o=n[c];if(o){i.push(o);const h=new U;a!==null&&h.fromArray(a.array,c*16),r.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',A.joints[c])}return new Ct(i,r)})}loadAnimation(e){const A=this.json,s=this,t=A.animations[e],a=t.name?t.name:"animation_"+e,n=[],i=[],r=[],c=[],g=[];for(let o=0,h=t.channels.length;o<h;o++){const d=t.channels[o],f=t.samplers[d.sampler],p=d.target,I=p.node,u=t.parameters!==void 0?t.parameters[f.input]:f.input,B=t.parameters!==void 0?t.parameters[f.output]:f.output;p.node!==void 0&&(n.push(this.getDependency("node",I)),i.push(this.getDependency("accessor",u)),r.push(this.getDependency("accessor",B)),c.push(f),g.push(p))}return Promise.all([Promise.all(n),Promise.all(i),Promise.all(r),Promise.all(c),Promise.all(g)]).then(function(o){const h=o[0],d=o[1],f=o[2],p=o[3],I=o[4],u=[];for(let B=0,b=h.length;B<b;B++){const E=h[B],m=d[B],C=f[B],w=p[B],Q=I[B];if(E===void 0)continue;E.updateMatrix&&E.updateMatrix();const y=s._createAnimationTracks(E,m,C,w,Q);if(y)for(let D=0;D<y.length;D++)u.push(y[D])}return new Qt(a,void 0,u)})}createNodeMesh(e){const A=this.json,s=this,t=A.nodes[e];return t.mesh===void 0?null:s.getDependency("mesh",t.mesh).then(function(a){const n=s._getNodeRef(s.meshCache,t.mesh,a);return t.weights!==void 0&&n.traverse(function(i){if(!!i.isMesh)for(let r=0,c=t.weights.length;r<c;r++)i.morphTargetInfluences[r]=t.weights[r]}),n})}loadNode(e){const A=this.json,s=this,t=A.nodes[e],a=s._loadNodeShallow(e),n=[],i=t.children||[];for(let c=0,g=i.length;c<g;c++)n.push(s.getDependency("node",i[c]));const r=t.skin===void 0?Promise.resolve(null):s.getDependency("skin",t.skin);return Promise.all([a,Promise.all(n),r]).then(function(c){const g=c[0],o=c[1],h=c[2];h!==null&&g.traverse(function(d){!d.isSkinnedMesh||d.bind(h,_a)});for(let d=0,f=o.length;d<f;d++)g.add(o[d]);return g})}_loadNodeShallow(e){const A=this.json,s=this.extensions,t=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const a=A.nodes[e],n=a.name?t.createUniqueName(a.name):"",i=[],r=t._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return r&&i.push(r),a.camera!==void 0&&i.push(t.getDependency("camera",a.camera).then(function(c){return t._getNodeRef(t.cameraCache,a.camera,c)})),t._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){i.push(c)}),this.nodeCache[e]=Promise.all(i).then(function(c){let g;if(a.isBone===!0?g=new LA:c.length>1?g=new Ne:c.length===1?g=c[0]:g=new AA,g!==c[0])for(let o=0,h=c.length;o<h;o++)g.add(c[o]);if(a.name&&(g.userData.name=a.name,g.name=n),be(g,a),a.extensions&&Ge(s,g,a),a.matrix!==void 0){const o=new U;o.fromArray(a.matrix),g.applyMatrix4(o)}else a.translation!==void 0&&g.position.fromArray(a.translation),a.rotation!==void 0&&g.quaternion.fromArray(a.rotation),a.scale!==void 0&&g.scale.fromArray(a.scale);return t.associations.has(g)||t.associations.set(g,{}),t.associations.get(g).nodes=e,g}),this.nodeCache[e]}loadScene(e){const A=this.extensions,s=this.json.scenes[e],t=this,a=new Ne;s.name&&(a.name=t.createUniqueName(s.name)),be(a,s),s.extensions&&Ge(A,a,s);const n=s.nodes||[],i=[];for(let r=0,c=n.length;r<c;r++)i.push(t.getDependency("node",n[r]));return Promise.all(i).then(function(r){for(let g=0,o=r.length;g<o;g++)a.add(r[g]);const c=g=>{const o=new Map;for(const[h,d]of t.associations)(h instanceof $e||h instanceof GA)&&o.set(h,d);return g.traverse(h=>{const d=t.associations.get(h);d!=null&&o.set(h,d)}),o};return t.associations=c(a),a})}_createAnimationTracks(e,A,s,t,a){const n=[],i=e.name?e.name:e.uuid,r=[];Re[a.path]===Re.weights?e.traverse(function(h){h.morphTargetInfluences&&r.push(h.name?h.name:h.uuid)}):r.push(i);let c;switch(Re[a.path]){case Re.weights:c=vA;break;case Re.rotation:c=hA;break;case Re.position:case Re.scale:c=MA;break;default:switch(s.itemSize){case 1:c=vA;break;case 2:case 3:default:c=MA;break}break}const g=t.interpolation!==void 0?Ta[t.interpolation]:mt,o=this._getArrayFromAccessor(s);for(let h=0,d=r.length;h<d;h++){const f=new c(r[h]+"."+Re[a.path],A.array,o,g);t.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(f),n.push(f)}return n}_getArrayFromAccessor(e){let A=e.array;if(e.normalized){const s=_A(A.constructor),t=new Float32Array(A.length);for(let a=0,n=A.length;a<n;a++)t[a]=A[a]*s;A=t}return A}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(s){const t=this instanceof hA?xa:Ft;return new t(this.times,this.values,this.getValueSize()/3,s)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Pa(l,e,A){const s=e.attributes,t=new Cs;if(s.POSITION!==void 0){const i=A.json.accessors[s.POSITION],r=i.min,c=i.max;if(r!==void 0&&c!==void 0){if(t.set(new N(r[0],r[1],r[2]),new N(c[0],c[1],c[2])),i.normalized){const g=_A(Oe[i.componentType]);t.min.multiplyScalar(g),t.max.multiplyScalar(g)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const a=e.targets;if(a!==void 0){const i=new N,r=new N;for(let c=0,g=a.length;c<g;c++){const o=a[c];if(o.POSITION!==void 0){const h=A.json.accessors[o.POSITION],d=h.min,f=h.max;if(d!==void 0&&f!==void 0){if(r.setX(Math.max(Math.abs(d[0]),Math.abs(f[0]))),r.setY(Math.max(Math.abs(d[1]),Math.abs(f[1]))),r.setZ(Math.max(Math.abs(d[2]),Math.abs(f[2]))),h.normalized){const p=_A(Oe[h.componentType]);r.multiplyScalar(p)}i.max(r)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}t.expandByVector(i)}l.boundingBox=t;const n=new Qs;t.getCenter(n.center),n.radius=t.min.distanceTo(t.max)/2,l.boundingSphere=n}function nt(l,e,A){const s=e.attributes,t=[];function a(n,i){return A.getDependency("accessor",n).then(function(r){l.setAttribute(i,r)})}for(const n in s){const i=UA[n]||n.toLowerCase();i in l.attributes||t.push(a(s[n],i))}if(e.indices!==void 0&&!l.index){const n=A.getDependency("accessor",e.indices).then(function(i){l.setIndex(i)});t.push(n)}return JA.workingColorSpace!==ie&&"COLOR_0"in s&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${JA.workingColorSpace}" not supported.`),be(l,e),Pa(l,e,A),Promise.all(t).then(function(){return e.targets!==void 0?Ga(l,e.targets,A):l})}/*!
fflate - fast JavaScript compression/decompression
<https://101arrowz.github.io/fflate>
Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
version 0.8.2
*/var ae=Uint8Array,_e=Uint16Array,Oa=Int32Array,kt=new ae([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),St=new ae([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ha=new ae([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),xt=function(l,e){for(var A=new _e(31),s=0;s<31;++s)A[s]=e+=1<<l[s-1];for(var t=new Oa(A[30]),s=1;s<30;++s)for(var a=A[s];a<A[s+1];++a)t[a]=a-A[s]<<5|s;return{b:A,r:t}},Tt=xt(kt,2),Lt=Tt.b,qa=Tt.r;Lt[28]=258,qa[258]=28;var ja=xt(St,0),Ka=ja.b,NA=new _e(32768);for(var _=0;_<32768;++_){var Fe=(_&43690)>>1|(_&21845)<<1;Fe=(Fe&52428)>>2|(Fe&13107)<<2,Fe=(Fe&61680)>>4|(Fe&3855)<<4,NA[_]=((Fe&65280)>>8|(Fe&255)<<8)>>1}var tA=function(l,e,A){for(var s=l.length,t=0,a=new _e(e);t<s;++t)l[t]&&++a[l[t]-1];var n=new _e(e);for(t=1;t<e;++t)n[t]=n[t-1]+a[t-1]<<1;var i;if(A){i=new _e(1<<e);var r=15-e;for(t=0;t<s;++t)if(l[t])for(var c=t<<4|l[t],g=e-l[t],o=n[l[t]-1]++<<g,h=o|(1<<g)-1;o<=h;++o)i[NA[o]>>r]=c}else for(i=new _e(s),t=0;t<s;++t)l[t]&&(i[t]=NA[n[l[t]-1]++]>>15-l[t]);return i},nA=new ae(288);for(var _=0;_<144;++_)nA[_]=8;for(var _=144;_<256;++_)nA[_]=9;for(var _=256;_<280;++_)nA[_]=7;for(var _=280;_<288;++_)nA[_]=8;var Gt=new ae(32);for(var _=0;_<32;++_)Gt[_]=5;var Ja=tA(nA,9,1),Ya=tA(Gt,5,1),BA=function(l){for(var e=l[0],A=1;A<l.length;++A)l[A]>e&&(e=l[A]);return e},oe=function(l,e,A){var s=e/8|0;return(l[s]|l[s+1]<<8)>>(e&7)&A},bA=function(l,e){var A=e/8|0;return(l[A]|l[A+1]<<8|l[A+2]<<16)>>(e&7)},Va=function(l){return(l+7)/8|0},za=function(l,e,A){return(e==null||e<0)&&(e=0),(A==null||A>l.length)&&(A=l.length),new ae(l.subarray(e,A))},Xa=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ce=function(l,e,A){var s=new Error(e||Xa[l]);if(s.code=l,Error.captureStackTrace&&Error.captureStackTrace(s,ce),!A)throw s;return s},Wa=function(l,e,A,s){var t=l.length,a=s?s.length:0;if(!t||e.f&&!e.l)return A||new ae(0);var n=!A,i=n||e.i!=2,r=e.i;n&&(A=new ae(t*3));var c=function(Z){var re=A.length;if(Z>re){var we=new ae(Math.max(re*2,Z));we.set(A),A=we}},g=e.f||0,o=e.p||0,h=e.b||0,d=e.l,f=e.d,p=e.m,I=e.n,u=t*8;do{if(!d){g=oe(l,o,1);var B=oe(l,o+1,3);if(o+=3,B)if(B==1)d=Ja,f=Ya,p=9,I=5;else if(B==2){var C=oe(l,o,31)+257,w=oe(l,o+10,15)+4,Q=C+oe(l,o+5,31)+1;o+=14;for(var y=new ae(Q),D=new ae(19),R=0;R<w;++R)D[Ha[R]]=oe(l,o+R*3,7);o+=w*3;for(var x=BA(D),G=(1<<x)-1,F=tA(D,x,1),R=0;R<Q;){var L=F[oe(l,o,G)];o+=L&15;var b=L>>4;if(b<16)y[R++]=b;else{var k=0,v=0;for(b==16?(v=3+oe(l,o,3),o+=2,k=y[R-1]):b==17?(v=3+oe(l,o,7),o+=3):b==18&&(v=11+oe(l,o,127),o+=7);v--;)y[R++]=k}}var H=y.subarray(0,C),O=y.subarray(C);p=BA(H),I=BA(O),d=tA(H,p,1),f=tA(O,I,1)}else ce(1);else{var b=Va(o)+4,E=l[b-4]|l[b-3]<<8,m=b+E;if(m>t){r&&ce(0);break}i&&c(h+E),A.set(l.subarray(b,m),h),e.b=h+=E,e.p=o=m*8,e.f=g;continue}if(o>u){r&&ce(0);break}}i&&c(h+131072);for(var P=(1<<p)-1,ee=(1<<I)-1,J=o;;J=o){var k=d[bA(l,o)&P],M=k>>4;if(o+=k&15,o>u){r&&ce(0);break}if(k||ce(2),M<256)A[h++]=M;else if(M==256){J=o,d=null;break}else{var W=M-254;if(M>264){var R=M-257,Qe=kt[R];W=oe(l,o,(1<<Qe)-1)+Lt[R],o+=Qe}var ve=f[bA(l,o)&ee],me=ve>>4;ve||ce(3),o+=ve&15;var O=Ka[me];if(me>3){var Qe=St[me];O+=bA(l,o)&(1<<Qe)-1,o+=Qe}if(o>u){r&&ce(0);break}i&&c(h+131072);var le=h+W;if(h<O){var iA=a-O,Y=Math.min(O,le);for(iA+h<0&&ce(3);h<Y;++h)A[h]=s[iA+h]}for(;h<le;++h)A[h]=A[h-O]}}e.l=d,e.p=J,e.b=h,e.f=g,d&&(g=1,e.m=p,e.d=f,e.n=I)}while(!g);return h!=A.length&&n?za(A,0,h):A.subarray(0,h)},Za=new ae(0),$a=function(l,e){return((l[0]&15)!=8||l[0]>>4>7||(l[0]<<8|l[1])%31)&&ce(6,"invalid zlib data"),(l[1]>>5&1)==+!e&&ce(6,"invalid zlib data: "+(l[1]&32?"need":"unexpected")+" dictionary"),(l[1]>>3&4)+2};function en(l,e){return Wa(l.subarray($a(l,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var An=typeof TextDecoder!="undefined"&&new TextDecoder,tn=0;try{An.decode(Za,{stream:!0}),tn=1}catch{}function Mt(l,e,A){const s=A.length-l-1;if(e>=A[s])return s-1;if(e<=A[l])return l;let t=l,a=s,n=Math.floor((t+a)/2);for(;e<A[n]||e>=A[n+1];)e<A[n]?a=n:t=n,n=Math.floor((t+a)/2);return n}function sn(l,e,A,s){const t=[],a=[],n=[];t[0]=1;for(let i=1;i<=A;++i){a[i]=e-s[l+1-i],n[i]=s[l+i]-e;let r=0;for(let c=0;c<i;++c){const g=n[c+1],o=a[i-c],h=t[c]/(g+o);t[c]=r+g*h,r=o*h}t[i]=r}return t}function an(l,e,A,s){const t=Mt(l,s,e),a=sn(t,s,l,e),n=new dA(0,0,0,0);for(let i=0;i<=l;++i){const r=A[t-l+i],c=a[i],g=r.w*c;n.x+=r.x*g,n.y+=r.y*g,n.z+=r.z*g,n.w+=r.w*c}return n}function nn(l,e,A,s,t){const a=[];for(let o=0;o<=A;++o)a[o]=0;const n=[];for(let o=0;o<=s;++o)n[o]=a.slice(0);const i=[];for(let o=0;o<=A;++o)i[o]=a.slice(0);i[0][0]=1;const r=a.slice(0),c=a.slice(0);for(let o=1;o<=A;++o){r[o]=e-t[l+1-o],c[o]=t[l+o]-e;let h=0;for(let d=0;d<o;++d){const f=c[d+1],p=r[o-d];i[o][d]=f+p;const I=i[d][o-1]/i[o][d];i[d][o]=h+f*I,h=p*I}i[o][o]=h}for(let o=0;o<=A;++o)n[0][o]=i[o][A];for(let o=0;o<=A;++o){let h=0,d=1;const f=[];for(let p=0;p<=A;++p)f[p]=a.slice(0);f[0][0]=1;for(let p=1;p<=s;++p){let I=0;const u=o-p,B=A-p;o>=p&&(f[d][0]=f[h][0]/i[B+1][u],I=f[d][0]*i[u][B]);const b=u>=-1?1:-u,E=o-1<=B?p-1:A-o;for(let C=b;C<=E;++C)f[d][C]=(f[h][C]-f[h][C-1])/i[B+1][u+C],I+=f[d][C]*i[u+C][B];o<=B&&(f[d][p]=-f[h][p-1]/i[B+1][o],I+=f[d][p]*i[o][B]),n[p][o]=I;const m=h;h=d,d=m}}let g=A;for(let o=1;o<=s;++o){for(let h=0;h<=A;++h)n[o][h]*=g;g*=A-o}return n}function rn(l,e,A,s,t){const a=t<l?t:l,n=[],i=Mt(l,s,e),r=nn(i,s,l,a,e),c=[];for(let g=0;g<A.length;++g){const o=A[g].clone(),h=o.w;o.x*=h,o.y*=h,o.z*=h,c[g]=o}for(let g=0;g<=a;++g){const o=c[i-l].clone().multiplyScalar(r[g][0]);for(let h=1;h<=l;++h)o.add(c[i-l+h].clone().multiplyScalar(r[g][h]));n[g]=o}for(let g=a+1;g<=t+1;++g)n[g]=new dA(0,0,0);return n}function on(l,e){let A=1;for(let t=2;t<=l;++t)A*=t;let s=1;for(let t=2;t<=e;++t)s*=t;for(let t=2;t<=l-e;++t)s*=t;return A/s}function cn(l){const e=l.length,A=[],s=[];for(let a=0;a<e;++a){const n=l[a];A[a]=new N(n.x,n.y,n.z),s[a]=n.w}const t=[];for(let a=0;a<e;++a){const n=A[a].clone();for(let i=1;i<=a;++i)n.sub(t[a-i].clone().multiplyScalar(on(a,i)*s[i]));t[a]=n.divideScalar(s[0])}return t}function gn(l,e,A,s,t){const a=rn(l,e,A,s,t);return cn(a)}class ln extends ws{constructor(e,A,s,t,a){super(),this.degree=e,this.knots=A,this.controlPoints=[],this.startKnot=t||0,this.endKnot=a||this.knots.length-1;for(let n=0;n<s.length;++n){const i=s[n];this.controlPoints[n]=new dA(i.x,i.y,i.z,i.w)}}getPoint(e,A=new N){const s=A,t=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),a=an(this.degree,this.knots,this.controlPoints,t);return a.w!==1&&a.divideScalar(a.w),s.set(a.x,a.y,a.z)}getTangent(e,A=new N){const s=A,t=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),a=gn(this.degree,this.knots,this.controlPoints,t,1);return s.copy(a[1]).normalize(),s}}let S,q,X;class hn extends ge{constructor(e){super(e)}load(e,A,s,t){const a=this,n=a.path===""?Me.extractUrlBase(e):a.path,i=new ne(this.manager);i.setPath(a.path),i.setResponseType("arraybuffer"),i.setRequestHeader(a.requestHeader),i.setWithCredentials(a.withCredentials),i.load(e,function(r){try{A(a.parse(r,n))}catch(c){t?t(c):console.error(c),a.manager.itemError(e)}},s,t)}parse(e,A){if(Bn(e))S=new un().parse(e);else{const t=Nt(e);if(!bn(t))throw new Error("THREE.FBXLoader: Unknown format.");if(rt(t)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+rt(t));S=new pn().parse(t)}const s=new OA(this.manager).setPath(this.resourcePath||A).setCrossOrigin(this.crossOrigin);return new dn(s,this.manager).parse(S)}}class dn{constructor(e,A){this.textureLoader=e,this.manager=A}parse(){q=this.parseConnections();const e=this.parseImages(),A=this.parseTextures(e),s=this.parseMaterials(A),t=this.parseDeformers(),a=new fn().parse(t);return this.parseScene(t,a,s),X}parseConnections(){const e=new Map;return"Connections"in S&&S.Connections.connections.forEach(function(s){const t=s[0],a=s[1],n=s[2];e.has(t)||e.set(t,{parents:[],children:[]});const i={ID:a,relationship:n};e.get(t).parents.push(i),e.has(a)||e.set(a,{parents:[],children:[]});const r={ID:t,relationship:n};e.get(a).children.push(r)}),e}parseImages(){const e={},A={};if("Video"in S.Objects){const s=S.Objects.Video;for(const t in s){const a=s[t],n=parseInt(t);if(e[n]=a.RelativeFilename||a.Filename,"Content"in a){const i=a.Content instanceof ArrayBuffer&&a.Content.byteLength>0,r=typeof a.Content=="string"&&a.Content!=="";if(i||r){const c=this.parseImage(s[t]);A[a.RelativeFilename||a.Filename]=c}}}}for(const s in e){const t=e[s];A[t]!==void 0?e[s]=A[t]:e[s]=e[s].split("\\").pop()}return e}parseImage(e){const A=e.Content,s=e.RelativeFilename||e.Filename,t=s.slice(s.lastIndexOf(".")+1).toLowerCase();let a;switch(t){case"bmp":a="image/bmp";break;case"jpg":case"jpeg":a="image/jpeg";break;case"png":a="image/png";break;case"tif":a="image/tiff";break;case"tga":this.manager.getHandler(".tga")===null&&console.warn("FBXLoader: TGA loader not found, skipping ",s),a="image/tga";break;default:console.warn('FBXLoader: Image type "'+t+'" is not supported.');return}if(typeof A=="string")return"data:"+a+";base64,"+A;{const n=new Uint8Array(A);return window.URL.createObjectURL(new Blob([n],{type:a}))}}parseTextures(e){const A=new Map;if("Texture"in S.Objects){const s=S.Objects.Texture;for(const t in s){const a=this.parseTexture(s[t],e);A.set(parseInt(t),a)}}return A}parseTexture(e,A){const s=this.loadTexture(e,A);s.ID=e.id,s.name=e.attrName;const t=e.WrapModeU,a=e.WrapModeV,n=t!==void 0?t.value:0,i=a!==void 0?a.value:0;if(s.wrapS=n===0?He:Ce,s.wrapT=i===0?He:Ce,"Scaling"in e){const r=e.Scaling.value;s.repeat.x=r[0],s.repeat.y=r[1]}if("Translation"in e){const r=e.Translation.value;s.offset.x=r[0],s.offset.y=r[1]}return s}loadTexture(e,A){const s=new Set(["tga","tif","tiff","exr","dds","hdr","ktx2"]),t=e.FileName.split(".").pop().toLowerCase(),a=s.has(t)?this.manager.getHandler(`.${t}`):this.textureLoader;if(!a)return console.warn(`FBXLoader: ${t.toUpperCase()} loader not found, creating placeholder texture for`,e.RelativeFilename),new GA;const n=a.path;n||a.setPath(this.textureLoader.path);const i=q.get(e.id).children;let r;i!==void 0&&i.length>0&&A[i[0].ID]!==void 0&&(r=A[i[0].ID],(r.indexOf("blob:")===0||r.indexOf("data:")===0)&&a.setPath(void 0));const c=a.load(r);return a.setPath(n),c}parseMaterials(e){const A=new Map;if("Material"in S.Objects){const s=S.Objects.Material;for(const t in s){const a=this.parseMaterial(s[t],e);a!==null&&A.set(parseInt(t),a)}}return A}parseMaterial(e,A){const s=e.id,t=e.attrName;let a=e.ShadingModel;if(typeof a=="object"&&(a=a.value),!q.has(s))return null;const n=this.parseParameters(e,A,s);let i;switch(a.toLowerCase()){case"phong":i=new eA;break;case"lambert":i=new ys;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',a),i=new eA;break}return i.setValues(n),i.name=t,i}parseParameters(e,A,s){const t={};e.BumpFactor&&(t.bumpScale=e.BumpFactor.value),e.Diffuse?t.color=new j().fromArray(e.Diffuse.value).convertSRGBToLinear():e.DiffuseColor&&(e.DiffuseColor.type==="Color"||e.DiffuseColor.type==="ColorRGB")&&(t.color=new j().fromArray(e.DiffuseColor.value).convertSRGBToLinear()),e.DisplacementFactor&&(t.displacementScale=e.DisplacementFactor.value),e.Emissive?t.emissive=new j().fromArray(e.Emissive.value).convertSRGBToLinear():e.EmissiveColor&&(e.EmissiveColor.type==="Color"||e.EmissiveColor.type==="ColorRGB")&&(t.emissive=new j().fromArray(e.EmissiveColor.value).convertSRGBToLinear()),e.EmissiveFactor&&(t.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(t.opacity=parseFloat(e.Opacity.value)),t.opacity<1&&(t.transparent=!0),e.ReflectionFactor&&(t.reflectivity=e.ReflectionFactor.value),e.Shininess&&(t.shininess=e.Shininess.value),e.Specular?t.specular=new j().fromArray(e.Specular.value).convertSRGBToLinear():e.SpecularColor&&e.SpecularColor.type==="Color"&&(t.specular=new j().fromArray(e.SpecularColor.value).convertSRGBToLinear());const a=this;return q.get(s).children.forEach(function(n){const i=n.relationship;switch(i){case"Bump":t.bumpMap=a.getTexture(A,n.ID);break;case"Maya|TEX_ao_map":t.aoMap=a.getTexture(A,n.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":t.map=a.getTexture(A,n.ID),t.map!==void 0&&(t.map.colorSpace=$);break;case"DisplacementColor":t.displacementMap=a.getTexture(A,n.ID);break;case"EmissiveColor":t.emissiveMap=a.getTexture(A,n.ID),t.emissiveMap!==void 0&&(t.emissiveMap.colorSpace=$);break;case"NormalMap":case"Maya|TEX_normal_map":t.normalMap=a.getTexture(A,n.ID);break;case"ReflectionColor":t.envMap=a.getTexture(A,n.ID),t.envMap!==void 0&&(t.envMap.mapping=Ds,t.envMap.colorSpace=$);break;case"SpecularColor":t.specularMap=a.getTexture(A,n.ID),t.specularMap!==void 0&&(t.specularMap.colorSpace=$);break;case"TransparentColor":case"TransparencyFactor":t.alphaMap=a.getTexture(A,n.ID),t.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",i);break}}),t}getTexture(e,A){return"LayeredTexture"in S.Objects&&A in S.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),A=q.get(A).children[0].ID),e.get(A)}parseDeformers(){const e={},A={};if("Deformer"in S.Objects){const s=S.Objects.Deformer;for(const t in s){const a=s[t],n=q.get(parseInt(t));if(a.attrType==="Skin"){const i=this.parseSkeleton(n,s);i.ID=t,n.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),i.geometryID=n.parents[0].ID,e[t]=i}else if(a.attrType==="BlendShape"){const i={id:t};i.rawTargets=this.parseMorphTargets(n,s),i.id=t,n.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),A[t]=i}}}return{skeletons:e,morphTargets:A}}parseSkeleton(e,A){const s=[];return e.children.forEach(function(t){const a=A[t.ID];if(a.attrType!=="Cluster")return;const n={ID:t.ID,indices:[],weights:[],transformLink:new U().fromArray(a.TransformLink.a)};"Indexes"in a&&(n.indices=a.Indexes.a,n.weights=a.Weights.a),s.push(n)}),{rawBones:s,bones:[]}}parseMorphTargets(e,A){const s=[];for(let t=0;t<e.children.length;t++){const a=e.children[t],n=A[a.ID],i={name:n.attrName,initialWeight:n.DeformPercent,id:n.id,fullWeights:n.FullWeights.a};if(n.attrType!=="BlendShapeChannel")return;i.geoID=q.get(parseInt(a.ID)).children.filter(function(r){return r.relationship===void 0})[0].ID,s.push(i)}return s}parseScene(e,A,s){X=new Ne;const t=this.parseModels(e.skeletons,A,s),a=S.Objects.Model,n=this;t.forEach(function(r){const c=a[r.ID];n.setLookAtProperties(r,c),q.get(r.ID).parents.forEach(function(o){const h=t.get(o.ID);h!==void 0&&h.add(r)}),r.parent===null&&X.add(r)}),this.bindSkeleton(e.skeletons,A,t),this.addGlobalSceneSettings(),X.traverse(function(r){if(r.userData.transformData){r.parent&&(r.userData.transformData.parentMatrix=r.parent.matrix,r.userData.transformData.parentMatrixWorld=r.parent.matrixWorld);const c=Ut(r.userData.transformData);r.applyMatrix4(c),r.updateWorldMatrix()}});const i=new In().parse();X.children.length===1&&X.children[0].isGroup&&(X.children[0].animations=i,X=X.children[0]),X.animations=i}parseModels(e,A,s){const t=new Map,a=S.Objects.Model;for(const n in a){const i=parseInt(n),r=a[n],c=q.get(i);let g=this.buildSkeleton(c,e,i,r.attrName);if(!g){switch(r.attrType){case"Camera":g=this.createCamera(c);break;case"Light":g=this.createLight(c);break;case"Mesh":g=this.createMesh(c,A,s);break;case"NurbsCurve":g=this.createCurve(c,A);break;case"LimbNode":case"Root":g=new LA;break;case"Null":default:g=new Ne;break}g.name=r.attrName?aA.sanitizeNodeName(r.attrName):"",g.userData.originalName=r.attrName,g.ID=i}this.getTransformData(g,r),t.set(i,g)}return t}buildSkeleton(e,A,s,t){let a=null;return e.parents.forEach(function(n){for(const i in A){const r=A[i];r.rawBones.forEach(function(c,g){if(c.ID===n.ID){const o=a;a=new LA,a.matrixWorld.copy(c.transformLink),a.name=t?aA.sanitizeNodeName(t):"",a.userData.originalName=t,a.ID=s,r.bones[g]=a,o!==null&&a.add(o)}})}}),a}createCamera(e){let A,s;if(e.children.forEach(function(t){const a=S.Objects.NodeAttribute[t.ID];a!==void 0&&(s=a)}),s===void 0)A=new AA;else{let t=0;s.CameraProjectionType!==void 0&&s.CameraProjectionType.value===1&&(t=1);let a=1;s.NearPlane!==void 0&&(a=s.NearPlane.value/1e3);let n=1e3;s.FarPlane!==void 0&&(n=s.FarPlane.value/1e3);let i=window.innerWidth,r=window.innerHeight;s.AspectWidth!==void 0&&s.AspectHeight!==void 0&&(i=s.AspectWidth.value,r=s.AspectHeight.value);const c=i/r;let g=45;s.FieldOfView!==void 0&&(g=s.FieldOfView.value);const o=s.FocalLength?s.FocalLength.value:null;switch(t){case 0:A=new bt(g,c,a,n),o!==null&&A.setFocalLength(o);break;case 1:A=new Et(-i/2,i/2,r/2,-r/2,a,n);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+t+"."),A=new AA;break}}return A}createLight(e){let A,s;if(e.children.forEach(function(t){const a=S.Objects.NodeAttribute[t.ID];a!==void 0&&(s=a)}),s===void 0)A=new AA;else{let t;s.LightType===void 0?t=0:t=s.LightType.value;let a=16777215;s.Color!==void 0&&(a=new j().fromArray(s.Color.value).convertSRGBToLinear());let n=s.Intensity===void 0?1:s.Intensity.value/100;s.CastLightOnObject!==void 0&&s.CastLightOnObject.value===0&&(n=0);let i=0;s.FarAttenuationEnd!==void 0&&(s.EnableFarAttenuation!==void 0&&s.EnableFarAttenuation.value===0?i=0:i=s.FarAttenuationEnd.value);const r=1;switch(t){case 0:A=new TA(a,n,i,r);break;case 1:A=new It(a,n);break;case 2:let c=Math.PI/3;s.InnerAngle!==void 0&&(c=V.degToRad(s.InnerAngle.value));let g=0;s.OuterAngle!==void 0&&(g=V.degToRad(s.OuterAngle.value),g=Math.max(g,1)),A=new ft(a,n,i,c,g,r);break;default:console.warn("THREE.FBXLoader: Unknown light type "+s.LightType.value+", defaulting to a PointLight."),A=new TA(a,n);break}s.CastShadows!==void 0&&s.CastShadows.value===1&&(A.castShadow=!0)}return A}createMesh(e,A,s){let t,a=null,n=null;const i=[];return e.children.forEach(function(r){A.has(r.ID)&&(a=A.get(r.ID)),s.has(r.ID)&&i.push(s.get(r.ID))}),i.length>1?n=i:i.length>0?n=i[0]:(n=new eA({name:ge.DEFAULT_MATERIAL_NAME,color:13421772}),i.push(n)),"color"in a.attributes&&i.forEach(function(r){r.vertexColors=!0}),a.FBX_Deformer?(t=new ut(a,n),t.normalizeSkinWeights()):t=new lA(a,n),t}createCurve(e,A){const s=e.children.reduce(function(a,n){return A.has(n.ID)&&(a=A.get(n.ID)),a},null),t=new Ze({name:ge.DEFAULT_MATERIAL_NAME,color:3342591,linewidth:1});return new Bt(s,t)}getTransformData(e,A){const s={};"InheritType"in A&&(s.inheritType=parseInt(A.InheritType.value)),"RotationOrder"in A?s.eulerOrder=_t(A.RotationOrder.value):s.eulerOrder="ZYX","Lcl_Translation"in A&&(s.translation=A.Lcl_Translation.value),"PreRotation"in A&&(s.preRotation=A.PreRotation.value),"Lcl_Rotation"in A&&(s.rotation=A.Lcl_Rotation.value),"PostRotation"in A&&(s.postRotation=A.PostRotation.value),"Lcl_Scaling"in A&&(s.scale=A.Lcl_Scaling.value),"ScalingOffset"in A&&(s.scalingOffset=A.ScalingOffset.value),"ScalingPivot"in A&&(s.scalingPivot=A.ScalingPivot.value),"RotationOffset"in A&&(s.rotationOffset=A.RotationOffset.value),"RotationPivot"in A&&(s.rotationPivot=A.RotationPivot.value),e.userData.transformData=s}setLookAtProperties(e,A){"LookAtProperty"in A&&q.get(e.ID).children.forEach(function(t){if(t.relationship==="LookAtProperty"){const a=S.Objects.Model[t.ID];if("Lcl_Translation"in a){const n=a.Lcl_Translation.value;e.target!==void 0?(e.target.position.fromArray(n),X.add(e.target)):e.lookAt(new N().fromArray(n))}}})}bindSkeleton(e,A,s){const t=this.parsePoseNodes();for(const a in e){const n=e[a];q.get(parseInt(n.ID)).parents.forEach(function(r){if(A.has(r.ID)){const c=r.ID;q.get(c).parents.forEach(function(o){s.has(o.ID)&&s.get(o.ID).bind(new Ct(n.bones),t[o.ID])})}})}}parsePoseNodes(){const e={};if("Pose"in S.Objects){const A=S.Objects.Pose;for(const s in A)if(A[s].attrType==="BindPose"&&A[s].NbPoseNodes>0){const t=A[s].PoseNode;Array.isArray(t)?t.forEach(function(a){e[a.Node]=new U().fromArray(a.Matrix.a)}):e[t.Node]=new U().fromArray(t.Matrix.a)}}return e}addGlobalSceneSettings(){if("GlobalSettings"in S){if("AmbientColor"in S.GlobalSettings){const e=S.GlobalSettings.AmbientColor.value,A=e[0],s=e[1],t=e[2];if(A!==0||s!==0||t!==0){const a=new j(A,s,t).convertSRGBToLinear();X.add(new Rs(a,1))}}"UnitScaleFactor"in S.GlobalSettings&&(X.userData.unitScaleFactor=S.GlobalSettings.UnitScaleFactor.value)}}}class fn{constructor(){this.negativeMaterialIndices=!1}parse(e){const A=new Map;if("Geometry"in S.Objects){const s=S.Objects.Geometry;for(const t in s){const a=q.get(parseInt(t)),n=this.parseGeometry(a,s[t],e);A.set(parseInt(t),n)}}return this.negativeMaterialIndices===!0&&console.warn("THREE.FBXLoader: The FBX file contains invalid (negative) material indices. The asset might not render as expected."),A}parseGeometry(e,A,s){switch(A.attrType){case"Mesh":return this.parseMeshGeometry(e,A,s);case"NurbsCurve":return this.parseNurbsGeometry(A)}}parseMeshGeometry(e,A,s){const t=s.skeletons,a=[],n=e.parents.map(function(o){return S.Objects.Model[o.ID]});if(n.length===0)return;const i=e.children.reduce(function(o,h){return t[h.ID]!==void 0&&(o=t[h.ID]),o},null);e.children.forEach(function(o){s.morphTargets[o.ID]!==void 0&&a.push(s.morphTargets[o.ID])});const r=n[0],c={};"RotationOrder"in r&&(c.eulerOrder=_t(r.RotationOrder.value)),"InheritType"in r&&(c.inheritType=parseInt(r.InheritType.value)),"GeometricTranslation"in r&&(c.translation=r.GeometricTranslation.value),"GeometricRotation"in r&&(c.rotation=r.GeometricRotation.value),"GeometricScaling"in r&&(c.scale=r.GeometricScaling.value);const g=Ut(c);return this.genGeometry(A,i,a,g)}genGeometry(e,A,s,t){const a=new xe;e.attrName&&(a.name=e.attrName);const n=this.parseGeoNode(e,A),i=this.genBuffers(n),r=new se(i.vertex,3);if(r.applyMatrix4(t),a.setAttribute("position",r),i.colors.length>0&&a.setAttribute("color",new se(i.colors,3)),A&&(a.setAttribute("skinIndex",new Fs(i.weightsIndices,4)),a.setAttribute("skinWeight",new se(i.vertexWeights,4)),a.FBX_Deformer=A),i.normal.length>0){const c=new ks().getNormalMatrix(t),g=new se(i.normal,3);g.applyNormalMatrix(c),a.setAttribute("normal",g)}if(i.uvs.forEach(function(c,g){const o=g===0?"uv":`uv${g}`;a.setAttribute(o,new se(i.uvs[g],2))}),n.material&&n.material.mappingType!=="AllSame"){let c=i.materialIndex[0],g=0;if(i.materialIndex.forEach(function(o,h){o!==c&&(a.addGroup(g,h-g,c),c=o,g=h)}),a.groups.length>0){const o=a.groups[a.groups.length-1],h=o.start+o.count;h!==i.materialIndex.length&&a.addGroup(h,i.materialIndex.length-h,c)}a.groups.length===0&&a.addGroup(0,i.materialIndex.length,i.materialIndex[0])}return this.addMorphTargets(a,e,s,t),a}parseGeoNode(e,A){const s={};if(s.vertexPositions=e.Vertices!==void 0?e.Vertices.a:[],s.vertexIndices=e.PolygonVertexIndex!==void 0?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(s.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(s.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(s.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){s.uv=[];let t=0;for(;e.LayerElementUV[t];)e.LayerElementUV[t].UV&&s.uv.push(this.parseUVs(e.LayerElementUV[t])),t++}return s.weightTable={},A!==null&&(s.skeleton=A,A.rawBones.forEach(function(t,a){t.indices.forEach(function(n,i){s.weightTable[n]===void 0&&(s.weightTable[n]=[]),s.weightTable[n].push({id:a,weight:t.weights[i]})})})),s}genBuffers(e){const A={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let s=0,t=0,a=!1,n=[],i=[],r=[],c=[],g=[],o=[];const h=this;return e.vertexIndices.forEach(function(d,f){let p,I=!1;d<0&&(d=d^-1,I=!0);let u=[],B=[];if(n.push(d*3,d*3+1,d*3+2),e.color){const b=cA(f,s,d,e.color);r.push(b[0],b[1],b[2])}if(e.skeleton){if(e.weightTable[d]!==void 0&&e.weightTable[d].forEach(function(b){B.push(b.weight),u.push(b.id)}),B.length>4){a||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),a=!0);const b=[0,0,0,0],E=[0,0,0,0];B.forEach(function(m,C){let w=m,Q=u[C];E.forEach(function(y,D,R){if(w>y){R[D]=w,w=y;const x=b[D];b[D]=Q,Q=x}})}),u=b,B=E}for(;B.length<4;)B.push(0),u.push(0);for(let b=0;b<4;++b)g.push(B[b]),o.push(u[b])}if(e.normal){const b=cA(f,s,d,e.normal);i.push(b[0],b[1],b[2])}e.material&&e.material.mappingType!=="AllSame"&&(p=cA(f,s,d,e.material)[0],p<0&&(h.negativeMaterialIndices=!0,p=0)),e.uv&&e.uv.forEach(function(b,E){const m=cA(f,s,d,b);c[E]===void 0&&(c[E]=[]),c[E].push(m[0]),c[E].push(m[1])}),t++,I&&(h.genFace(A,e,n,p,i,r,c,g,o,t),s++,t=0,n=[],i=[],r=[],c=[],g=[],o=[])}),A}getNormalNewell(e){const A=new N(0,0,0);for(let s=0;s<e.length;s++){const t=e[s],a=e[(s+1)%e.length];A.x+=(t.y-a.y)*(t.z+a.z),A.y+=(t.z-a.z)*(t.x+a.x),A.z+=(t.x-a.x)*(t.y+a.y)}return A.normalize(),A}getNormalTangentAndBitangent(e){const A=this.getNormalNewell(e),t=(Math.abs(A.z)>.5?new N(0,1,0):new N(0,0,1)).cross(A).normalize(),a=A.clone().cross(t).normalize();return{normal:A,tangent:t,bitangent:a}}flattenVertex(e,A,s){return new sA(e.dot(A),e.dot(s))}genFace(e,A,s,t,a,n,i,r,c,g){let o;if(g>3){const h=[],d=A.baseVertexPositions||A.vertexPositions;for(let u=0;u<s.length;u+=3)h.push(new N(d[s[u]],d[s[u+1]],d[s[u+2]]));const{tangent:f,bitangent:p}=this.getNormalTangentAndBitangent(h),I=[];for(const u of h)I.push(this.flattenVertex(u,f,p));o=Ss.triangulateShape(I,[])}else o=[[0,1,2]];for(const[h,d,f]of o)e.vertex.push(A.vertexPositions[s[h*3]]),e.vertex.push(A.vertexPositions[s[h*3+1]]),e.vertex.push(A.vertexPositions[s[h*3+2]]),e.vertex.push(A.vertexPositions[s[d*3]]),e.vertex.push(A.vertexPositions[s[d*3+1]]),e.vertex.push(A.vertexPositions[s[d*3+2]]),e.vertex.push(A.vertexPositions[s[f*3]]),e.vertex.push(A.vertexPositions[s[f*3+1]]),e.vertex.push(A.vertexPositions[s[f*3+2]]),A.skeleton&&(e.vertexWeights.push(r[h*4]),e.vertexWeights.push(r[h*4+1]),e.vertexWeights.push(r[h*4+2]),e.vertexWeights.push(r[h*4+3]),e.vertexWeights.push(r[d*4]),e.vertexWeights.push(r[d*4+1]),e.vertexWeights.push(r[d*4+2]),e.vertexWeights.push(r[d*4+3]),e.vertexWeights.push(r[f*4]),e.vertexWeights.push(r[f*4+1]),e.vertexWeights.push(r[f*4+2]),e.vertexWeights.push(r[f*4+3]),e.weightsIndices.push(c[h*4]),e.weightsIndices.push(c[h*4+1]),e.weightsIndices.push(c[h*4+2]),e.weightsIndices.push(c[h*4+3]),e.weightsIndices.push(c[d*4]),e.weightsIndices.push(c[d*4+1]),e.weightsIndices.push(c[d*4+2]),e.weightsIndices.push(c[d*4+3]),e.weightsIndices.push(c[f*4]),e.weightsIndices.push(c[f*4+1]),e.weightsIndices.push(c[f*4+2]),e.weightsIndices.push(c[f*4+3])),A.color&&(e.colors.push(n[h*3]),e.colors.push(n[h*3+1]),e.colors.push(n[h*3+2]),e.colors.push(n[d*3]),e.colors.push(n[d*3+1]),e.colors.push(n[d*3+2]),e.colors.push(n[f*3]),e.colors.push(n[f*3+1]),e.colors.push(n[f*3+2])),A.material&&A.material.mappingType!=="AllSame"&&(e.materialIndex.push(t),e.materialIndex.push(t),e.materialIndex.push(t)),A.normal&&(e.normal.push(a[h*3]),e.normal.push(a[h*3+1]),e.normal.push(a[h*3+2]),e.normal.push(a[d*3]),e.normal.push(a[d*3+1]),e.normal.push(a[d*3+2]),e.normal.push(a[f*3]),e.normal.push(a[f*3+1]),e.normal.push(a[f*3+2])),A.uv&&A.uv.forEach(function(p,I){e.uvs[I]===void 0&&(e.uvs[I]=[]),e.uvs[I].push(i[I][h*2]),e.uvs[I].push(i[I][h*2+1]),e.uvs[I].push(i[I][d*2]),e.uvs[I].push(i[I][d*2+1]),e.uvs[I].push(i[I][f*2]),e.uvs[I].push(i[I][f*2+1])})}addMorphTargets(e,A,s,t){if(s.length===0)return;e.morphTargetsRelative=!0,e.morphAttributes.position=[];const a=this;s.forEach(function(n){n.rawTargets.forEach(function(i){const r=S.Objects.Geometry[i.geoID];r!==void 0&&a.genMorphGeometry(e,A,r,t,i.name)})})}genMorphGeometry(e,A,s,t,a){const n=A.Vertices!==void 0?A.Vertices.a:[],i=A.PolygonVertexIndex!==void 0?A.PolygonVertexIndex.a:[],r=s.Vertices!==void 0?s.Vertices.a:[],c=s.Indexes!==void 0?s.Indexes.a:[],g=e.attributes.position.count*3,o=new Float32Array(g);for(let p=0;p<c.length;p++){const I=c[p]*3;o[I]=r[p*3],o[I+1]=r[p*3+1],o[I+2]=r[p*3+2]}const h={vertexIndices:i,vertexPositions:o,baseVertexPositions:n},d=this.genBuffers(h),f=new se(d.vertex,3);f.name=a||s.attrName,f.applyMatrix4(t),e.morphAttributes.position.push(f)}parseNormals(e){const A=e.MappingInformationType,s=e.ReferenceInformationType,t=e.Normals.a;let a=[];return s==="IndexToDirect"&&("NormalIndex"in e?a=e.NormalIndex.a:"NormalsIndex"in e&&(a=e.NormalsIndex.a)),{dataSize:3,buffer:t,indices:a,mappingType:A,referenceType:s}}parseUVs(e){const A=e.MappingInformationType,s=e.ReferenceInformationType,t=e.UV.a;let a=[];return s==="IndexToDirect"&&(a=e.UVIndex.a),{dataSize:2,buffer:t,indices:a,mappingType:A,referenceType:s}}parseVertexColors(e){const A=e.MappingInformationType,s=e.ReferenceInformationType,t=e.Colors.a;let a=[];s==="IndexToDirect"&&(a=e.ColorIndex.a);for(let n=0,i=new j;n<t.length;n+=4)i.fromArray(t,n).convertSRGBToLinear().toArray(t,n);return{dataSize:4,buffer:t,indices:a,mappingType:A,referenceType:s}}parseMaterialIndices(e){const A=e.MappingInformationType,s=e.ReferenceInformationType;if(A==="NoMappingInformation")return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:s};const t=e.Materials.a,a=[];for(let n=0;n<t.length;++n)a.push(n);return{dataSize:1,buffer:t,indices:a,mappingType:A,referenceType:s}}parseNurbsGeometry(e){const A=parseInt(e.Order);if(isNaN(A))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new xe;const s=A-1,t=e.KnotVector.a,a=[],n=e.Points.a;for(let o=0,h=n.length;o<h;o+=4)a.push(new dA().fromArray(n,o));let i,r;if(e.Form==="Closed")a.push(a[0]);else if(e.Form==="Periodic"){i=s,r=t.length-1-i;for(let o=0;o<s;++o)a.push(a[o])}const g=new ln(s,t,a,i,r).getPoints(a.length*12);return new xe().setFromPoints(g)}}class In{parse(){const e=[],A=this.parseClips();if(A!==void 0)for(const s in A){const t=A[s],a=this.addClip(t);e.push(a)}return e}parseClips(){if(S.Objects.AnimationCurve===void 0)return;const e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);const A=this.parseAnimationLayers(e);return this.parseAnimStacks(A)}parseAnimationCurveNodes(){const e=S.Objects.AnimationCurveNode,A=new Map;for(const s in e){const t=e[s];if(t.attrName.match(/S|R|T|DeformPercent/)!==null){const a={id:t.id,attr:t.attrName,curves:{}};A.set(a.id,a)}}return A}parseAnimationCurves(e){const A=S.Objects.AnimationCurve;for(const s in A){const t={id:A[s].id,times:A[s].KeyTime.a.map(En),values:A[s].KeyValueFloat.a},a=q.get(t.id);if(a!==void 0){const n=a.parents[0].ID,i=a.parents[0].relationship;i.match(/X/)?e.get(n).curves.x=t:i.match(/Y/)?e.get(n).curves.y=t:i.match(/Z/)?e.get(n).curves.z=t:i.match(/DeformPercent/)&&e.has(n)&&(e.get(n).curves.morph=t)}}}parseAnimationLayers(e){const A=S.Objects.AnimationLayer,s=new Map;for(const t in A){const a=[],n=q.get(parseInt(t));n!==void 0&&(n.children.forEach(function(r,c){if(e.has(r.ID)){const g=e.get(r.ID);if(g.curves.x!==void 0||g.curves.y!==void 0||g.curves.z!==void 0){if(a[c]===void 0){const o=q.get(r.ID).parents.filter(function(h){return h.relationship!==void 0})[0].ID;if(o!==void 0){const h=S.Objects.Model[o.toString()];if(h===void 0){console.warn("THREE.FBXLoader: Encountered a unused curve.",r);return}const d={modelName:h.attrName?aA.sanitizeNodeName(h.attrName):"",ID:h.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};X.traverse(function(f){f.ID===h.id&&(d.transform=f.matrix,f.userData.transformData&&(d.eulerOrder=f.userData.transformData.eulerOrder))}),d.transform||(d.transform=new U),"PreRotation"in h&&(d.preRotation=h.PreRotation.value),"PostRotation"in h&&(d.postRotation=h.PostRotation.value),a[c]=d}}a[c]&&(a[c][g.attr]=g)}else if(g.curves.morph!==void 0){if(a[c]===void 0){const o=q.get(r.ID).parents.filter(function(u){return u.relationship!==void 0})[0].ID,h=q.get(o).parents[0].ID,d=q.get(h).parents[0].ID,f=q.get(d).parents[0].ID,p=S.Objects.Model[f],I={modelName:p.attrName?aA.sanitizeNodeName(p.attrName):"",morphName:S.Objects.Deformer[o].attrName};a[c]=I}a[c][g.attr]=g}}}),s.set(parseInt(t),a))}return s}parseAnimStacks(e){const A=S.Objects.AnimationStack,s={};for(const t in A){const a=q.get(parseInt(t)).children;a.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");const n=e.get(a[0].ID);s[t]={name:A[t].attrName,layer:n}}return s}addClip(e){let A=[];const s=this;return e.layer.forEach(function(t){A=A.concat(s.generateTracks(t))}),new Qt(e.name,-1,A)}generateTracks(e){const A=[];let s=new N,t=new N;if(e.transform&&e.transform.decompose(s,new he,t),s=s.toArray(),t=t.toArray(),e.T!==void 0&&Object.keys(e.T.curves).length>0){const a=this.generateVectorTrack(e.modelName,e.T.curves,s,"position");a!==void 0&&A.push(a)}if(e.R!==void 0&&Object.keys(e.R.curves).length>0){const a=this.generateRotationTrack(e.modelName,e.R.curves,e.preRotation,e.postRotation,e.eulerOrder);a!==void 0&&A.push(a)}if(e.S!==void 0&&Object.keys(e.S.curves).length>0){const a=this.generateVectorTrack(e.modelName,e.S.curves,t,"scale");a!==void 0&&A.push(a)}if(e.DeformPercent!==void 0){const a=this.generateMorphTrack(e);a!==void 0&&A.push(a)}return A}generateVectorTrack(e,A,s,t){const a=this.getTimesForAllAxes(A),n=this.getKeyframeTrackValues(a,A,s);return new MA(e+"."+t,a,n)}generateRotationTrack(e,A,s,t,a){let n,i;if(A.x!==void 0&&A.y!==void 0&&A.z!==void 0){const o=this.interpolateRotations(A.x,A.y,A.z,a);n=o[0],i=o[1]}s!==void 0&&(s=s.map(V.degToRad),s.push(a),s=new de().fromArray(s),s=new he().setFromEuler(s)),t!==void 0&&(t=t.map(V.degToRad),t.push(a),t=new de().fromArray(t),t=new he().setFromEuler(t).invert());const r=new he,c=new de,g=[];if(!i||!n)return new hA(e+".quaternion",[0],[0]);for(let o=0;o<i.length;o+=3)c.set(i[o],i[o+1],i[o+2],a),r.setFromEuler(c),s!==void 0&&r.premultiply(s),t!==void 0&&r.multiply(t),o>2&&new he().fromArray(g,(o-3)/3*4).dot(r)<0&&r.set(-r.x,-r.y,-r.z,-r.w),r.toArray(g,o/3*4);return new hA(e+".quaternion",n,g)}generateMorphTrack(e){const A=e.DeformPercent.curves.morph,s=A.values.map(function(a){return a/100}),t=X.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new vA(e.modelName+".morphTargetInfluences["+t+"]",A.times,s)}getTimesForAllAxes(e){let A=[];if(e.x!==void 0&&(A=A.concat(e.x.times)),e.y!==void 0&&(A=A.concat(e.y.times)),e.z!==void 0&&(A=A.concat(e.z.times)),A=A.sort(function(s,t){return s-t}),A.length>1){let s=1,t=A[0];for(let a=1;a<A.length;a++){const n=A[a];n!==t&&(A[s]=n,t=n,s++)}A=A.slice(0,s)}return A}getKeyframeTrackValues(e,A,s){const t=s,a=[];let n=-1,i=-1,r=-1;return e.forEach(function(c){if(A.x&&(n=A.x.times.indexOf(c)),A.y&&(i=A.y.times.indexOf(c)),A.z&&(r=A.z.times.indexOf(c)),n!==-1){const g=A.x.values[n];a.push(g),t[0]=g}else a.push(t[0]);if(i!==-1){const g=A.y.values[i];a.push(g),t[1]=g}else a.push(t[1]);if(r!==-1){const g=A.z.values[r];a.push(g),t[2]=g}else a.push(t[2])}),a}interpolateRotations(e,A,s,t){const a=[],n=[];a.push(e.times[0]),n.push(V.degToRad(e.values[0])),n.push(V.degToRad(A.values[0])),n.push(V.degToRad(s.values[0]));for(let i=1;i<e.values.length;i++){const r=[e.values[i-1],A.values[i-1],s.values[i-1]];if(isNaN(r[0])||isNaN(r[1])||isNaN(r[2]))continue;const c=r.map(V.degToRad),g=[e.values[i],A.values[i],s.values[i]];if(isNaN(g[0])||isNaN(g[1])||isNaN(g[2]))continue;const o=g.map(V.degToRad),h=[g[0]-r[0],g[1]-r[1],g[2]-r[2]],d=[Math.abs(h[0]),Math.abs(h[1]),Math.abs(h[2])];if(d[0]>=180||d[1]>=180||d[2]>=180){const p=Math.max(...d)/180,I=new de(...c,t),u=new de(...o,t),B=new he().setFromEuler(I),b=new he().setFromEuler(u);B.dot(b)&&b.set(-b.x,-b.y,-b.z,-b.w);const E=e.times[i-1],m=e.times[i]-E,C=new he,w=new de;for(let Q=0;Q<1;Q+=1/p)C.copy(B.clone().slerp(b.clone(),Q)),a.push(E+Q*m),w.setFromQuaternion(C,t),n.push(w.x),n.push(w.y),n.push(w.z)}else a.push(e.times[i]),n.push(V.degToRad(e.values[i])),n.push(V.degToRad(A.values[i])),n.push(V.degToRad(s.values[i]))}return[a,n]}}class pn{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(e){this.nodeStack.push(e),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(e,A){this.currentProp=e,this.currentPropName=A}parse(e){this.currentIndent=0,this.allNodes=new vt,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const A=this,s=e.split(/[\r\n]+/);return s.forEach(function(t,a){const n=t.match(/^[\s\t]*;/),i=t.match(/^[\s\t]*$/);if(n||i)return;const r=t.match("^\\t{"+A.currentIndent+"}(\\w+):(.*){",""),c=t.match("^\\t{"+A.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),g=t.match("^\\t{"+(A.currentIndent-1)+"}}");r?A.parseNodeBegin(t,r):c?A.parseNodeProperty(t,c,s[++a]):g?A.popStack():t.match(/^[^\s\t}]/)&&A.parseNodePropertyContinued(t)}),this.allNodes}parseNodeBegin(e,A){const s=A[1].trim().replace(/^"/,"").replace(/"$/,""),t=A[2].split(",").map(function(r){return r.trim().replace(/^"/,"").replace(/"$/,"")}),a={name:s},n=this.parseNodeAttr(t),i=this.getCurrentNode();this.currentIndent===0?this.allNodes.add(s,a):s in i?(s==="PoseNode"?i.PoseNode.push(a):i[s].id!==void 0&&(i[s]={},i[s][i[s].id]=i[s]),n.id!==""&&(i[s][n.id]=a)):typeof n.id=="number"?(i[s]={},i[s][n.id]=a):s!=="Properties70"&&(s==="PoseNode"?i[s]=[a]:i[s]=a),typeof n.id=="number"&&(a.id=n.id),n.name!==""&&(a.attrName=n.name),n.type!==""&&(a.attrType=n.type),this.pushStack(a)}parseNodeAttr(e){let A=e[0];e[0]!==""&&(A=parseInt(e[0]),isNaN(A)&&(A=e[0]));let s="",t="";return e.length>1&&(s=e[1].replace(/^(\w+)::/,""),t=e[2]),{id:A,name:s,type:t}}parseNodeProperty(e,A,s){let t=A[1].replace(/^"/,"").replace(/"$/,"").trim(),a=A[2].replace(/^"/,"").replace(/"$/,"").trim();t==="Content"&&a===","&&(a=s.replace(/"/g,"").replace(/,$/,"").trim());const n=this.getCurrentNode();if(n.name==="Properties70"){this.parseNodeSpecialProperty(e,t,a);return}if(t==="C"){const r=a.split(",").slice(1),c=parseInt(r[0]),g=parseInt(r[1]);let o=a.split(",").slice(3);o=o.map(function(h){return h.trim().replace(/^"/,"")}),t="connections",a=[c,g],Qn(a,o),n[t]===void 0&&(n[t]=[])}t==="Node"&&(n.id=a),t in n&&Array.isArray(n[t])?n[t].push(a):t!=="a"?n[t]=a:n.a=a,this.setCurrentProp(n,t),t==="a"&&a.slice(-1)!==","&&(n.a=CA(a))}parseNodePropertyContinued(e){const A=this.getCurrentNode();A.a+=e,e.slice(-1)!==","&&(A.a=CA(A.a))}parseNodeSpecialProperty(e,A,s){const t=s.split('",').map(function(g){return g.trim().replace(/^\"/,"").replace(/\s/,"_")}),a=t[0],n=t[1],i=t[2],r=t[3];let c=t[4];switch(n){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":c=parseFloat(c);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":c=CA(c);break}this.getPrevNode()[a]={type:n,type2:i,flag:r,value:c},this.setCurrentProp(this.getPrevNode(),a)}}class un{parse(e){const A=new it(e);A.skip(23);const s=A.getUint32();if(s<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+s);const t=new vt;for(;!this.endOfContent(A);){const a=this.parseNode(A,s);a!==null&&t.add(a.name,a)}return t}endOfContent(e){return e.size()%16===0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()}parseNode(e,A){const s={},t=A>=7500?e.getUint64():e.getUint32(),a=A>=7500?e.getUint64():e.getUint32();A>=7500?e.getUint64():e.getUint32();const n=e.getUint8(),i=e.getString(n);if(t===0)return null;const r=[];for(let h=0;h<a;h++)r.push(this.parseProperty(e));const c=r.length>0?r[0]:"",g=r.length>1?r[1]:"",o=r.length>2?r[2]:"";for(s.singleProperty=a===1&&e.getOffset()===t;t>e.getOffset();){const h=this.parseNode(e,A);h!==null&&this.parseSubNode(i,s,h)}return s.propertyList=r,typeof c=="number"&&(s.id=c),g!==""&&(s.attrName=g),o!==""&&(s.attrType=o),i!==""&&(s.name=i),s}parseSubNode(e,A,s){if(s.singleProperty===!0){const t=s.propertyList[0];Array.isArray(t)?(A[s.name]=s,s.a=t):A[s.name]=t}else if(e==="Connections"&&s.name==="C"){const t=[];s.propertyList.forEach(function(a,n){n!==0&&t.push(a)}),A.connections===void 0&&(A.connections=[]),A.connections.push(t)}else if(s.name==="Properties70")Object.keys(s).forEach(function(a){A[a]=s[a]});else if(e==="Properties70"&&s.name==="P"){let t=s.propertyList[0],a=s.propertyList[1];const n=s.propertyList[2],i=s.propertyList[3];let r;t.indexOf("Lcl ")===0&&(t=t.replace("Lcl ","Lcl_")),a.indexOf("Lcl ")===0&&(a=a.replace("Lcl ","Lcl_")),a==="Color"||a==="ColorRGB"||a==="Vector"||a==="Vector3D"||a.indexOf("Lcl_")===0?r=[s.propertyList[4],s.propertyList[5],s.propertyList[6]]:r=s.propertyList[4],A[t]={type:a,type2:n,flag:i,value:r}}else A[s.name]===void 0?typeof s.id=="number"?(A[s.name]={},A[s.name][s.id]=s):A[s.name]=s:s.name==="PoseNode"?(Array.isArray(A[s.name])||(A[s.name]=[A[s.name]]),A[s.name].push(s)):A[s.name][s.id]===void 0&&(A[s.name][s.id]=s)}parseProperty(e){const A=e.getString(1);let s;switch(A){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":return s=e.getUint32(),e.getArrayBuffer(s);case"S":return s=e.getUint32(),e.getString(s);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":const t=e.getUint32(),a=e.getUint32(),n=e.getUint32();if(a===0)switch(A){case"b":case"c":return e.getBooleanArray(t);case"d":return e.getFloat64Array(t);case"f":return e.getFloat32Array(t);case"i":return e.getInt32Array(t);case"l":return e.getInt64Array(t)}const i=en(new Uint8Array(e.getArrayBuffer(n))),r=new it(i.buffer);switch(A){case"b":case"c":return r.getBooleanArray(t);case"d":return r.getFloat64Array(t);case"f":return r.getFloat32Array(t);case"i":return r.getInt32Array(t);case"l":return r.getInt64Array(t)}break;default:throw new Error("THREE.FBXLoader: Unknown property type "+A)}}}class it{constructor(e,A){this.dv=new DataView(e),this.offset=0,this.littleEndian=A!==void 0?A:!0,this._textDecoder=new TextDecoder}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(e){this.offset+=e}getBoolean(){return(this.getUint8()&1)===1}getBooleanArray(e){const A=[];for(let s=0;s<e;s++)A.push(this.getBoolean());return A}getUint8(){const e=this.dv.getUint8(this.offset);return this.offset+=1,e}getInt16(){const e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}getInt32(){const e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}getInt32Array(e){const A=[];for(let s=0;s<e;s++)A.push(this.getInt32());return A}getUint32(){const e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}getInt64(){let e,A;return this.littleEndian?(e=this.getUint32(),A=this.getUint32()):(A=this.getUint32(),e=this.getUint32()),A&2147483648?(A=~A&4294967295,e=~e&4294967295,e===4294967295&&(A=A+1&4294967295),e=e+1&4294967295,-(A*4294967296+e)):A*4294967296+e}getInt64Array(e){const A=[];for(let s=0;s<e;s++)A.push(this.getInt64());return A}getUint64(){let e,A;return this.littleEndian?(e=this.getUint32(),A=this.getUint32()):(A=this.getUint32(),e=this.getUint32()),A*4294967296+e}getFloat32(){const e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}getFloat32Array(e){const A=[];for(let s=0;s<e;s++)A.push(this.getFloat32());return A}getFloat64(){const e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}getFloat64Array(e){const A=[];for(let s=0;s<e;s++)A.push(this.getFloat64());return A}getArrayBuffer(e){const A=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,A}getString(e){const A=this.offset;let s=new Uint8Array(this.dv.buffer,A,e);this.skip(e);const t=s.indexOf(0);return t>=0&&(s=new Uint8Array(this.dv.buffer,A,t)),this._textDecoder.decode(s)}}class vt{add(e,A){this[e]=A}}function Bn(l){const e="Kaydara FBX Binary  \0";return l.byteLength>=e.length&&e===Nt(l,0,e.length)}function bn(l){const e=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let A=0;function s(t){const a=l[t-1];return l=l.slice(A+t),A++,a}for(let t=0;t<e.length;++t)if(s(1)===e[t])return!1;return!0}function rt(l){const e=/FBXVersion: (\d+)/,A=l.match(e);if(A)return parseInt(A[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function En(l){return l/46186158e3}const Cn=[];function cA(l,e,A,s){let t;switch(s.mappingType){case"ByPolygonVertex":t=l;break;case"ByPolygon":t=e;break;case"ByVertice":t=A;break;case"AllSame":t=s.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+s.mappingType)}s.referenceType==="IndexToDirect"&&(t=s.indices[t]);const a=t*s.dataSize,n=a+s.dataSize;return mn(Cn,s.buffer,a,n)}const EA=new de,Ue=new N;function Ut(l){const e=new U,A=new U,s=new U,t=new U,a=new U,n=new U,i=new U,r=new U,c=new U,g=new U,o=new U,h=new U,d=l.inheritType?l.inheritType:0;if(l.translation&&e.setPosition(Ue.fromArray(l.translation)),l.preRotation){const D=l.preRotation.map(V.degToRad);D.push(l.eulerOrder||de.DEFAULT_ORDER),A.makeRotationFromEuler(EA.fromArray(D))}if(l.rotation){const D=l.rotation.map(V.degToRad);D.push(l.eulerOrder||de.DEFAULT_ORDER),s.makeRotationFromEuler(EA.fromArray(D))}if(l.postRotation){const D=l.postRotation.map(V.degToRad);D.push(l.eulerOrder||de.DEFAULT_ORDER),t.makeRotationFromEuler(EA.fromArray(D)),t.invert()}l.scale&&a.scale(Ue.fromArray(l.scale)),l.scalingOffset&&i.setPosition(Ue.fromArray(l.scalingOffset)),l.scalingPivot&&n.setPosition(Ue.fromArray(l.scalingPivot)),l.rotationOffset&&r.setPosition(Ue.fromArray(l.rotationOffset)),l.rotationPivot&&c.setPosition(Ue.fromArray(l.rotationPivot)),l.parentMatrixWorld&&(o.copy(l.parentMatrix),g.copy(l.parentMatrixWorld));const f=A.clone().multiply(s).multiply(t),p=new U;p.extractRotation(g);const I=new U;I.copyPosition(g);const u=I.clone().invert().multiply(g),B=p.clone().invert().multiply(u),b=a,E=new U;if(d===0)E.copy(p).multiply(f).multiply(B).multiply(b);else if(d===1)E.copy(p).multiply(B).multiply(f).multiply(b);else{const R=new U().scale(new N().setFromMatrixScale(o)).clone().invert(),x=B.clone().multiply(R);E.copy(p).multiply(f).multiply(x).multiply(b)}const m=c.clone().invert(),C=n.clone().invert();let w=e.clone().multiply(r).multiply(c).multiply(A).multiply(s).multiply(t).multiply(m).multiply(i).multiply(n).multiply(a).multiply(C);const Q=new U().copyPosition(w),y=g.clone().multiply(Q);return h.copyPosition(y),w=h.clone().multiply(E),w.premultiply(g.invert()),w}function _t(l){l=l||0;const e=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return l===6?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),e[0]):e[l]}function CA(l){return l.split(",").map(function(A){return parseFloat(A)})}function Nt(l,e,A){return e===void 0&&(e=0),A===void 0&&(A=l.byteLength),new TextDecoder().decode(new Uint8Array(l,e,A))}function Qn(l,e){for(let A=0,s=l.length,t=e.length;A<t;A++,s++)l[s]=e[A]}function mn(l,e,A,s){for(let t=A,a=0;t<s;t++,a++)l[a]=e[t];return l}const QA=new WeakMap;class wn extends ge{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,A,s,t){const a=new ne(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,n=>{this.parse(n,A,t)},s,t)}parse(e,A,s=()=>{}){this.decodeDracoFile(e,A,null,null,$,s).catch(s)}decodeDracoFile(e,A,s,t,a=ie,n=()=>{}){const i={attributeIDs:s||this.defaultAttributeIDs,attributeTypes:t||this.defaultAttributeTypes,useUniqueIDs:!!s,vertexColorSpace:a};return this.decodeGeometry(e,i).then(A).catch(n)}decodeGeometry(e,A){const s=JSON.stringify(A);if(QA.has(e)){const r=QA.get(e);if(r.key===s)return r.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let t;const a=this.workerNextTaskID++,n=e.byteLength,i=this._getWorker(a,n).then(r=>(t=r,new Promise((c,g)=>{t._callbacks[a]={resolve:c,reject:g},t.postMessage({type:"decode",id:a,taskConfig:A,buffer:e},[e])}))).then(r=>this._createGeometry(r.geometry));return i.catch(()=>!0).then(()=>{t&&a&&this._releaseTask(t,a)}),QA.set(e,{key:s,promise:i}),i}_createGeometry(e){const A=new xe;e.index&&A.setIndex(new Pe(e.index.array,1));for(let s=0;s<e.attributes.length;s++){const t=e.attributes[s],a=t.name,n=t.array,i=t.itemSize,r=new Pe(n,i);a==="color"&&(this._assignVertexColorSpace(r,t.vertexColorSpace),r.normalized=!(n instanceof Float32Array)),A.setAttribute(a,r)}return A}_assignVertexColorSpace(e,A){if(A!==$)return;const s=new j;for(let t=0,a=e.count;t<a;t++)s.fromBufferAttribute(e,t).convertSRGBToLinear(),e.setXYZ(t,s.r,s.g,s.b)}_loadLibrary(e,A){const s=new ne(this.manager);return s.setPath(this.decoderPath),s.setResponseType(A),s.setWithCredentials(this.withCredentials),new Promise((t,a)=>{s.load(e,t,void 0,a)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",A=[];return e?A.push(this._loadLibrary("draco_decoder.js","text")):(A.push(this._loadLibrary("draco_wasm_wrapper.js","text")),A.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(A).then(s=>{const t=s[0];e||(this.decoderConfig.wasmBinary=s[1]);const a=yn.toString(),n=["/* draco decoder */",t,"","/* worker */",a.substring(a.indexOf("{")+1,a.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([n]))}),this.decoderPending}_getWorker(e,A){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const t=new Worker(this.workerSourceURL);t._callbacks={},t._taskCosts={},t._taskLoad=0,t.postMessage({type:"init",decoderConfig:this.decoderConfig}),t.onmessage=function(a){const n=a.data;switch(n.type){case"decode":t._callbacks[n.id].resolve(n);break;case"error":t._callbacks[n.id].reject(n);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+n.type+'"')}},this.workerPool.push(t)}else this.workerPool.sort(function(t,a){return t._taskLoad>a._taskLoad?-1:1});const s=this.workerPool[this.workerPool.length-1];return s._taskCosts[e]=A,s._taskLoad+=A,s})}_releaseTask(e,A){e._taskLoad-=e._taskCosts[A],delete e._callbacks[A],delete e._taskCosts[A]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}}function yn(){let l,e;onmessage=function(n){const i=n.data;switch(i.type){case"init":l=i.decoderConfig,e=new Promise(function(g){l.onModuleLoaded=function(o){g({draco:o})},DracoDecoderModule(l)});break;case"decode":const r=i.buffer,c=i.taskConfig;e.then(g=>{const o=g.draco,h=new o.Decoder;try{const d=A(o,h,new Int8Array(r),c),f=d.attributes.map(p=>p.array.buffer);d.index&&f.push(d.index.array.buffer),self.postMessage({type:"decode",id:i.id,geometry:d},f)}catch(d){console.error(d),self.postMessage({type:"error",id:i.id,error:d.message})}finally{o.destroy(h)}});break}};function A(n,i,r,c){const g=c.attributeIDs,o=c.attributeTypes;let h,d;const f=i.GetEncodedGeometryType(r);if(f===n.TRIANGULAR_MESH)h=new n.Mesh,d=i.DecodeArrayToMesh(r,r.byteLength,h);else if(f===n.POINT_CLOUD)h=new n.PointCloud,d=i.DecodeArrayToPointCloud(r,r.byteLength,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!d.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+d.error_msg());const p={index:null,attributes:[]};for(const I in g){const u=self[o[I]];let B,b;if(c.useUniqueIDs)b=g[I],B=i.GetAttributeByUniqueId(h,b);else{if(b=i.GetAttributeId(h,n[g[I]]),b===-1)continue;B=i.GetAttribute(h,b)}const E=t(n,i,h,I,u,B);I==="color"&&(E.vertexColorSpace=c.vertexColorSpace),p.attributes.push(E)}return f===n.TRIANGULAR_MESH&&(p.index=s(n,i,h)),n.destroy(h),p}function s(n,i,r){const g=r.num_faces()*3,o=g*4,h=n._malloc(o);i.GetTrianglesUInt32Array(r,o,h);const d=new Uint32Array(n.HEAPF32.buffer,h,g).slice();return n._free(h),{array:d,itemSize:1}}function t(n,i,r,c,g,o){const h=o.num_components(),f=r.num_points()*h,p=f*g.BYTES_PER_ELEMENT,I=a(n,g),u=n._malloc(p);i.GetAttributeDataArrayForAllPoints(r,o,I,p,u);const B=new g(n.HEAPF32.buffer,u,f).slice();return n._free(u),{name:c,array:B,itemSize:h}}function a(n,i){switch(i){case Float32Array:return n.DT_FLOAT32;case Int8Array:return n.DT_INT8;case Int16Array:return n.DT_INT16;case Int32Array:return n.DT_INT32;case Uint8Array:return n.DT_UINT8;case Uint16Array:return n.DT_UINT16;case Uint32Array:return n.DT_UINT32}}}class Dn{constructor(e=4){this.pool=e,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(e){if(!this.workers[e]){const A=this.workerCreator();A.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=A}}_getIdleWorker(){for(let e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}_onMessage(e,A){const s=this.workersResolve[e];if(s&&s(A),this.queue.length){const{resolve:t,msg:a,transfer:n}=this.queue.shift();this.workersResolve[e]=t,this.workers[e].postMessage(a,n)}else this.workerStatus^=1<<e}setWorkerCreator(e){this.workerCreator=e}setWorkerLimit(e){this.pool=e}postMessage(e,A){return new Promise(s=>{const t=this._getIdleWorker();t!==-1?(this._initWorker(t),this.workerStatus|=1<<t,this.workersResolve[t]=s,this.workers[t].postMessage(e,A)):this.queue.push({resolve:s,msg:e,transfer:A})})}dispose(){this.workers.forEach(e=>e.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}const Rn=0,ot=2,Fn=1,ct=2,kn=0,Sn=1,xn=10,Tn=0,Pt=9,Ot=15,Ht=16,qt=22,jt=37,Kt=43,Jt=76,Yt=83,Vt=97,zt=100,Xt=103,Wt=109,Zt=165,$t=166;class Ln{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class je{constructor(e,A,s,t){this._dataView=new DataView(e.buffer,e.byteOffset+A,s),this._littleEndian=t,this._offset=0}_nextUint8(){const e=this._dataView.getUint8(this._offset);return this._offset+=1,e}_nextUint16(){const e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}_nextUint32(){const e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint64(){const e=this._dataView.getUint32(this._offset,this._littleEndian)+4294967296*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,e}_nextInt32(){const e=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,e}_skip(e){return this._offset+=e,this}_scan(e,A=0){const s=this._offset;let t=0;for(;this._dataView.getUint8(this._offset)!==A&&t<e;)t++,this._offset++;return t<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+s,t)}}const z=[171,75,84,88,32,50,48,187,13,10,26,10];function gt(l){return typeof TextDecoder!="undefined"?new TextDecoder().decode(l):Buffer.from(l).toString("utf8")}function Gn(l){const e=new Uint8Array(l.buffer,l.byteOffset,z.length);if(e[0]!==z[0]||e[1]!==z[1]||e[2]!==z[2]||e[3]!==z[3]||e[4]!==z[4]||e[5]!==z[5]||e[6]!==z[6]||e[7]!==z[7]||e[8]!==z[8]||e[9]!==z[9]||e[10]!==z[10]||e[11]!==z[11])throw new Error("Missing KTX 2.0 identifier.");const A=new Ln,s=17*Uint32Array.BYTES_PER_ELEMENT,t=new je(l,z.length,s,!0);A.vkFormat=t._nextUint32(),A.typeSize=t._nextUint32(),A.pixelWidth=t._nextUint32(),A.pixelHeight=t._nextUint32(),A.pixelDepth=t._nextUint32(),A.layerCount=t._nextUint32(),A.faceCount=t._nextUint32();const a=t._nextUint32();A.supercompressionScheme=t._nextUint32();const n=t._nextUint32(),i=t._nextUint32(),r=t._nextUint32(),c=t._nextUint32(),g=t._nextUint64(),o=t._nextUint64(),h=new je(l,z.length+s,3*a*8,!0);for(let v=0;v<a;v++)A.levels.push({levelData:new Uint8Array(l.buffer,l.byteOffset+h._nextUint64(),h._nextUint64()),uncompressedByteLength:h._nextUint64()});const d=new je(l,n,i,!0),f={vendorId:d._skip(4)._nextUint16(),descriptorType:d._nextUint16(),versionNumber:d._nextUint16(),descriptorBlockSize:d._nextUint16(),colorModel:d._nextUint8(),colorPrimaries:d._nextUint8(),transferFunction:d._nextUint8(),flags:d._nextUint8(),texelBlockDimension:[d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8()],bytesPlane:[d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8()],samples:[]},p=(f.descriptorBlockSize/4-6)/4;for(let v=0;v<p;v++){const H={bitOffset:d._nextUint16(),bitLength:d._nextUint8(),channelType:d._nextUint8(),samplePosition:[d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&H.channelType?(H.sampleLower=d._nextInt32(),H.sampleUpper=d._nextInt32()):(H.sampleLower=d._nextUint32(),H.sampleUpper=d._nextUint32()),f.samples[v]=H}A.dataFormatDescriptor.length=0,A.dataFormatDescriptor.push(f);const I=new je(l,r,c,!0);for(;I._offset<c;){const v=I._nextUint32(),H=I._scan(v),O=gt(H),P=I._scan(v-H.byteLength);A.keyValue[O]=O.match(/^ktx/i)?gt(P):P,I._offset%4&&I._skip(4-I._offset%4)}if(o<=0)return A;const u=new je(l,g,o,!0),B=u._nextUint16(),b=u._nextUint16(),E=u._nextUint32(),m=u._nextUint32(),C=u._nextUint32(),w=u._nextUint32(),Q=[];for(let v=0;v<a;v++)Q.push({imageFlags:u._nextUint32(),rgbSliceByteOffset:u._nextUint32(),rgbSliceByteLength:u._nextUint32(),alphaSliceByteOffset:u._nextUint32(),alphaSliceByteLength:u._nextUint32()});const y=g+u._offset,D=y+E,R=D+m,x=R+C,G=new Uint8Array(l.buffer,l.byteOffset+y,E),F=new Uint8Array(l.buffer,l.byteOffset+D,m),L=new Uint8Array(l.buffer,l.byteOffset+R,C),k=new Uint8Array(l.buffer,l.byteOffset+x,w);return A.globalData={endpointCount:B,selectorCount:b,imageDescs:Q,endpointsData:G,selectorsData:F,tablesData:L,extendedData:k},A}let mA,Be,PA;const wA={env:{emscripten_notify_memory_growth:function(l){PA=new Uint8Array(Be.exports.memory.buffer)}}};class Mn{init(){return mA||(mA=typeof fetch!="undefined"?fetch("data:application/wasm;base64,"+lt).then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,wA)).then(this._init):WebAssembly.instantiate(Buffer.from(lt,"base64"),wA).then(this._init),mA)}_init(e){Be=e.instance,wA.env.emscripten_notify_memory_growth(0)}decode(e,A=0){if(!Be)throw new Error("ZSTDDecoder: Await .init() before decoding.");const s=e.byteLength,t=Be.exports.malloc(s);PA.set(e,t),A=A||Number(Be.exports.ZSTD_findDecompressedSize(t,s));const a=Be.exports.malloc(A),n=Be.exports.ZSTD_decompress(a,A,t,s),i=PA.slice(a,a+n);return Be.exports.free(t),Be.exports.free(a),i}}const lt="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IAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQh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ASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigC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C0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdB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IAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY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wOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEE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",yA=new WeakMap;let DA=0,RA;class fe extends ge{constructor(e){super(e),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new Dn,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER!="undefined"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(e){return this.transcoderPath=e,this}setWorkerLimit(e){return this.workerPool.setWorkerLimit(e),this}async detectSupportAsync(e){return this.workerConfig={astcSupported:await e.hasFeatureAsync("texture-compression-astc"),etc1Supported:await e.hasFeatureAsync("texture-compression-etc1"),etc2Supported:await e.hasFeatureAsync("texture-compression-etc2"),dxtSupported:await e.hasFeatureAsync("texture-compression-bc"),bptcSupported:await e.hasFeatureAsync("texture-compression-bptc"),pvrtcSupported:await e.hasFeatureAsync("texture-compression-pvrtc")},this}detectSupport(e){return e.isWebGPURenderer===!0?this.workerConfig={astcSupported:e.hasFeature("texture-compression-astc"),etc1Supported:e.hasFeature("texture-compression-etc1"),etc2Supported:e.hasFeature("texture-compression-etc2"),dxtSupported:e.hasFeature("texture-compression-bc"),bptcSupported:e.hasFeature("texture-compression-bptc"),pvrtcSupported:e.hasFeature("texture-compression-pvrtc")}:this.workerConfig={astcSupported:e.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:e.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:e.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:e.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:e.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:e.extensions.has("WEBGL_compressed_texture_pvrtc")||e.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},this}init(){if(!this.transcoderPending){const e=new ne(this.manager);e.setPath(this.transcoderPath),e.setWithCredentials(this.withCredentials);const A=e.loadAsync("basis_transcoder.js"),s=new ne(this.manager);s.setPath(this.transcoderPath),s.setResponseType("arraybuffer"),s.setWithCredentials(this.withCredentials);const t=s.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([A,t]).then(([a,n])=>{const i=fe.BasisWorker.toString(),r=["/* constants */","let _EngineFormat = "+JSON.stringify(fe.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(fe.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(fe.BasisFormat),"/* basis_transcoder.js */",a,"/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([r])),this.transcoderBinary=n,this.workerPool.setWorkerCreator(()=>{const c=new Worker(this.workerSourceURL),g=this.transcoderBinary.slice(0);return c.postMessage({type:"init",config:this.workerConfig,transcoderBinary:g},[g]),c})}),DA>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),DA++}return this.transcoderPending}load(e,A,s,t){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const a=new ne(this.manager);a.setResponseType("arraybuffer"),a.setWithCredentials(this.withCredentials),a.load(e,n=>{if(yA.has(n))return yA.get(n).promise.then(A).catch(t);this._createTexture(n).then(i=>A?A(i):null).catch(t)},s,t)}_createTextureFrom(e,A){const{faces:s,width:t,height:a,format:n,type:i,error:r,dfdFlags:c}=e;if(i==="error")return Promise.reject(r);let g;if(A.faceCount===6)g=new xs(s,n,K);else{const o=s[0].mipmaps;g=A.layerCount>1?new Ts(o,t,a,A.layerCount,n,K):new wt(o,t,a,n,K)}return g.minFilter=s[0].mipmaps.length===1?Ie:HA,g.magFilter=Ie,g.generateMipmaps=!1,g.needsUpdate=!0,g.colorSpace=es(A),g.premultiplyAlpha=!!(c&Fn),g}async _createTexture(e,A={}){const s=Gn(new Uint8Array(e));if(s.vkFormat!==Tn)return Un(s);const t=A,a=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:e,taskConfig:t},[e])).then(n=>this._createTextureFrom(n.data,s));return yA.set(e,{promise:a}),a}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),DA--,this}}fe.BasisFormat={ETC1S:0,UASTC_4x4:1};fe.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16};fe.EngineFormat={RGBAFormat:Se,RGBA_ASTC_4x4_Format:Ls,RGBA_BPTC_Format:Gs,RGBA_ETC2_EAC_Format:Ms,RGBA_PVRTC_4BPPV1_Format:vs,RGBA_S3TC_DXT5_Format:yt,RGB_ETC1_Format:Dt,RGB_ETC2_Format:Us,RGB_PVRTC_4BPPV1_Format:_s,RGBA_S3TC_DXT1_Format:Ns};fe.BasisWorker=function(){let l,e,A;const s=_EngineFormat,t=_TranscoderFormat,a=_BasisFormat;self.addEventListener("message",function(f){const p=f.data;switch(p.type){case"init":l=p.config,n(p.transcoderBinary);break;case"transcode":e.then(()=>{try{const{faces:I,buffers:u,width:B,height:b,hasAlpha:E,format:m,dfdFlags:C}=i(p.buffer);self.postMessage({type:"transcode",id:p.id,faces:I,width:B,height:b,hasAlpha:E,format:m,dfdFlags:C},u)}catch(I){console.error(I),self.postMessage({type:"error",id:p.id,error:I.message})}});break}});function n(f){e=new Promise(p=>{A={wasmBinary:f,onRuntimeInitialized:p},BASIS(A)}).then(()=>{A.initializeBasis(),A.KTX2File===void 0&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}function i(f){const p=new A.KTX2File(new Uint8Array(f));function I(){p.close(),p.delete()}if(!p.isValid())throw I(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");const u=p.isUASTC()?a.UASTC_4x4:a.ETC1S,B=p.getWidth(),b=p.getHeight(),E=p.getLayers()||1,m=p.getLevels(),C=p.getFaces(),w=p.getHasAlpha(),Q=p.getDFDFlags(),{transcoderFormat:y,engineFormat:D}=o(u,B,b,w);if(!B||!b||!m)throw I(),new Error("THREE.KTX2Loader:	Invalid texture");if(!p.startTranscoding())throw I(),new Error("THREE.KTX2Loader: .startTranscoding failed");const R=[],x=[];for(let G=0;G<C;G++){const F=[];for(let L=0;L<m;L++){const k=[];let v,H;for(let P=0;P<E;P++){const ee=p.getImageLevelInfo(L,P,G);G===0&&L===0&&P===0&&(ee.origWidth%4!==0||ee.origHeight%4!==0)&&console.warn("THREE.KTX2Loader: ETC1S and UASTC textures should use multiple-of-four dimensions."),m>1?(v=ee.origWidth,H=ee.origHeight):(v=ee.width,H=ee.height);const J=new Uint8Array(p.getImageTranscodedSizeInBytes(L,P,0,y));if(!p.transcodeImage(J,L,P,G,y,0,-1,-1))throw I(),new Error("THREE.KTX2Loader: .transcodeImage failed.");k.push(J)}const O=d(k);F.push({data:O,width:v,height:H}),x.push(O.buffer)}R.push({mipmaps:F,width:B,height:b,format:D})}return I(),{faces:R,buffers:x,width:B,height:b,hasAlpha:w,format:D,dfdFlags:Q}}const r=[{if:"astcSupported",basisFormat:[a.UASTC_4x4],transcoderFormat:[t.ASTC_4x4,t.ASTC_4x4],engineFormat:[s.RGBA_ASTC_4x4_Format,s.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[t.BC7_M5,t.BC7_M5],engineFormat:[s.RGBA_BPTC_Format,s.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[t.BC1,t.BC3],engineFormat:[s.RGBA_S3TC_DXT1_Format,s.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[t.ETC1,t.ETC2],engineFormat:[s.RGB_ETC2_Format,s.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[t.ETC1],engineFormat:[s.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[t.PVRTC1_4_RGB,t.PVRTC1_4_RGBA],engineFormat:[s.RGB_PVRTC_4BPPV1_Format,s.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],c=r.sort(function(f,p){return f.priorityETC1S-p.priorityETC1S}),g=r.sort(function(f,p){return f.priorityUASTC-p.priorityUASTC});function o(f,p,I,u){let B,b;const E=f===a.ETC1S?c:g;for(let m=0;m<E.length;m++){const C=E[m];if(!!l[C.if]&&!!C.basisFormat.includes(f)&&!(u&&C.transcoderFormat.length<2)&&!(C.needsPowerOfTwo&&!(h(p)&&h(I))))return B=C.transcoderFormat[u?1:0],b=C.engineFormat[u?1:0],{transcoderFormat:B,engineFormat:b}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),B=t.RGBA32,b=s.RGBAFormat,{transcoderFormat:B,engineFormat:b}}function h(f){return f<=2?!0:(f&f-1)===0&&f!==0}function d(f){if(f.length===1)return f[0];let p=0;for(let B=0;B<f.length;B++)p+=f[B].byteLength;const I=new Uint8Array(p);let u=0;for(let B=0;B<f.length;B++){const b=f[B];I.set(b,u),u+=b.byteLength}return I}};const vn=new Set([Se,Ye,Ve]),FA={[Wt]:Se,[Vt]:Se,[jt]:Se,[Kt]:Se,[Xt]:Ye,[Yt]:Ye,[Ht]:Ye,[qt]:Ye,[zt]:Ve,[Jt]:Ve,[Ot]:Ve,[Pt]:Ve,[$t]:YA,[Zt]:YA},kA={[Wt]:Ee,[Vt]:ke,[jt]:K,[Kt]:K,[Xt]:Ee,[Yt]:ke,[Ht]:K,[qt]:K,[zt]:Ee,[Jt]:ke,[Ot]:K,[Pt]:K,[$t]:K,[Zt]:K};async function Un(l){const{vkFormat:e}=l;if(FA[e]===void 0)throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");let A;l.supercompressionScheme===ot&&(RA||(RA=new Promise(async a=>{const n=new Mn;await n.init(),a(n)})),A=await RA);const s=[];for(let a=0;a<l.levels.length;a++){const n=Math.max(1,l.pixelWidth>>a),i=Math.max(1,l.pixelHeight>>a),r=l.pixelDepth?Math.max(1,l.pixelDepth>>a):0,c=l.levels[a];let g;if(l.supercompressionScheme===Rn)g=c.levelData;else if(l.supercompressionScheme===ot)g=A.decode(c.levelData,c.uncompressedByteLength);else throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");let o;kA[e]===Ee?o=new Float32Array(g.buffer,g.byteOffset,g.byteLength/Float32Array.BYTES_PER_ELEMENT):kA[e]===ke?o=new Uint16Array(g.buffer,g.byteOffset,g.byteLength/Uint16Array.BYTES_PER_ELEMENT):o=g,s.push({data:o,width:n,height:i,depth:r})}let t;if(vn.has(FA[e]))t=l.pixelDepth===0?new Ps(s[0].data,l.pixelWidth,l.pixelHeight):new qA(s[0].data,l.pixelWidth,l.pixelHeight,l.pixelDepth);else{if(l.pixelDepth>0)throw new Error("THREE.KTX2Loader: Unsupported pixelDepth.");t=new wt(s,l.pixelWidth,l.pixelHeight)}return t.mipmaps=s,t.type=kA[e],t.format=FA[e],t.colorSpace=es(l),t.needsUpdate=!0,Promise.resolve(t)}function es(l){const e=l.dataFormatDescriptor[0];return e.colorPrimaries===Sn?e.transferFunction===ct?$:ie:e.colorPrimaries===xn?e.transferFunction===ct?Os:Hs:e.colorPrimaries===kn?VA:(console.warn(`THREE.KTX2Loader: Unsupported color primaries, "${e.colorPrimaries}"`),VA)}class _n extends qs{constructor(e){super(e)}parse(e,A){const s={mipmaps:[],width:0,height:0,format:null,mipmapCount:1},t=542327876,a=131072,n=512,i=1024,r=2048,c=4096,g=8192,o=16384,h=32768,d=95,f=96;function p(Y){return Y.charCodeAt(0)+(Y.charCodeAt(1)<<8)+(Y.charCodeAt(2)<<16)+(Y.charCodeAt(3)<<24)}function I(Y){return String.fromCharCode(Y&255,Y>>8&255,Y>>16&255,Y>>24&255)}function u(Y,Z,re,we){const Te=re*we*4,ue=new Uint8Array(Y,Z,Te),Le=new Uint8Array(Te);let ye=0,De=0;for(let jA=0;jA<we;jA++)for(let KA=0;KA<re;KA++){const As=ue[De];De++;const ts=ue[De];De++;const ss=ue[De];De++;const as=ue[De];De++,Le[ye]=ss,ye++,Le[ye]=ts,ye++,Le[ye]=As,ye++,Le[ye]=as,ye++}return Le}const B=p("DXT1"),b=p("DXT3"),E=p("DXT5"),m=p("ETC1"),C=p("DX10"),w=31,Q=5,y=0,D=1,R=2,x=3,G=4,F=7,L=21,k=22,v=23,H=24,O=25,P=26,ee=28,J=0,M=new Int32Array(e,0,w);if(M[y]!==t)return console.error("THREE.DDSLoader.parse: Invalid magic number in DDS header."),s;let W;const Qe=M[L];let ve=!1,me=M[D]+4;switch(Qe){case B:W=8,s.format=Ys;break;case b:W=16,s.format=Js;break;case E:W=16,s.format=yt;break;case m:W=8,s.format=Dt;break;case C:me+=Q*4;const Z=new Int32Array(e,(w+1)*4,Q)[J];switch(Z){case f:{W=16,s.format=Ks;break}case d:{W=16,s.format=js;break}default:return console.error("THREE.DDSLoader.parse: Unsupported DXGI_FORMAT code ",Z),s}break;default:if(M[k]===32&&M[v]&16711680&&M[H]&65280&&M[O]&255&&M[P]&4278190080)ve=!0,W=64,s.format=Se;else return console.error("THREE.DDSLoader.parse: Unsupported FourCC code ",I(Qe)),s}s.mipmapCount=1,M[R]&a&&A!==!1&&(s.mipmapCount=Math.max(1,M[F]));const le=M[ee];if(s.isCubemap=!!(le&n),s.isCubemap&&(!(le&i)||!(le&r)||!(le&c)||!(le&g)||!(le&o)||!(le&h)))return console.error("THREE.DDSLoader.parse: Incomplete cubemap faces"),s;s.width=M[G],s.height=M[x];const iA=s.isCubemap?6:1;for(let Y=0;Y<iA;Y++){let Z=s.width,re=s.height;for(let we=0;we<s.mipmapCount;we++){let Te,ue;ve?(Te=u(e,me,Z,re),ue=Te.length):(ue=Math.max(4,Z)/4*Math.max(4,re)/4*W,Te=new Uint8Array(e,me,ue));const Le={data:Te,width:Z,height:re};s.mipmaps.push(Le),me+=ue,Z=Math.max(Z>>1,1),re=Math.max(re>>1,1)}}return s}}var Nn=function(){var l="b9H79Tebbbe8Fv9Gbb9Gvuuuuueu9Giuuub9Geueu9Giuuueuikqbeeedddillviebeoweuec:q;iekr;leDo9TW9T9VV95dbH9F9F939H79T9F9J9H229F9Jt9VV7bb8A9TW79O9V9Wt9F9KW9J9V9KW9wWVtW949c919M9MWVbeY9TW79O9V9Wt9F9KW9J9V9KW69U9KW949c919M9MWVbdE9TW79O9V9Wt9F9KW9J9V9KW69U9KW949tWG91W9U9JWbiL9TW79O9V9Wt9F9KW9J9V9KWS9P2tWV9p9JtblK9TW79O9V9Wt9F9KW9J9V9KWS9P2tWV9r919HtbvL9TW79O9V9Wt9F9KW9J9V9KWS9P2tWVT949Wbol79IV9Rbrq:P8Yqdbk;3sezu8Jjjjjbcj;eb9Rgv8Kjjjjbc9:hodnadcefal0mbcuhoaiRbbc:Ge9hmbavaialfgrad9Radz1jjjbhwcj;abad9UhoaicefhldnadTmbaoc;WFbGgocjdaocjd6EhDcbhqinaqae9pmeaDaeaq9RaqaDfae6Egkcsfgocl4cifcd4hxdndndndnaoc9WGgmTmbcbhPcehsawcjdfhzalhHinaraH9Rax6midnaraHaxfgl9RcK6mbczhoinawcj;cbfaogifgoc9WfhOdndndndndnaHaic9WfgAco4fRbbaAci4coG4ciGPlbedibkaO9cb83ibaOcwf9cb83ibxikaOalRblalRbbgAco4gCaCciSgCE86bbaocGfalclfaCfgORbbaAcl4ciGgCaCciSgCE86bbaocVfaOaCfgORbbaAcd4ciGgCaCciSgCE86bbaoc7faOaCfgORbbaAciGgAaAciSgAE86bbaoctfaOaAfgARbbalRbegOco4gCaCciSgCE86bbaoc91faAaCfgARbbaOcl4ciGgCaCciSgCE86bbaoc4faAaCfgARbbaOcd4ciGgCaCciSgCE86bbaoc93faAaCfgARbbaOciGgOaOciSgOE86bbaoc94faAaOfgARbbalRbdgOco4gCaCciSgCE86bbaoc95faAaCfgARbbaOcl4ciGgCaCciSgCE86bbaoc96faAaCfgARbbaOcd4ciGgCaCciSgCE86bbaoc97faAaCfgARbbaOciGgOaOciSgOE86bbaoc98faAaOfgORbbalRbiglco4gAaAciSgAE86bbaoc99faOaAfgORbbalcl4ciGgAaAciSgAE86bbaoc9:faOaAfgORbbalcd4ciGgAaAciSgAE86bbaocufaOaAfgoRbbalciGglalciSglE86bbaoalfhlxdkaOalRbwalRbbgAcl4gCaCcsSgCE86bbaocGfalcwfaCfgORbbaAcsGgAaAcsSgAE86bbaocVfaOaAfgORbbalRbegAcl4gCaCcsSgCE86bbaoc7faOaCfgORbbaAcsGgAaAcsSgAE86bbaoctfaOaAfgORbbalRbdgAcl4gCaCcsSgCE86bbaoc91faOaCfgORbbaAcsGgAaAcsSgAE86bbaoc4faOaAfgORbbalRbigAcl4gCaCcsSgCE86bbaoc93faOaCfgORbbaAcsGgAaAcsSgAE86bbaoc94faOaAfgORbbalRblgAcl4gCaCcsSgCE86bbaoc95faOaCfgORbbaAcsGgAaAcsSgAE86bbaoc96faOaAfgORbbalRbvgAcl4gCaCcsSgCE86bbaoc97faOaCfgORbbaAcsGgAaAcsSgAE86bbaoc98faOaAfgORbbalRbogAcl4gCaCcsSgCE86bbaoc99faOaCfgORbbaAcsGgAaAcsSgAE86bbaoc9:faOaAfgORbbalRbrglcl4gAaAcsSgAE86bbaocufaOaAfgoRbbalcsGglalcsSglE86bbaoalfhlxekaOal8Pbb83bbaOcwfalcwf8Pbb83bbalczfhlkdnaiam9pmbaiczfhoaral9RcL0mekkaiam6mialTmidnakTmbawaPfRbbhOcbhoazhiinaiawcj;cbfaofRbbgAce4cbaAceG9R7aOfgO86bbaiadfhiaocefgoak9hmbkkazcefhzaPcefgPad6hsalhHaPad9hmexvkkcbhlasceGmdxikalaxad2fhCdnakTmbcbhHcehsawcjdfhminaral9Rax6mialTmdalaxfhlawaHfRbbhOcbhoamhiinaiawcj;cbfaofRbbgAce4cbaAceG9R7aOfgO86bbaiadfhiaocefgoak9hmbkamcefhmaHcefgHad6hsaHad9hmbkaChlxikcbhocehsinaral9Rax6mdalTmealaxfhlaocefgoad6hsadao9hmbkaChlxdkcbhlasceGTmekc9:hoxikabaqad2fawcjdfakad2z1jjjb8Aawawcjdfakcufad2fadz1jjjb8Aakaqfhqalmbkc9:hoxekcbc99aral9Radcaadca0ESEhokavcj;ebf8Kjjjjbaok;yzeHu8Jjjjjbc;ae9Rgv8Kjjjjbc9:hodnaeci9UgrcHfal0mbcuhoaiRbbgwc;WeGc;Ge9hmbawcsGgDce0mbavc;abfcFecjez:jjjjb8AavcUf9cu83ibavc8Wf9cu83ibavcyf9cu83ibavcaf9cu83ibavcKf9cu83ibavczf9cu83ibav9cu83iwav9cu83ibaialfc9WfhqaicefgwarfhodnaeTmbcmcsaDceSEhkcbhxcbhmcbhDcbhicbhlindnaoaq9nmbc9:hoxikdndnawRbbgrc;Ve0mbavc;abfalarcl4cu7fcsGcitfgPydlhsaPydbhzdnarcsGgPak9pmbavaiarcu7fcsGcdtfydbaxaPEhraPThPdndnadcd9hmbabaDcetfgHaz87ebaHcdfas87ebaHclfar87ebxekabaDcdtfgHazBdbaHclfasBdbaHcwfarBdbkaxaPfhxavc;abfalcitfgHarBdbaHasBdlavaicdtfarBdbavc;abfalcefcsGglcitfgHazBdbaHarBdlaiaPfhialcefhlxdkdndnaPcsSmbamaPfaPc987fcefhmxekaocefhrao8SbbgPcFeGhHdndnaPcu9mmbarhoxekaocvfhoaHcFbGhHcrhPdninar8SbbgOcFbGaPtaHVhHaOcu9kmearcefhraPcrfgPc8J9hmbxdkkarcefhokaHce4cbaHceG9R7amfhmkdndnadcd9hmbabaDcetfgraz87ebarcdfas87ebarclfam87ebxekabaDcdtfgrazBdbarclfasBdbarcwfamBdbkavc;abfalcitfgramBdbarasBdlavaicdtfamBdbavc;abfalcefcsGglcitfgrazBdbaramBdlaicefhialcefhlxekdnarcpe0mbaxcefgOavaiaqarcsGfRbbgPcl49RcsGcdtfydbaPcz6gHEhravaiaP9RcsGcdtfydbaOaHfgsaPcsGgOEhPaOThOdndnadcd9hmbabaDcetfgzax87ebazcdfar87ebazclfaP87ebxekabaDcdtfgzaxBdbazclfarBdbazcwfaPBdbkavaicdtfaxBdbavc;abfalcitfgzarBdbazaxBdlavaicefgicsGcdtfarBdbavc;abfalcefcsGcitfgzaPBdbazarBdlavaiaHfcsGgicdtfaPBdbavc;abfalcdfcsGglcitfgraxBdbaraPBdlalcefhlaiaOfhiasaOfhxxekaxcbaoRbbgzEgAarc;:eSgrfhsazcsGhCazcl4hXdndnazcs0mbascefhOxekashOavaiaX9RcsGcdtfydbhskdndnaCmbaOcefhxxekaOhxavaiaz9RcsGcdtfydbhOkdndnarTmbaocefhrxekaocdfhrao8SbegHcFeGhPdnaHcu9kmbaocofhAaPcFbGhPcrhodninar8SbbgHcFbGaotaPVhPaHcu9kmearcefhraocrfgoc8J9hmbkaAhrxekarcefhrkaPce4cbaPceG9R7amfgmhAkdndnaXcsSmbarhPxekarcefhPar8SbbgocFeGhHdnaocu9kmbarcvfhsaHcFbGhHcrhodninaP8SbbgrcFbGaotaHVhHarcu9kmeaPcefhPaocrfgoc8J9hmbkashPxekaPcefhPkaHce4cbaHceG9R7amfgmhskdndnaCcsSmbaPhoxekaPcefhoaP8SbbgrcFeGhHdnarcu9kmbaPcvfhOaHcFbGhHcrhrdninao8SbbgPcFbGartaHVhHaPcu9kmeaocefhoarcrfgrc8J9hmbkaOhoxekaocefhokaHce4cbaHceG9R7amfgmhOkdndnadcd9hmbabaDcetfgraA87ebarcdfas87ebarclfaO87ebxekabaDcdtfgraABdbarclfasBdbarcwfaOBdbkavc;abfalcitfgrasBdbaraABdlavaicdtfaABdbavc;abfalcefcsGcitfgraOBdbarasBdlavaicefgicsGcdtfasBdbavc;abfalcdfcsGcitfgraABdbaraOBdlavaiazcz6aXcsSVfgicsGcdtfaOBdbaiaCTaCcsSVfhialcifhlkawcefhwalcsGhlaicsGhiaDcifgDae6mbkkcbc99aoaqSEhokavc;aef8Kjjjjbaok:llevu8Jjjjjbcz9Rhvc9:hodnaecvfal0mbcuhoaiRbbc;:eGc;qe9hmbav9cb83iwaicefhraialfc98fhwdnaeTmbdnadcdSmbcbhDindnaraw6mbc9:skarcefhoar8SbbglcFeGhidndnalcu9mmbaohrxekarcvfhraicFbGhicrhldninao8SbbgdcFbGaltaiVhiadcu9kmeaocefhoalcrfglc8J9hmbxdkkaocefhrkabaDcdtfaicd4cbaice4ceG9R7avcwfaiceGcdtVgoydbfglBdbaoalBdbaDcefgDae9hmbxdkkcbhDindnaraw6mbc9:skarcefhoar8SbbglcFeGhidndnalcu9mmbaohrxekarcvfhraicFbGhicrhldninao8SbbgdcFbGaltaiVhiadcu9kmeaocefhoalcrfglc8J9hmbxdkkaocefhrkabaDcetfaicd4cbaice4ceG9R7avcwfaiceGcdtVgoydbfgl87ebaoalBdbaDcefgDae9hmbkkcbc99arawSEhokaok:Lvoeue99dud99eud99dndnadcl9hmbaeTmeindndnabcdfgd8Sbb:Yab8Sbbgi:Ygl:l:tabcefgv8Sbbgo:Ygr:l:tgwJbb;:9cawawNJbbbbawawJbbbb9GgDEgq:mgkaqaicb9iEalMgwawNakaqaocb9iEarMgqaqNMM:r:vglNJbbbZJbbb:;aDEMgr:lJbbb9p9DTmbar:Ohixekcjjjj94hikadai86bbdndnaqalNJbbbZJbbb:;aqJbbbb9GEMgq:lJbbb9p9DTmbaq:Ohdxekcjjjj94hdkavad86bbdndnawalNJbbbZJbbb:;awJbbbb9GEMgw:lJbbb9p9DTmbaw:Ohdxekcjjjj94hdkabad86bbabclfhbaecufgembxdkkaeTmbindndnabclfgd8Ueb:Yab8Uebgi:Ygl:l:tabcdfgv8Uebgo:Ygr:l:tgwJb;:FSawawNJbbbbawawJbbbb9GgDEgq:mgkaqaicb9iEalMgwawNakaqaocb9iEarMgqaqNMM:r:vglNJbbbZJbbb:;aDEMgr:lJbbb9p9DTmbar:Ohixekcjjjj94hikadai87ebdndnaqalNJbbbZJbbb:;aqJbbbb9GEMgq:lJbbb9p9DTmbaq:Ohdxekcjjjj94hdkavad87ebdndnawalNJbbbZJbbb:;awJbbbb9GEMgw:lJbbb9p9DTmbaw:Ohdxekcjjjj94hdkabad87ebabcwfhbaecufgembkkk;siliui99iue99dnaeTmbcbhiabhlindndnJ;Zl81Zalcof8UebgvciV:Y:vgoal8Ueb:YNgrJb;:FSNJbbbZJbbb:;arJbbbb9GEMgw:lJbbb9p9DTmbaw:OhDxekcjjjj94hDkalclf8Uebhqalcdf8UebhkabavcefciGaiVcetfaD87ebdndnaoak:YNgwJb;:FSNJbbbZJbbb:;awJbbbb9GEMgx:lJbbb9p9DTmbax:Ohkxekcjjjj94hkkabavcdfciGaiVcetfak87ebdndnaoaq:YNgoJb;:FSNJbbbZJbbb:;aoJbbbb9GEMgx:lJbbb9p9DTmbax:Ohqxekcjjjj94hqkabavcufciGaiVcetfaq87ebdndnJbbjZararN:tawawN:taoaoN:tgrJbbbbarJbbbb9GE:rJb;:FSNJbbbZMgr:lJbbb9p9DTmbar:Ohqxekcjjjj94hqkabavciGaiVcetfaq87ebalcwfhlaiclfhiaecufgembkkk9mbdnadcd4ae2geTmbinababydbgdcwtcw91:Yadce91cjjj;8ifcjjj98G::NUdbabclfhbaecufgembkkk9teiucbcbydj1jjbgeabcifc98GfgbBdj1jjbdndnabZbcztgd9nmbcuhiabad9RcFFifcz4nbcuSmekaehikaik;LeeeudndnaeabVciGTmbabhixekdndnadcz9pmbabhixekabhiinaiaeydbBdbaiclfaeclfydbBdbaicwfaecwfydbBdbaicxfaecxfydbBdbaiczfhiaeczfheadc9Wfgdcs0mbkkadcl6mbinaiaeydbBdbaeclfheaiclfhiadc98fgdci0mbkkdnadTmbinaiaeRbb86bbaicefhiaecefheadcufgdmbkkabk;aeedudndnabciGTmbabhixekaecFeGc:b:c:ew2hldndnadcz9pmbabhixekabhiinaialBdbaicxfalBdbaicwfalBdbaiclfalBdbaiczfhiadc9Wfgdcs0mbkkadcl6mbinaialBdbaiclfhiadc98fgdci0mbkkdnadTmbinaiae86bbaicefhiadcufgdmbkkabkkkebcjwklz9Kbb",e="b9H79TebbbeKl9Gbb9Gvuuuuueu9Giuuub9Geueuikqbbebeedddilve9Weeeviebeoweuec:q;Aekr;leDo9TW9T9VV95dbH9F9F939H79T9F9J9H229F9Jt9VV7bb8A9TW79O9V9Wt9F9KW9J9V9KW9wWVtW949c919M9MWVbdY9TW79O9V9Wt9F9KW9J9V9KW69U9KW949c919M9MWVblE9TW79O9V9Wt9F9KW9J9V9KW69U9KW949tWG91W9U9JWbvL9TW79O9V9Wt9F9KW9J9V9KWS9P2tWV9p9JtboK9TW79O9V9Wt9F9KW9J9V9KWS9P2tWV9r919HtbrL9TW79O9V9Wt9F9KW9J9V9KWS9P2tWVT949Wbwl79IV9RbDq;t9tqlbzik9:evu8Jjjjjbcz9Rhbcbheincbhdcbhiinabcwfadfaicjuaead4ceGglE86bbaialfhiadcefgdcw9hmbkaec:q:yjjbfai86bbaecitc:q1jjbfab8Piw83ibaecefgecjd9hmbkk;h8JlHud97euo978Jjjjjbcj;kb9Rgv8Kjjjjbc9:hodnadcefal0mbcuhoaiRbbc:Ge9hmbavaialfgrad9Rad;8qbbcj;abad9UhoaicefhldnadTmbaoc;WFbGgocjdaocjd6EhwcbhDinaDae9pmeawaeaD9RaDawfae6Egqcsfgoc9WGgkci2hxakcethmaocl4cifcd4hPabaDad2fhscbhzdnincehHalhOcbhAdninaraO9RaP6miavcj;cbfaAak2fhCaOaPfhlcbhidnakc;ab6mbaral9Rc;Gb6mbcbhoinaCaofhidndndndndnaOaoco4fRbbgXciGPlbedibkaipxbbbbbbbbbbbbbbbbpklbxikaialpbblalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLgQcdp:meaQpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9ogLpxiiiiiiiiiiiiiiiip8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklbalclfaYpQbfaKc:q:yjjbfRbbfhlxdkaialpbbwalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9ogLpxssssssssssssssssp8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklbalcwfaYpQbfaKc:q:yjjbfRbbfhlxekaialpbbbpklbalczfhlkdndndndndnaXcd4ciGPlbedibkaipxbbbbbbbbbbbbbbbbpklzxikaialpbblalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLgQcdp:meaQpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9ogLpxiiiiiiiiiiiiiiiip8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklzalclfaYpQbfaKc:q:yjjbfRbbfhlxdkaialpbbwalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9ogLpxssssssssssssssssp8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklzalcwfaYpQbfaKc:q:yjjbfRbbfhlxekaialpbbbpklzalczfhlkdndndndndnaXcl4ciGPlbedibkaipxbbbbbbbbbbbbbbbbpklaxikaialpbblalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLgQcdp:meaQpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9ogLpxiiiiiiiiiiiiiiiip8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklaalclfaYpQbfaKc:q:yjjbfRbbfhlxdkaialpbbwalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9ogLpxssssssssssssssssp8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklaalcwfaYpQbfaKc:q:yjjbfRbbfhlxekaialpbbbpklaalczfhlkdndndndndnaXco4Plbedibkaipxbbbbbbbbbbbbbbbbpkl8WxikaialpbblalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLgQcdp:meaQpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9ogLpxiiiiiiiiiiiiiiiip8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgXcitc:q1jjbfpbibaXc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgXcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spkl8WalclfaYpQbfaXc:q:yjjbfRbbfhlxdkaialpbbwalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9ogLpxssssssssssssssssp8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgXcitc:q1jjbfpbibaXc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgXcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spkl8WalcwfaYpQbfaXc:q:yjjbfRbbfhlxekaialpbbbpkl8Walczfhlkaoc;abfhiaocjefak0meaihoaral9Rc;Fb0mbkkdndnaiak9pmbaici4hoinaral9RcK6mdaCaifhXdndndndndnaOaico4fRbbaocoG4ciGPlbedibkaXpxbbbbbbbbbbbbbbbbpklbxikaXalpbblalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLgQcdp:meaQpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9ogLpxiiiiiiiiiiiiiiiip8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklbalclfaYpQbfaKc:q:yjjbfRbbfhlxdkaXalpbbwalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9ogLpxssssssssssssssssp8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklbalcwfaYpQbfaKc:q:yjjbfRbbfhlxekaXalpbbbpklbalczfhlkaocdfhoaiczfgiak6mbkkalTmbaAci6hHalhOaAcefgohAaoclSmdxekkcbhlaHceGmdkdnakTmbavcjdfazfhiavazfpbdbhYcbhXinaiavcj;cbfaXfgopblbgLcep9TaLpxeeeeeeeeeeeeeeeegQp9op9Hp9rgLaoakfpblbg8Acep9Ta8AaQp9op9Hp9rg8ApmbzeHdOiAlCvXoQrLgEaoamfpblbg3cep9Ta3aQp9op9Hp9rg3aoaxfpblbg5cep9Ta5aQp9op9Hp9rg5pmbzeHdOiAlCvXoQrLg8EpmbezHdiOAlvCXorQLgQaQpmbedibedibedibediaYp9UgYp9AdbbaiadfgoaYaQaQpmlvorlvorlvorlvorp9UgYp9AdbbaoadfgoaYaQaQpmwDqkwDqkwDqkwDqkp9UgYp9AdbbaoadfgoaYaQaQpmxmPsxmPsxmPsxmPsp9UgYp9AdbbaoadfgoaYaEa8EpmwDKYqk8AExm35Ps8E8FgQaQpmbedibedibedibedip9UgYp9AdbbaoadfgoaYaQaQpmlvorlvorlvorlvorp9UgYp9AdbbaoadfgoaYaQaQpmwDqkwDqkwDqkwDqkp9UgYp9AdbbaoadfgoaYaQaQpmxmPsxmPsxmPsxmPsp9UgYp9AdbbaoadfgoaYaLa8ApmwKDYq8AkEx3m5P8Es8FgLa3a5pmwKDYq8AkEx3m5P8Es8Fg8ApmbezHdiOAlvCXorQLgQaQpmbedibedibedibedip9UgYp9AdbbaoadfgoaYaQaQpmlvorlvorlvorlvorp9UgYp9AdbbaoadfgoaYaQaQpmwDqkwDqkwDqkwDqkp9UgYp9AdbbaoadfgoaYaQaQpmxmPsxmPsxmPsxmPsp9UgYp9AdbbaoadfgoaYaLa8ApmwDKYqk8AExm35Ps8E8FgQaQpmbedibedibedibedip9UgYp9AdbbaoadfgoaYaQaQpmlvorlvorlvorlvorp9UgYp9AdbbaoadfgoaYaQaQpmwDqkwDqkwDqkwDqkp9UgYp9AdbbaoadfgoaYaQaQpmxmPsxmPsxmPsxmPsp9UgYp9AdbbaoadfhiaXczfgXak6mbkkazclfgzad6mbkasavcjdfaqad2;8qbbavavcjdfaqcufad2fad;8qbbaqaDfhDc9:hoalmexikkc9:hoxekcbc99aral9Radcaadca0ESEhokavcj;kbf8Kjjjjbaokwbz:bjjjbk;uzeHu8Jjjjjbc;ae9Rgv8Kjjjjbc9:hodnaeci9UgrcHfal0mbcuhoaiRbbgwc;WeGc;Ge9hmbawcsGgDce0mbavc;abfcFecje;8kbavcUf9cu83ibavc8Wf9cu83ibavcyf9cu83ibavcaf9cu83ibavcKf9cu83ibavczf9cu83ibav9cu83iwav9cu83ibaialfc9WfhqaicefgwarfhodnaeTmbcmcsaDceSEhkcbhxcbhmcbhDcbhicbhlindnaoaq9nmbc9:hoxikdndnawRbbgrc;Ve0mbavc;abfalarcl4cu7fcsGcitfgPydlhsaPydbhzdnarcsGgPak9pmbavaiarcu7fcsGcdtfydbaxaPEhraPThPdndnadcd9hmbabaDcetfgHaz87ebaHcdfas87ebaHclfar87ebxekabaDcdtfgHazBdbaHclfasBdbaHcwfarBdbkaxaPfhxavc;abfalcitfgHarBdbaHasBdlavaicdtfarBdbavc;abfalcefcsGglcitfgHazBdbaHarBdlaiaPfhialcefhlxdkdndnaPcsSmbamaPfaPc987fcefhmxekaocefhrao8SbbgPcFeGhHdndnaPcu9mmbarhoxekaocvfhoaHcFbGhHcrhPdninar8SbbgOcFbGaPtaHVhHaOcu9kmearcefhraPcrfgPc8J9hmbxdkkarcefhokaHce4cbaHceG9R7amfhmkdndnadcd9hmbabaDcetfgraz87ebarcdfas87ebarclfam87ebxekabaDcdtfgrazBdbarclfasBdbarcwfamBdbkavc;abfalcitfgramBdbarasBdlavaicdtfamBdbavc;abfalcefcsGglcitfgrazBdbaramBdlaicefhialcefhlxekdnarcpe0mbaxcefgOavaiaqarcsGfRbbgPcl49RcsGcdtfydbaPcz6gHEhravaiaP9RcsGcdtfydbaOaHfgsaPcsGgOEhPaOThOdndnadcd9hmbabaDcetfgzax87ebazcdfar87ebazclfaP87ebxekabaDcdtfgzaxBdbazclfarBdbazcwfaPBdbkavaicdtfaxBdbavc;abfalcitfgzarBdbazaxBdlavaicefgicsGcdtfarBdbavc;abfalcefcsGcitfgzaPBdbazarBdlavaiaHfcsGgicdtfaPBdbavc;abfalcdfcsGglcitfgraxBdbaraPBdlalcefhlaiaOfhiasaOfhxxekaxcbaoRbbgzEgAarc;:eSgrfhsazcsGhCazcl4hXdndnazcs0mbascefhOxekashOavaiaX9RcsGcdtfydbhskdndnaCmbaOcefhxxekaOhxavaiaz9RcsGcdtfydbhOkdndnarTmbaocefhrxekaocdfhrao8SbegHcFeGhPdnaHcu9kmbaocofhAaPcFbGhPcrhodninar8SbbgHcFbGaotaPVhPaHcu9kmearcefhraocrfgoc8J9hmbkaAhrxekarcefhrkaPce4cbaPceG9R7amfgmhAkdndnaXcsSmbarhPxekarcefhPar8SbbgocFeGhHdnaocu9kmbarcvfhsaHcFbGhHcrhodninaP8SbbgrcFbGaotaHVhHarcu9kmeaPcefhPaocrfgoc8J9hmbkashPxekaPcefhPkaHce4cbaHceG9R7amfgmhskdndnaCcsSmbaPhoxekaPcefhoaP8SbbgrcFeGhHdnarcu9kmbaPcvfhOaHcFbGhHcrhrdninao8SbbgPcFbGartaHVhHaPcu9kmeaocefhoarcrfgrc8J9hmbkaOhoxekaocefhokaHce4cbaHceG9R7amfgmhOkdndnadcd9hmbabaDcetfgraA87ebarcdfas87ebarclfaO87ebxekabaDcdtfgraABdbarclfasBdbarcwfaOBdbkavc;abfalcitfgrasBdbaraABdlavaicdtfaABdbavc;abfalcefcsGcitfgraOBdbarasBdlavaicefgicsGcdtfasBdbavc;abfalcdfcsGcitfgraABdbaraOBdlavaiazcz6aXcsSVfgicsGcdtfaOBdbaiaCTaCcsSVfhialcifhlkawcefhwalcsGhlaicsGhiaDcifgDae6mbkkcbc99aoaqSEhokavc;aef8Kjjjjbaok:llevu8Jjjjjbcz9Rhvc9:hodnaecvfal0mbcuhoaiRbbc;:eGc;qe9hmbav9cb83iwaicefhraialfc98fhwdnaeTmbdnadcdSmbcbhDindnaraw6mbc9:skarcefhoar8SbbglcFeGhidndnalcu9mmbaohrxekarcvfhraicFbGhicrhldninao8SbbgdcFbGaltaiVhiadcu9kmeaocefhoalcrfglc8J9hmbxdkkaocefhrkabaDcdtfaicd4cbaice4ceG9R7avcwfaiceGcdtVgoydbfglBdbaoalBdbaDcefgDae9hmbxdkkcbhDindnaraw6mbc9:skarcefhoar8SbbglcFeGhidndnalcu9mmbaohrxekarcvfhraicFbGhicrhldninao8SbbgdcFbGaltaiVhiadcu9kmeaocefhoalcrfglc8J9hmbxdkkaocefhrkabaDcetfaicd4cbaice4ceG9R7avcwfaiceGcdtVgoydbfgl87ebaoalBdbaDcefgDae9hmbkkcbc99arawSEhokaok:EPliuo97eue978Jjjjjbca9Rhidndnadcl9hmbdnaec98GglTmbcbhvabhdinadadpbbbgocKp:RecKp:Sep;6egraocwp:RecKp:Sep;6earp;Geaoczp:RecKp:Sep;6egwp;Gep;Kep;LegDpxbbbbbbbbbbbbbbbbp:2egqarpxbbbjbbbjbbbjbbbjgkp9op9rp;Kegrpxbb;:9cbb;:9cbb;:9cbb;:9cararp;MeaDaDp;Meawaqawakp9op9rp;Kegrarp;Mep;Kep;Kep;Jep;Negwp;Mepxbbn0bbn0bbn0bbn0gqp;KepxFbbbFbbbFbbbFbbbp9oaopxbbbFbbbFbbbFbbbFp9op9qarawp;Meaqp;Kecwp:RepxbFbbbFbbbFbbbFbbp9op9qaDawp;Meaqp;Keczp:RepxbbFbbbFbbbFbbbFbp9op9qpkbbadczfhdavclfgval6mbkkalae9pmeaiaeciGgvcdtgdVcbczad9R;8kbaiabalcdtfglad;8qbbdnavTmbaiaipblbgocKp:RecKp:Sep;6egraocwp:RecKp:Sep;6earp;Geaoczp:RecKp:Sep;6egwp;Gep;Kep;LegDpxbbbbbbbbbbbbbbbbp:2egqarpxbbbjbbbjbbbjbbbjgkp9op9rp;Kegrpxbb;:9cbb;:9cbb;:9cbb;:9cararp;MeaDaDp;Meawaqawakp9op9rp;Kegrarp;Mep;Kep;Kep;Jep;Negwp;Mepxbbn0bbn0bbn0bbn0gqp;KepxFbbbFbbbFbbbFbbbp9oaopxbbbFbbbFbbbFbbbFp9op9qarawp;Meaqp;Kecwp:RepxbFbbbFbbbFbbbFbbp9op9qaDawp;Meaqp;Keczp:RepxbbFbbbFbbbFbbbFbp9op9qpklbkalaiad;8qbbskdnaec98GgxTmbcbhvabhdinadczfglalpbbbgopxbbbbbbFFbbbbbbFFgkp9oadpbbbgDaopmlvorxmPsCXQL358E8FpxFubbFubbFubbFubbp9op;6eaDaopmbediwDqkzHOAKY8AEgoczp:Sep;6egrp;Geaoczp:Reczp:Sep;6egwp;Gep;Kep;Legopxb;:FSb;:FSb;:FSb;:FSawaopxbbbbbbbbbbbbbbbbp:2egqawpxbbbjbbbjbbbjbbbjgmp9op9rp;Kegwawp;Meaoaop;Mearaqaramp9op9rp;Kegoaop;Mep;Kep;Kep;Jep;Negrp;Mepxbbn0bbn0bbn0bbn0gqp;Keczp:Reawarp;Meaqp;KepxFFbbFFbbFFbbFFbbp9op9qgwaoarp;Meaqp;KepxFFbbFFbbFFbbFFbbp9ogopmwDKYqk8AExm35Ps8E8Fp9qpkbbadaDakp9oawaopmbezHdiOAlvCXorQLp9qpkbbadcafhdavclfgvax6mbkkaxae9pmbaiaeciGgvcitgdfcbcaad9R;8kbaiabaxcitfglad;8qbbdnavTmbaiaipblzgopxbbbbbbFFbbbbbbFFgkp9oaipblbgDaopmlvorxmPsCXQL358E8FpxFubbFubbFubbFubbp9op;6eaDaopmbediwDqkzHOAKY8AEgoczp:Sep;6egrp;Geaoczp:Reczp:Sep;6egwp;Gep;Kep;Legopxb;:FSb;:FSb;:FSb;:FSawaopxbbbbbbbbbbbbbbbbp:2egqawpxbbbjbbbjbbbjbbbjgmp9op9rp;Kegwawp;Meaoaop;Mearaqaramp9op9rp;Kegoaop;Mep;Kep;Kep;Jep;Negrp;Mepxbbn0bbn0bbn0bbn0gqp;Keczp:Reawarp;Meaqp;KepxFFbbFFbbFFbbFFbbp9op9qgwaoarp;Meaqp;KepxFFbbFFbbFFbbFFbbp9ogopmwDKYqk8AExm35Ps8E8Fp9qpklzaiaDakp9oawaopmbezHdiOAlvCXorQLp9qpklbkalaiad;8qbbkk;4wllue97euv978Jjjjjbc8W9Rhidnaec98GglTmbcbhvabhoinaiaopbbbgraoczfgwpbbbgDpmlvorxmPsCXQL358E8Fgqczp:Segkclp:RepklbaopxbbjZbbjZbbjZbbjZpx;Zl81Z;Zl81Z;Zl81Z;Zl81Zakpxibbbibbbibbbibbbp9qp;6ep;NegkaraDpmbediwDqkzHOAKY8AEgrczp:Reczp:Sep;6ep;MegDaDp;Meakarczp:Sep;6ep;Megxaxp;Meakaqczp:Reczp:Sep;6ep;Megqaqp;Mep;Kep;Kep;Lepxbbbbbbbbbbbbbbbbp:4ep;Jepxb;:FSb;:FSb;:FSb;:FSgkp;Mepxbbn0bbn0bbn0bbn0grp;KepxFFbbFFbbFFbbFFbbgmp9oaxakp;Mearp;Keczp:Rep9qgxaqakp;Mearp;Keczp:ReaDakp;Mearp;Keamp9op9qgkpmbezHdiOAlvCXorQLgrp5baipblbpEb:T:j83ibaocwfarp5eaipblbpEe:T:j83ibawaxakpmwDKYqk8AExm35Ps8E8Fgkp5baipblbpEd:T:j83ibaocKfakp5eaipblbpEi:T:j83ibaocafhoavclfgval6mbkkdnalae9pmbaiaeciGgvcitgofcbcaao9R;8kbaiabalcitfgwao;8qbbdnavTmbaiaipblbgraipblzgDpmlvorxmPsCXQL358E8Fgqczp:Segkclp:RepklaaipxbbjZbbjZbbjZbbjZpx;Zl81Z;Zl81Z;Zl81Z;Zl81Zakpxibbbibbbibbbibbbp9qp;6ep;NegkaraDpmbediwDqkzHOAKY8AEgrczp:Reczp:Sep;6ep;MegDaDp;Meakarczp:Sep;6ep;Megxaxp;Meakaqczp:Reczp:Sep;6ep;Megqaqp;Mep;Kep;Kep;Lepxbbbbbbbbbbbbbbbbp:4ep;Jepxb;:FSb;:FSb;:FSb;:FSgkp;Mepxbbn0bbn0bbn0bbn0grp;KepxFFbbFFbbFFbbFFbbgmp9oaxakp;Mearp;Keczp:Rep9qgxaqakp;Mearp;Keczp:ReaDakp;Mearp;Keamp9op9qgkpmbezHdiOAlvCXorQLgrp5baipblapEb:T:j83ibaiarp5eaipblapEe:T:j83iwaiaxakpmwDKYqk8AExm35Ps8E8Fgkp5baipblapEd:T:j83izaiakp5eaipblapEi:T:j83iKkawaiao;8qbbkk:Pddiue978Jjjjjbc;ab9Rhidnadcd4ae2glc98GgvTmbcbhdabheinaeaepbbbgocwp:Recwp:Sep;6eaocep:SepxbbjZbbjZbbjZbbjZp:UepxbbjFbbjFbbjFbbjFp9op;Mepkbbaeczfheadclfgdav6mbkkdnaval9pmbaialciGgdcdtgeVcbc;abae9R;8kbaiabavcdtfgvae;8qbbdnadTmbaiaipblbgocwp:Recwp:Sep;6eaocep:SepxbbjZbbjZbbjZbbjZp:UepxbbjFbbjFbbjFbbjFp9op;Mepklbkavaiae;8qbbkk9teiucbcbydj1jjbgeabcifc98GfgbBdj1jjbdndnabZbcztgd9nmbcuhiabad9RcFFifcz4nbcuSmekaehikaikkkebcjwklz9Tbb",A=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),s=new Uint8Array([32,0,65,2,1,106,34,33,3,128,11,4,13,64,6,253,10,7,15,116,127,5,8,12,40,16,19,54,20,9,27,255,113,17,42,67,24,23,146,148,18,14,22,45,70,69,56,114,101,21,25,63,75,136,108,28,118,29,73,115]);if(typeof WebAssembly!="object")return{supported:!1};var t=WebAssembly.validate(A)?e:l,a,n=WebAssembly.instantiate(i(t),{}).then(function(u){a=u.instance,a.exports.__wasm_call_ctors()});function i(u){for(var B=new Uint8Array(u.length),b=0;b<u.length;++b){var E=u.charCodeAt(b);B[b]=E>96?E-97:E>64?E-39:E+4}for(var m=0,b=0;b<u.length;++b)B[m++]=B[b]<60?s[B[b]]:(B[b]-60)*64+B[++b];return B.buffer.slice(0,m)}function r(u,B,b,E,m,C){var w=a.exports.sbrk,Q=b+3&-4,y=w(Q*E),D=w(m.length),R=new Uint8Array(a.exports.memory.buffer);R.set(m,D);var x=u(y,b,E,D,m.length);if(x==0&&C&&C(y,Q,E),B.set(R.subarray(y,y+b*E)),w(y-w(0)),x!=0)throw new Error("Malformed buffer data: "+x)}var c={NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},g={ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"},o=[],h=0;function d(u){var B={object:new Worker(u),pending:0,requests:{}};return B.object.onmessage=function(b){var E=b.data;B.pending-=E.count,B.requests[E.id][E.action](E.value),delete B.requests[E.id]},B}function f(u){for(var B="var instance; var ready = WebAssembly.instantiate(new Uint8Array(["+new Uint8Array(i(t))+"]), {}).then(function(result) { instance = result.instance; instance.exports.__wasm_call_ctors(); });self.onmessage = workerProcess;"+r.toString()+I.toString(),b=new Blob([B],{type:"text/javascript"}),E=URL.createObjectURL(b),m=0;m<u;++m)o[m]=d(E);URL.revokeObjectURL(E)}function p(u,B,b,E,m){for(var C=o[0],w=1;w<o.length;++w)o[w].pending<C.pending&&(C=o[w]);return new Promise(function(Q,y){var D=new Uint8Array(b),R=h++;C.pending+=u,C.requests[R]={resolve:Q,reject:y},C.object.postMessage({id:R,count:u,size:B,source:D,mode:E,filter:m},[D.buffer])})}function I(u){n.then(function(){var B=u.data;try{var b=new Uint8Array(B.count*B.size);r(a.exports[B.mode],b,B.count,B.size,B.source,a.exports[B.filter]),self.postMessage({id:B.id,count:B.count,action:"resolve",value:b},[b.buffer])}catch(E){self.postMessage({id:B.id,count:B.count,action:"reject",value:E})}})}return{ready:n,supported:!0,useWorkers:function(u){f(u)},decodeVertexBuffer:function(u,B,b,E,m){r(a.exports.meshopt_decodeVertexBuffer,u,B,b,E,a.exports[c[m]])},decodeIndexBuffer:function(u,B,b,E){r(a.exports.meshopt_decodeIndexBuffer,u,B,b,E)},decodeIndexSequence:function(u,B,b,E){r(a.exports.meshopt_decodeIndexSequence,u,B,b,E)},decodeGltfBuffer:function(u,B,b,E,m,C){r(a.exports[g[m]],u,B,b,E,a.exports[c[C]])},decodeGltfBufferAsync:function(u,B,b,E,m){return o.length>0?p(u,B,b,g[E],c[m]):n.then(function(){var C=new Uint8Array(u*B);return r(a.exports[g[E]],C,u,B,b,a.exports[c[m]]),C})}}}();class Pn extends ge{constructor(e){super(e),this.type=K}setType(e){if(e!==K&&e!==Ee)throw new Error("LUTCubeLoader: Unsupported type");return this.type=e,this}load(e,A,s,t){const a=new ne(this.manager);a.setPath(this.path),a.setResponseType("text"),a.load(e,n=>{try{A(this.parse(n))}catch(i){t?t(i):console.error(i),this.manager.itemError(e)}},s,t)}parse(e){const A=/TITLE +"([^"]*)"/,s=/LUT_3D_SIZE +(\d+)/,t=/DOMAIN_MIN +([\d.]+) +([\d.]+) +([\d.]+)/,a=/DOMAIN_MAX +([\d.]+) +([\d.]+) +([\d.]+)/,n=/^([\d.e+-]+) +([\d.e+-]+) +([\d.e+-]+) *$/gm;let i=A.exec(e);const r=i!==null?i[1]:null;if(i=s.exec(e),i===null)throw new Error("LUTCubeLoader: Missing LUT_3D_SIZE information");const c=Number(i[1]),g=c**3*4,o=this.type===K?new Uint8Array(g):new Float32Array(g),h=new N(0,0,0),d=new N(1,1,1);if(i=t.exec(e),i!==null&&h.set(Number(i[1]),Number(i[2]),Number(i[3])),i=a.exec(e),i!==null&&d.set(Number(i[1]),Number(i[2]),Number(i[3])),h.x>d.x||h.y>d.y||h.z>d.z)throw new Error("LUTCubeLoader: Invalid input domain");const f=this.type===K?255:1;let p=0;for(;(i=n.exec(e))!==null;)o[p++]=Number(i[1])*f,o[p++]=Number(i[2])*f,o[p++]=Number(i[3])*f,o[p++]=f;const I=new qA;return I.image.data=o,I.image.width=c,I.image.height=c,I.image.depth=c,I.type=this.type,I.magFilter=Ie,I.minFilter=Ie,I.wrapS=Ce,I.wrapT=Ce,I.wrapR=Ce,I.generateMipmaps=!1,I.needsUpdate=!0,{title:r,size:c,domainMin:h,domainMax:d,texture3D:I}}}class On extends ge{constructor(e){super(e),this.type=K}setType(e){if(e!==K&&e!==Ee)throw new Error("LUT3dlLoader: Unsupported type");return this.type=e,this}load(e,A,s,t){const a=new ne(this.manager);a.setPath(this.path),a.setResponseType("text"),a.load(e,n=>{try{A(this.parse(n))}catch(i){t?t(i):console.error(i),this.manager.itemError(e)}},s,t)}parse(e){const A=/^[\d ]+$/m,s=/^([\d.e+-]+) +([\d.e+-]+) +([\d.e+-]+) *$/gm;let t=A.exec(e);if(t===null)throw new Error("LUT3dlLoader: Missing grid information");const a=t[0].trim().split(/\s+/g).map(Number),n=a[1]-a[0],i=a.length,r=i**2;for(let u=1,B=a.length;u<B;++u)if(n!==a[u]-a[u-1])throw new Error("LUT3dlLoader: Inconsistent grid size");const c=new Float32Array(i**3*4);let g=0,o=0;for(;(t=s.exec(e))!==null;){const u=Number(t[1]),B=Number(t[2]),b=Number(t[3]);g=Math.max(g,u,B,b);const E=o%i,m=Math.floor(o/i)%i,C=Math.floor(o/r)%i,w=(E*r+m*i+C)*4;c[w+0]=u,c[w+1]=B,c[w+2]=b,++o}const h=Math.ceil(Math.log2(g)),d=Math.pow(2,h),f=this.type===K?new Uint8Array(c.length):c,p=this.type===K?255:1;for(let u=0,B=f.length;u<B;u+=4){const b=u+1,E=u+2,m=u+3;f[u]=c[u]/d*p,f[b]=c[b]/d*p,f[E]=c[E]/d*p,f[m]=p}const I=new qA;return I.image.data=f,I.image.width=i,I.image.height=i,I.image.depth=i,I.format=Se,I.type=this.type,I.magFilter=Ie,I.minFilter=Ie,I.wrapS=Ce,I.wrapT=Ce,I.wrapR=Ce,I.generateMipmaps=!1,I.needsUpdate=!0,{size:i,texture3D:I}}}const ze=class Xe extends ge{constructor(e){super(e)}load(e,A,s,t){this.path!==void 0&&(e=this.path+e),this.manager.itemStart(e),e=this.manager.resolveURL(e);const a=zA.get(e);if(a!==void 0)return setTimeout(()=>{A&&A(a),this.manager.itemEnd(e)},0),a;const n=document.createElement("video");return n.preload=Xe.preload,n.autoplay=Xe.autoplay,n.loop=Xe.loop,n.muted=Xe.muted,n.src=e,n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.zIndex="-1",document.body.appendChild(n),n.oncanplay=()=>{zA.add(e,n),this.manager.itemEnd(e),A&&A(n)},n.onerror=i=>{this.manager.itemEnd(e),t&&t(i)},n}};ze.autoplay=!0,ze.preload="auto",ze.muted=!0,ze.loop=!0;let Hn=ze;var We=(l=>(l.BEFORELOAD="beforeLoad",l.LOADING="loading",l.DETAILLOADING="detailLoading",l.DETAILLOADED="detailLoaded",l.LOADED="loaded",l))(We||{});class qn extends Xs{constructor(e){super(),this.urlList=[],this.path="",this.resourceMap=new Map,this.loadTotal=0,this.loadSuccess=0,this.loadError=0,this.isError=!1,this.isLoading=!1,this.isLoaded=!1,this.loadDetailMap={};const A=new Vs,s=new Hn,t=new ia;t.setDRACOLoader(new wn),t.setKTX2Loader(new fe),t.setMeshoptDecoder(Nn),this.loaderMap={jpg:A,png:A,jpeg:A,obj:new ta,mtl:new sa,mp4:s,webm:s,ogg:s,hdr:new na,gltf:t,glb:t,fbx:new hn,dds:new _n,cube:new Pn,"3dl":new On},e&&(this.loaderMap=Object.assign(this.loaderMap,e.loaderExtends))}loaded(){return this.dispatchEvent({type:"loaded",loadTotal:this.loadTotal,loadSuccess:this.loadSuccess,loadError:this.loadError,resourceMap:this.resourceMap}),this}checkLoaded(){return this.loadTotal===this.loadSuccess+this.loadError&&(this.isError=!0,this.isLoaded=!0,this.isLoading=!1,this.loaded()),this}setPath(e){return this.path=e,this}setRequestHeader(e){return Object.values(this.loaderMap).forEach(A=>{A.setRequestHeader(e)}),this}setResponseType(e){return Object.values(this.loaderMap).forEach(A=>{A.setResponseType&&A.setResponseType(e)}),this}getLoader(e){return this.loaderMap[e]?this.loaderMap[e]:null}load(e){var A;if(this.reset(),this.isLoading=!0,this.dispatchEvent({type:"beforeLoad",urlList:[...e]}),e.length<=0)return this.checkLoaded(),console.warn("url list is empty."),this;this.loadTotal+=e.length;const s=this.resourceMap,t=this.loaderMap,a=this.loadDetailMap;for(const n of e){let i,r;typeof n=="string"?(i=n,r=((A=i.split(".").pop())==null?void 0:A.toLocaleLowerCase())||""):(i=n.url,r=n.ext.toLocaleLowerCase(),r.startsWith(".")&&(r=r.slice(1)));const c={url:i,progress:0,error:!1,message:i};if(a[i]=c,s.has(i)){c.progress=1,this.loadSuccess+=1,this.dispatchEvent({type:"detailLoaded",detail:c}),this.dispatchEvent({type:"loading",loadTotal:this.loadTotal,loadSuccess:this.loadSuccess,loadError:this.loadError,loadProgress:(this.loadSuccess+this.loadError)/this.loadTotal}),this.checkLoaded();continue}if(!r){c.message=`url: ${i} \u5730\u5740\u6709\u8BEF\uFF0C\u65E0\u6CD5\u83B7\u53D6\u6587\u4EF6\u683C\u5F0F\u3002`,console.warn(c.message),c.error=!0,this.isError=!0,this.loadError+=1,this.dispatchEvent({type:"detailLoaded",detail:c}),this.dispatchEvent({type:"loading",loadTotal:this.loadTotal,loadSuccess:this.loadSuccess,loadError:this.loadError,loadProgress:(this.loadSuccess+this.loadError)/this.loadTotal});continue}const g=t[r];if(!g){c.message=`url: ${i} \u4E0D\u652F\u6301\u6B64\u6587\u4EF6\u683C\u5F0F\u52A0\u8F7D\u3002`,console.warn(c.message),c.error=!0,this.isError=!0,this.loadError+=1,this.dispatchEvent({type:"detailLoaded",detail:c}),this.dispatchEvent({type:"loading",loadTotal:this.loadTotal,loadSuccess:this.loadSuccess,loadError:this.loadError,loadProgress:(this.loadSuccess+this.loadError)/this.loadTotal});continue}const o=i.replace(/\\/g,"/").split("/"),h=o.pop(),d=this.path+o.join("/")+"/";g.setPath(d).loadAsync(h,f=>{c.progress=Number((f.loaded/f.total).toFixed(2)),this.dispatchEvent({type:"detailLoading",detail:c})}).then(f=>{c.progress=1,this.loadSuccess+=1,this.resourceMap.set(i,f),this.urlList.push(n),this.dispatchEvent({type:"detailLoaded",detail:c}),this.dispatchEvent({type:"loading",loadTotal:this.loadTotal,loadSuccess:this.loadSuccess,loadError:this.loadError,loadProgress:(this.loadSuccess+this.loadError)/this.loadTotal}),this.checkLoaded()}).catch(f=>{c.error=!0,c.message=JSON.stringify(f),this.loadError+=1,this.dispatchEvent({type:"detailLoaded",detail:c}),this.dispatchEvent({type:"loading",loadTotal:this.loadTotal,loadSuccess:this.loadSuccess,loadError:this.loadError,loadProgress:(this.loadSuccess+this.loadError)/this.loadTotal}),this.checkLoaded()})}return this}reset(){return this.loadTotal=0,this.loadSuccess=0,this.loadError=0,this.isError=!1,this.isLoading=!1,this.isLoaded=!1,this.loadDetailMap={},this}register(e,A){return this.loaderMap[e]=A,this}hasLoaded(e){return this.resourceMap.has(e)}getResource(e){return this.resourceMap.get(e)}getLoadDetailMap(){return this.loadDetailMap}setLoadDetailMap(e){return this.loadDetailMap=e,this}remove(e){}toJSON(){return JSON.stringify(this.urlList)}exportConfig(){return JSON.parse(JSON.stringify(this.urlList))}dispose(){return this.resourceMap.clear(),this}}const jn="@vis-three/plugin-loader-manager",Kn=zs(jn),zn=function(l){return{name:Kn,install(e){const A=new qn(l);l!=null&&l.path&&A.setPath(l.path),e.loaderManager=A,e.loadResources=(s,t)=>{const a=n=>{t(void 0,n),A.removeEventListener(We.LOADED,a)};try{A.addEventListener(We.LOADED,a)}catch(n){t(n)}return A.load(s),e},e.loadResourcesAsync=s=>new Promise((t,a)=>{const n=i=>{t(i),A.removeEventListener(We.LOADED,n)};try{A.addEventListener(We.LOADED,n)}catch(i){a(i)}A.load(s)})},dispose(e){e.loaderManager.dispose(),delete e.loaderManager,delete e.loadResources,delete e.loadResourcesAsync}}};export{Kn as F,zn as Z,Vn as m,We as p};
