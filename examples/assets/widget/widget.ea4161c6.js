import"../modulepreload-polyfill.b7f2da20.js";import{W as v,C as y}from"../index.1d3a6ec0.js";import"../index.e6be8a02.js";import{G as b}from"../index.591a8368.js";import{O as M}from"../vis-three.plugin-orbit-controls.es.9991f892.js";import{W as S}from"../index.14bb6edc.js";import{W as G}from"../index.90db9154.js";import{M as C}from"../index.d3463d42.js";import{C as B}from"../vis-three.convenient.es.7b860830.js";import{b as W,d as x,r as c,a,c as z,w as T,o as k,h as o,e as f,v as P}from"../vis-three.widget.es.23dc36de.js";import"../index.202ebdec.js";import"../three.237d835c.js";import"../vis-three.middleware.es.7f273029.js";import"../vis-three.plugin-loader-manager.es.c1771985.js";import"../vis-three.plugin-pointer-manager.es.640cfa1a.js";import"../index.c35e5a3e.js";import"../G6.d44f13fb.js";import"../Antdv.414c4eb5.js";import"../vis-three.module-particle.es.8e43cbb8.js";import"../ShaderPass.02f07bc0.js";import"../UnrealBloomPass.2cdbe9ee.js";import"../CSS3DRenderer.ba0f6fa5.js";import"../index.ee52b7bf.js";const d=new W({plugins:[v({antialias:!0,alpha:!0}),y(),b(),M()],strategy:[S(),G()],modules:Object.values(C)}).setDom(document.getElementById("app")).setSize().play();d.loaderManager.setPath("/examples/");const R=x({emits:{show:!0},props:{color:{type:String,default:"rgb(0, 0, 255)"},position:{type:Object,default:()=>({x:0,y:0,z:0})}},setup({props:l,emit:i}){const n=c({x:-20}),t=a(!1);return{data:n,hanlder:()=>{console.log("click"),t.value=!0,i("show",t.value)},hanlder2:()=>{console.log("2 click"),t.value=!1,i("show",t.value)},flag:t,move(){console.log("move")}}},render(){const l=o("MeshBasicMaterial",{color:this.color}),i=o("SphereGeometry",{radius:10});o("Mesh",{geometry:i,material:l,position:{x:this.data.x+this.position.x,y:this.position.y,z:this.position.z},onClick:this.flag?this.hanlder2:this.hanlder,onMousemove:this.move})}}),L=x({components:{sphere:R},setup(){const l=c({x:5}),i=a(5),n=z(()=>i.value+5),t=a(!0),s=c([{position:{x:-20}},{position:{x:0}},{position:{x:20}}]),p=a("rgb(255, 255, 0)");T(t,e=>{console.log("watch",e)});const u=a(),h=a(),g=a(),m=new B().draw(e=>{e.fillStyle="white",e.fillRect(0,0,512,512),e.translate(256,256),e.textBaseline="middle",e.textAlign="center",e.fillStyle="black",e.font=" bold 52px \u5FAE\u8F6F\u96C5\u9ED1",e.fillText("Hello vis-three",0,0),e.translate(-256,-256)});return k(()=>{s.push({position:{x:80}}),console.log(s),console.log(h.value);const e=h.value.getState();console.log(e),e.move(),u.value.color="rgb(255, 0, 255)",console.log(m),setTimeout(()=>{m.clear().draw(r=>{r.fillStyle="white",r.fillRect(0,0,512,512),r.translate(256,256),r.textBaseline="middle",r.textAlign="center",r.fillStyle="black",r.font=" bold 52px \u5FAE\u8F6F\u96C5\u9ED1",r.fillText("Hello change",0,0),r.translate(-256,-256)}),g.value.needsUpdate=!0},2e3)}),{width:i,height:n,data:l,isBox:t,list:s,color:p,box:u,comp:h,texture:g,textGenerator:m,showTest(e){console.log("child",e)}}},resources(){return{text:this.textGenerator.getDom()}},render({components:l,resources:i}){const n=o("CanvasTexture",{url:i.text,ref:"texture"}),t=o("MeshBasicMaterial",{ref:"box",color:"rgb(255, 0, 0)",map:n});let s;f(()=>{this.isBox?s=o("BoxGeometry",{width:this.width,height:this.height,depth:10}):s=o("ConeGeometry",{radius:10})}),f(()=>{this.isBox?o(l.sphere,{color:this.color,position:{x:60,y:20,z:0}}):(o("Mesh",{geometry:s,material:t,position:{x:this.data.x,y:this.data.x*2}}),o("Mesh",{geometry:s,material:t,position:{x:this.data.x,z:this.data.x*2}}))}),o(l.sphere,{color:this.color,ref:"comp",onShow:this.showTest}),P(()=>{this.list.forEach(p=>{o("Mesh",{geometry:s,material:t,position:{x:p.position.x,z:20}})})})}}),w=d.createWidget(L).mount();console.log(w);window.widget=w;window.engine=d;
