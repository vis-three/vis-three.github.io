import"../modulepreload-polyfill.b7f2da20.js";import{D as a}from"../index.b80d8e5c.js";import{G as l}from"../index.591a8368.js";import{C as m}from"../vis-three.convenient.es.7b860830.js";import{d as n,v as d,r as h,h as e,w as y}from"../vis-three.widget.es.23dc36de.js";import"../index.1d3a6ec0.js";import"../index.202ebdec.js";import"../three.237d835c.js";import"../index.edc751ad.js";import"../CSS3DRenderer.ba0f6fa5.js";import"../index.e6be8a02.js";import"../index.2f498209.js";import"../index.2e2f06f6.js";import"../ShaderPass.02f07bc0.js";import"../vis-three.plugin-orbit-controls.es.9991f892.js";import"../index.692e1021.js";import"../vis-three.middleware.es.7f273029.js";import"../vis-three.plugin-loader-manager.es.c1771985.js";import"../vis-three.plugin-pointer-manager.es.640cfa1a.js";import"../index.c35e5a3e.js";import"../G6.d44f13fb.js";import"../Antdv.414c4eb5.js";import"../index.90db9154.js";import"../vis-three.module-particle.es.8e43cbb8.js";import"../UnrealBloomPass.2cdbe9ee.js";import"../index.ee52b7bf.js";import"../vis-three.strategy-orbit-controls-support.es.706978dc.js";import"../index.117a61e1.js";import"../index.3b8dbf96.js";import"../index.d3463d42.js";import"../vis-three.library-parser.es.5c9e4dac.js";import"../vis-three.strategy-multi-renderer.es.a35ffd0a.js";const p=new a().install(l()).setDom(document.getElementById("app")).setSize().play(),g=n({props:{title:{type:String,default:"\u5B9E\u4F8B1"},position:{type:Object,default:()=>({x:0,y:0,z:0})}},resources(){return{text:this.textGenerator.getDom()}},render({resources:o}){const t=e("Sprite",{material:e("SpriteMaterial",{map:e("CanvasTexture",{url:o.text,ref:"texture"}),sizeAttenuation:!1,transparent:!0,alphaTest:.01}),scale:{x:.16,y:.09},position:{y:25}}),r=e("Mesh",{geometry:e("BoxGeometry",{width:5,height:20,depth:5,position:{y:1}}),material:e("MeshBasicMaterial",{transparent:!0,opacity:.6,color:"rgb(100, 100, 225)"})});e("Group",{position:{x:this.position.x,y:this.position.y,z:this.position.z},children:[t,r]})},setup({props:o}){const t=new m({width:400,height:200}),r=()=>t.draw(i=>{i.fillStyle="rgba(0, 0, 0, 0)",i.fillRect(0,0,400,200),i.translate(200,100),i.textBaseline="middle",i.textAlign="center",i.fillStyle="black",i.font="42px \u5FAE\u8F6F\u96C5\u9ED1",i.fillStyle="white",i.fillText(o.title,0,0),i.translate(-200,-100)});return y(o.title,()=>{r()},{immediate:!0}),{textGenerator:t}}}),u=n({components:{tips:g},render({components:o}){d(()=>{this.list.forEach(t=>{e(o.tips,{title:t.title,position:{x:t.position.x,y:t.position.y,z:t.position.z}})})})},setup({engine:o}){const t=h([{position:{x:-20,y:0,z:0},title:"\u5B9E\u4F8B1"},{position:{x:0,y:0,z:0},title:"\u5B9E\u4F8B2"},{position:{x:20,y:0,z:0},title:"\u5B9E\u4F8B3"}]);return{list:t,addPillar(){t.push({position:{x:Math.random()*100-50,y:0,z:Math.random()*100-50},title:`\u5B9E\u4F8B${t.length+1}`})}}}}),s=p.createWidget(u).mount();document.getElementById("addPillar").onclick=()=>{s.getState().addPillar()};window.widget=s;window.engine=p;
