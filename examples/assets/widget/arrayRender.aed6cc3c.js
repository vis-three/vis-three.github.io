import"../modulepreload-polyfill.b7f2da20.js";import{D as a}from"../index.481fbc02.js";import{G as l}from"../index.5b5c1015.js";import{H as m}from"../vis-three.convenient.es.3345d486.js";import{K as p,U as d,q as e,Q as y}from"../vis-three.widget.es.dbc0588e.js";import{A as h}from"../Antdv.7b6104cc.js";import"../index.c0df7946.js";import"../curve.0ba3d968.js";import"../three.3f33d046.js";import"../index.fd7db63a.js";import"../CSS3DRenderer.56d2804d.js";import"../index.0a430562.js";import"../index.fe593856.js";import"../index.0317c091.js";import"../ShaderPass.025732a5.js";import"../vis-three.plugin-orbit-controls.es.1508a7f8.js";import"../index.82f2a702.js";import"../vis-three.tdcm.es.ba892fff.js";import"../vis-three.plugin-loader-manager.es.3fc670d5.js";import"../vis-three.plugin-pointer-manager.es.28277630.js";import"../index.b5597af3.js";import"../G6.30609706.js";import"../index.82346856.js";import"../vis-three.module-particle.es.2f619925.js";import"../UnrealBloomPass.a03f7d16.js";import"../vis-three.library-modifier.es.9bf56217.js";import"../vis-three.strategy-orbit-controls-support.es.bfc29c0d.js";import"../index.cee1ad1a.js";import"../index.e2e75f8b.js";import"../index.4caff7a1.js";import"../vis-three.module-helper.es.c2fc8b4c.js";import"../vis-three.library-parser.es.0233fa92.js";import"../vis-three.strategy-multi-renderer.es.91c74cfe.js";const n=new a().install(l()).setDom(document.getElementById("app")).setSize().play(),g=p({props:{title:{type:String,default:"\u5B9E\u4F8B1"},position:{type:Object,default:()=>({x:0,y:0,z:0})}},resources(){return{text:this.textGenerator.getDom()}},render({resources:o}){const t=e("Sprite",{material:e("SpriteMaterial",{map:e("CanvasTexture",{url:o.text,ref:"texture"}),sizeAttenuation:!1,transparent:!0,alphaTest:.01}),scale:{x:.16,y:.09},position:{y:25}}),r=e("Mesh",{geometry:e("BoxGeometry",{width:5,height:20,depth:5,position:{y:1}}),material:e("MeshBasicMaterial",{transparent:!0,opacity:.6,color:"rgb(100, 100, 225)"})});e("Group",{position:{x:this.position.x,y:this.position.y,z:this.position.z},children:[t,r]})},setup({props:o}){const t=new m({width:400,height:200}),r=()=>t.draw(i=>{i.fillStyle="rgba(0, 0, 0, 0)",i.fillRect(0,0,400,200),i.translate(200,100),i.textBaseline="middle",i.textAlign="center",i.fillStyle="black",i.font="42px \u5FAE\u8F6F\u96C5\u9ED1",i.fillStyle="white",i.fillText(o.title,0,0),i.translate(-200,-100)});return y(o.title,()=>{r()},{immediate:!0}),{textGenerator:t}}}),u=p({components:{tips:g},render({components:o}){d(()=>{this.list.forEach(t=>{e(o.tips,{title:t.title,position:{x:t.position.x,y:t.position.y,z:t.position.z}})})})},setup({engine:o}){const t=h([{position:{x:-20,y:0,z:0},title:"\u5B9E\u4F8B1"},{position:{x:0,y:0,z:0},title:"\u5B9E\u4F8B2"},{position:{x:20,y:0,z:0},title:"\u5B9E\u4F8B3"}]);return{list:t,addPillar(){t.push({position:{x:Math.random()*100-50,y:0,z:Math.random()*100-50},title:`\u5B9E\u4F8B${t.length+1}`})}}}}),s=n.createWidget(u).mount();document.getElementById("addPillar").onclick=()=>{s.getState().addPillar()};window.widget=s;window.engine=n;
