import"../modulepreload-polyfill.b7f2da20.js";import{W as y,C as v}from"../index.c0df7946.js";import"../index.0a430562.js";import{G as b}from"../index.5b5c1015.js";import{x as S}from"../vis-three.plugin-orbit-controls.es.1508a7f8.js";import{W as B}from"../index.b24d5192.js";import{W as G}from"../index.82346856.js";import{m as M}from"../index.4caff7a1.js";import{H as z}from"../vis-three.convenient.es.3345d486.js";import{H as C,K as x,Q as W,L as H,q as o,J as f,U as T}from"../vis-three.widget.es.dbc0588e.js";import{A as c,B as a,C as k}from"../Antdv.7b6104cc.js";import"../curve.0ba3d968.js";import"../three.3f33d046.js";import"../vis-three.tdcm.es.ba892fff.js";import"../vis-three.plugin-loader-manager.es.3fc670d5.js";import"../vis-three.plugin-pointer-manager.es.28277630.js";import"../index.b5597af3.js";import"../G6.30609706.js";import"../vis-three.module-particle.es.2f619925.js";import"../ShaderPass.025732a5.js";import"../UnrealBloomPass.a03f7d16.js";import"../CSS3DRenderer.56d2804d.js";import"../vis-three.library-modifier.es.9bf56217.js";import"../vis-three.module-helper.es.c2fc8b4c.js";const d=new C({plugins:[y({antialias:!0,alpha:!0}),v(),b(),S()],strategy:[B(),G()],modules:M}).setDom(document.getElementById("app")).setSize().play();d.loaderManager.setPath("/examples/");const L=x({emits:{show:!0},props:{color:{type:String,default:"rgb(0, 0, 255)"},position:{type:Object,default:()=>({x:0,y:0,z:0})}},setup({props:l,emit:i}){const n=c({x:-20}),t=a(!1);return{data:n,hanlder:()=>{console.log("click"),t.value=!0,i("show",t.value)},hanlder2:()=>{console.log("2 click"),t.value=!1,i("show",t.value)},flag:t,move(){console.log("move")}}},render(){const l=o("MeshBasicMaterial",{color:this.color}),i=o("SphereGeometry",{radius:10});o("Mesh",{geometry:i,material:l,position:{x:this.data.x+this.position.x,y:this.position.y,z:this.position.z},onClick:this.flag?this.hanlder2:this.hanlder,onMousemove:this.move})}}),R=x({components:{sphere:L},setup(){const l=c({x:5}),i=a(5),n=k(()=>i.value+5),t=a(!0),s=c([{position:{x:-20}},{position:{x:0}},{position:{x:20}}]),p=a("rgb(255, 255, 0)");W(t,e=>{console.log("watch",e)});const u=a(),h=a(),g=a(),m=new z().draw(e=>{e.fillStyle="white",e.fillRect(0,0,512,512),e.translate(256,256),e.textBaseline="middle",e.textAlign="center",e.fillStyle="black",e.font=" bold 52px \u5FAE\u8F6F\u96C5\u9ED1",e.fillText("Hello vis-three",0,0),e.translate(-256,-256)});return H(()=>{s.push({position:{x:80}}),console.log(s),console.log(h.value);const e=h.value.getState();console.log(e),e.move(),u.value.color="rgb(255, 0, 255)",console.log(m),setTimeout(()=>{m.clear().draw(r=>{r.fillStyle="white",r.fillRect(0,0,512,512),r.translate(256,256),r.textBaseline="middle",r.textAlign="center",r.fillStyle="black",r.font=" bold 52px \u5FAE\u8F6F\u96C5\u9ED1",r.fillText("Hello change",0,0),r.translate(-256,-256)}),g.value.needsUpdate=!0},2e3)}),{width:i,height:n,data:l,isBox:t,list:s,color:p,box:u,comp:h,texture:g,textGenerator:m,showTest(e){console.log("child",e)}}},resources(){return{text:this.textGenerator.getDom()}},render({components:l,resources:i}){const n=o("CanvasTexture",{url:i.text,ref:"texture"}),t=o("MeshBasicMaterial",{ref:"box",color:"rgb(255, 0, 0)",map:n});let s;f(()=>{this.isBox?s=o("BoxGeometry",{width:this.width,height:this.height,depth:10}):s=o("ConeGeometry",{radius:10})}),f(()=>{this.isBox?o(l.sphere,{color:this.color,position:{x:60,y:20,z:0}}):(o("Mesh",{geometry:s,material:t,position:{x:this.data.x,y:this.data.x*2}}),o("Mesh",{geometry:s,material:t,position:{x:this.data.x,z:this.data.x*2}}))}),o(l.sphere,{color:this.color,ref:"comp",onShow:this.showTest}),T(()=>{this.list.forEach(p=>{o("Mesh",{geometry:s,material:t,position:{x:p.position.x,z:20}})})})}}),w=d.createWidget(R).mount();console.log(w);window.widget=w;window.engine=d;
