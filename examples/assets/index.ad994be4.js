import{t as l}from"./curve.0ba3d968.js";import{a as n,b as c}from"./index.ca8957d4.js";import{b as i}from"./index.b5597af3.js";import{b as f}from"./vis-three.plugin-transform-controls.es.5244fee5.js";const m="@vis-three/strategy-trans-select-event",d=l(m),j=function(){let r,s;return{name:d,condition:[n,i,f],exec(t){t.eventManager.addFilterObject(t.transformControls),r=o=>{if(t.transing){t.transing=!1;return}const a=o.intersections;if(o.ctrlKey||t.selectionBox.clear(),t.eventManager.penetrate)for(const e of a){if(o.ctrlKey&&t.selectionBox.has(e.object)){t.selectionBox.delete(e.object);continue}t.selectionBox.add(e.object)}else if(a.length){const e=a[0].object;if(o.ctrlKey&&t.selectionBox.has(e)){t.selectionBox.delete(e);return}t.selectionBox.add(e)}t.dispatchEvent({type:c,objects:Array.from(t.selectionBox)})},t.eventManager.addEventListener("click",r),s=o=>{t.transformControls.setAttach(...o.objects)},t.addEventListener(c,s)},rollback(t){t.eventManager.removeFilterObject(t.transformControls),t.eventManager.removeEventListener("click",r),t.eventManager.removeEventListener(c,s)}}};export{j as T};
