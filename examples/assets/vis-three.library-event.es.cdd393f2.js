import{c as F}from"./CSS3DRenderer.ba0f6fa5.js";import{m as R,X as D,u as M,aH as U,n as E,v as L}from"./three.237d835c.js";var b={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out:function(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut:function(t){return t===0?0:t===1?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1)}},Back:{In:function(t){var n=1.70158;return t*t*((n+1)*t-n)},Out:function(t){var n=1.70158;return--t*t*((n+1)*t+n)+1},InOut:function(t){var n=2.5949095;return(t*=2)<1?.5*(t*t*((n+1)*t-n)):.5*((t-=2)*t*((n+1)*t+n)+2)}},Bounce:{In:function(t){return 1-b.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?b.Bounce.In(t*2)*.5:b.Bounce.Out(t*2-1)*.5+.5}}},w;typeof self=="undefined"&&typeof process!="undefined"&&process.hrtime?w=function(){var t=process.hrtime();return t[0]*1e3+t[1]/1e6}:typeof self!="undefined"&&self.performance!==void 0&&self.performance.now!==void 0?w=self.performance.now.bind(self.performance):Date.now!==void 0?w=Date.now:w=function(){return new Date().getTime()};var j=w,B=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var n=this;return Object.keys(this._tweens).map(function(e){return n._tweens[e]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(n){this._tweens[n.getId()]=n,this._tweensAddedDuringUpdate[n.getId()]=n},t.prototype.remove=function(n){delete this._tweens[n.getId()],delete this._tweensAddedDuringUpdate[n.getId()]},t.prototype.update=function(n,e){n===void 0&&(n=j()),e===void 0&&(e=!1);var r=Object.keys(this._tweens);if(r.length===0)return!1;for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var o=0;o<r.length;o++){var i=this._tweens[r[o]],s=!e;i&&i.update(n,s)===!1&&!e&&delete this._tweens[r[o]]}r=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),C={Linear:function(t,n){var e=t.length-1,r=e*n,o=Math.floor(r),i=C.Utils.Linear;return n<0?i(t[0],t[1],r):n>1?i(t[e],t[e-1],e-r):i(t[o],t[o+1>e?e:o+1],r-o)},Bezier:function(t,n){for(var e=0,r=t.length-1,o=Math.pow,i=C.Utils.Bernstein,s=0;s<=r;s++)e+=o(1-n,r-s)*o(n,s)*t[s]*i(r,s);return e},CatmullRom:function(t,n){var e=t.length-1,r=e*n,o=Math.floor(r),i=C.Utils.CatmullRom;return t[0]===t[e]?(n<0&&(o=Math.floor(r=e*(1+n))),i(t[(o-1+e)%e],t[o],t[(o+1)%e],t[(o+2)%e],r-o)):n<0?t[0]-(i(t[0],t[0],t[1],t[1],-r)-t[0]):n>1?t[e]-(i(t[e],t[e],t[e-1],t[e-1],r-e)-t[e]):i(t[o?o-1:0],t[o],t[e<o+1?e:o+1],t[e<o+2?e:o+2],r-o)},Utils:{Linear:function(t,n,e){return(n-t)*e+t},Bernstein:function(t,n){var e=C.Utils.Factorial;return e(t)/e(n)/e(t-n)},Factorial:function(){var t=[1];return function(n){var e=1;if(t[n])return t[n];for(var r=n;r>1;r--)e*=r;return t[n]=e,e}}(),CatmullRom:function(t,n,e,r,o){var i=(e-t)*.5,s=(r-n)*.5,a=o*o,c=o*a;return(2*n-2*e+i+s)*c+(-3*n+3*e-2*i-s)*a+i*o+n}}},P=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),N=new B,d=function(){function t(n,e){e===void 0&&(e=N),this._object=n,this._group=e,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=b.Linear.None,this._interpolationFunction=C.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=P.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(n,e){return this._valuesEnd=Object.create(n),e!==void 0&&(this._duration=e),this},t.prototype.duration=function(n){return this._duration=n,this},t.prototype.start=function(n){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var e in this._valuesStartRepeat)this._swapEndStartRepeatValues(e),this._valuesStart[e]=this._valuesStartRepeat[e]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=n!==void 0?typeof n=="string"?j()+parseFloat(n):n:j(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},t.prototype._setupProperties=function(n,e,r,o){for(var i in r){var s=n[i],a=Array.isArray(s),c=a?"array":typeof s,l=!a&&Array.isArray(r[i]);if(!(c==="undefined"||c==="function")){if(l){var u=r[i];if(u.length===0)continue;u=u.map(this._handleRelativeValue.bind(this,s)),r[i]=[s].concat(u)}if((c==="object"||a)&&s&&!l){e[i]=a?[]:{};for(var f in s)e[i][f]=s[f];o[i]=a?[]:{},this._setupProperties(s,e[i],r[i],o[i])}else typeof e[i]=="undefined"&&(e[i]=s),a||(e[i]*=1),l?o[i]=r[i].slice().reverse():o[i]=e[i]||0}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(n){return n===void 0&&(n=j()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=n,this._group&&this._group.remove(this),this)},t.prototype.resume=function(n){return n===void 0&&(n=j()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=n-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},t.prototype.stopChainedTweens=function(){for(var n=0,e=this._chainedTweens.length;n<e;n++)this._chainedTweens[n].stop();return this},t.prototype.group=function(n){return this._group=n,this},t.prototype.delay=function(n){return this._delayTime=n,this},t.prototype.repeat=function(n){return this._initialRepeat=n,this._repeat=n,this},t.prototype.repeatDelay=function(n){return this._repeatDelayTime=n,this},t.prototype.yoyo=function(n){return this._yoyo=n,this},t.prototype.easing=function(n){return this._easingFunction=n,this},t.prototype.interpolation=function(n){return this._interpolationFunction=n,this},t.prototype.chain=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return this._chainedTweens=n,this},t.prototype.onStart=function(n){return this._onStartCallback=n,this},t.prototype.onUpdate=function(n){return this._onUpdateCallback=n,this},t.prototype.onRepeat=function(n){return this._onRepeatCallback=n,this},t.prototype.onComplete=function(n){return this._onCompleteCallback=n,this},t.prototype.onStop=function(n){return this._onStopCallback=n,this},t.prototype.update=function(n,e){if(n===void 0&&(n=j()),e===void 0&&(e=!0),this._isPaused)return!0;var r,o,i=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(n>i)return!1;e&&this.start(n)}if(this._goToEnd=!1,n<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),o=(n-this._startTime)/this._duration,o=this._duration===0||o>1?1:o;var s=this._easingFunction(o);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,s),this._onUpdateCallback&&this._onUpdateCallback(this._object,o),o===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(r in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[r]=="string"&&(this._valuesStartRepeat[r]=this._valuesStartRepeat[r]+parseFloat(this._valuesEnd[r])),this._yoyo&&this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=n+this._repeatDelayTime:this._startTime=n+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,c=this._chainedTweens.length;a<c;a++)this._chainedTweens[a].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(n,e,r,o){for(var i in r)if(e[i]!==void 0){var s=e[i]||0,a=r[i],c=Array.isArray(n[i]),l=Array.isArray(a),u=!c&&l;u?n[i]=this._interpolationFunction(a,o):typeof a=="object"&&a?this._updateProperties(n[i],s,a,o):(a=this._handleRelativeValue(s,a),typeof a=="number"&&(n[i]=s+(a-s)*o))}},t.prototype._handleRelativeValue=function(n,e){return typeof e!="string"?e:e.charAt(0)==="+"||e.charAt(0)==="-"?n+parseFloat(e):parseFloat(e)},t.prototype._swapEndStartRepeatValues=function(n){var e=this._valuesStartRepeat[n],r=this._valuesEnd[n];typeof r=="string"?this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(r):this._valuesStartRepeat[n]=this._valuesEnd[n],this._valuesEnd[n]=e},t}();P.nextId;var v=N;v.getAll.bind(v);v.removeAll.bind(v);v.add.bind(v);v.remove.bind(v);v.update.bind(v);const Q={name:"addClass",params:{target:"",className:"",delay:0}},k=function(t,n){const e=n.params,r=[];if(e.target==="all")t.scene.traverse(o=>{o instanceof F&&r.push(o)});else if(Array.isArray(e.target))e.target.forEach(o=>{const i=t.getObjectBySymbol(o);i?r.push(i):console.warn(`basic event AddClass: can not found vid object: ${e.target}`)});else{const o=t.getObjectBySymbol(e.target);if(!o)return console.warn(`basic event AddClass: can not found vid object: ${e.target}`),()=>{};if(!(o instanceof F))return console.warn("basic event AddClass: object is not a CSS3DObject."),()=>{};r.push(o)}return r.length?()=>{setTimeout(()=>{r.forEach(o=>{o.element.classList.add(e.className)})},e.delay)}:(console.warn(`basic event AddClass: can not found vid object: ${e.target}`),()=>{})};var G=Object.freeze(Object.defineProperty({__proto__:null,config:Q,generator:k},Symbol.toStringTag,{value:"Module"}));const W={name:"changeCamera",params:{camera:"",delay:0}},q=function(t,n){const e=n.params;return()=>{setTimeout(()=>{t.setCameraBySymbol(e.camera)},e.delay)}};var H=Object.freeze(Object.defineProperty({__proto__:null,config:W,generator:q},Symbol.toStringTag,{value:"Module"}));const X={name:"changeScene",params:{scene:"Scene",delay:0}},J=function(t,n){const e=n.params;return()=>{setTimeout(()=>{t.setSceneBySymbol(e.scene)},e.delay)}};var K=Object.freeze(Object.defineProperty({__proto__:null,config:X,generator:J},Symbol.toStringTag,{value:"Module"}));const Y={name:"openWindow",params:{url:""}},Z=function(t,n){return()=>{window.open(n.params.url)}};var V=Object.freeze(Object.defineProperty({__proto__:null,config:Y,generator:Z},Symbol.toStringTag,{value:"Module"}));const tt={name:"switchAnimate",params:{target:"",toggle:"auto",delay:0}},et=function(t,n){const e=n.params,r=t.getConfigBySymbol(e.target);return r?()=>{setTimeout(()=>{if(e.toggle==="auto"){r.play!=r.play;return}if(e.toggle==="off"){r.play=!1;return}if(e.toggle==="on"){r.play=!0;return}},e.delay)}:(console.warn(`basic event switchAnimate: can not found vid config: ${e.target}`),()=>{})};var nt=Object.freeze(Object.defineProperty({__proto__:null,config:tt,generator:et},Symbol.toStringTag,{value:"Module"}));const rt={name:"visibleObject",params:{target:"",visible:!0,delay:0}},ot=function(t,n){const e=n.params,r=t.getObjectBySymbol(e.target);return r?()=>{setTimeout(()=>{r.visible=e.visible},e.delay)}:(console.warn(`basic event visibleObject: can not found vid object: ${e.target}`),()=>{})};var it=Object.freeze(Object.defineProperty({__proto__:null,config:rt,generator:ot},Symbol.toStringTag,{value:"Module"}));const at={name:"setPosition",params:{target:"",position:{x:0,y:0,z:0},delay:0}},st=function(t,n){const e=n.params,r=t.getConfigBySymbol(e.target);return r?()=>{setTimeout(()=>{r.position.x=e.position.x,r.position.y=e.position.y,r.position.z=e.position.z},e.delay)}:(console.warn(`basic event setPosition: can not found vid config: ${e.target}`),()=>{})};var ct=Object.freeze(Object.defineProperty({__proto__:null,config:at,generator:st},Symbol.toStringTag,{value:"Module"}));const lt={name:"setParent",params:{target:"",parent:"",delay:0}},ut=function(t,n){const e=n.params,r=t.getConfigBySymbol(e.parent);return r?()=>{setTimeout(()=>{r.children.push(e.target)},e.delay)}:(console.warn(`basic event setParent: can not found vid config: ${e.parent}`),()=>{})};var ft=Object.freeze(Object.defineProperty({__proto__:null,config:lt,generator:ut},Symbol.toStringTag,{value:"Module"}));const dt={name:"changeCursor",params:{cursor:"",delay:0}},pt=function(t,n){const e=n.params;return()=>{setTimeout(()=>{document.body.style.cursor=e.cursor},e.delay)}};var gt=Object.freeze(Object.defineProperty({__proto__:null,config:dt,generator:pt},Symbol.toStringTag,{value:"Module"})),h=(t=>(t.EASING_LINEAR_NONE="EASING_LINEAR_NONE",t.EASING_QUARTIC_IN="EASING_QUARTIC_IN",t.EASING_QUARTIC_OUT="EASING_QUARTIC_OUT",t.EASING_QUARTIC_INOUT="EASING_QUARTIC_INOUT",t.EASING_QUADRATIC_IN="EASING_QUADRATIC_IN",t.EASING_QUADRATIC_OUT="EASING_QUADRATIC_OUT",t.EASING_QUADRATIC_INOUT="EASING_QUADRATIC_INOUT",t))(h||{});const p={EASING_LINEAR_NONE:b.Linear.None,EASING_QUARTIC_IN:b.Quartic.In,EASING_QUARTIC_OUT:b.Quartic.Out,EASING_QUARTIC_INOUT:b.Quartic.InOut,EASING_QUADRATIC_IN:b.Quadratic.In,EASING_QUADRATIC_OUT:b.Quadratic.Out,EASING_QUADRATIC_INOUT:b.Quadratic.InOut},mt={name:"colorChange",params:{target:"",attribute:"color",color:"rgb(255, 255, 255)",delay:0,duration:500,timingFunction:h.EASING_QUADRATIC_INOUT}},yt=function(t,n){const e=n.params,r=t.getObjectBySymbol(e.target);if(!r)return console.warn(`real time animation ColorChange: can not found vid material: ${e.target}`),()=>{};if(!r[e.attribute]||!(r[e.attribute]instanceof R))return console.warn(`real time animation ColorChange: material attribute is illeage: ${e.attribute}`),()=>{};const o=t.getConfigBySymbol(e.target);if(!o)return console.warn(`real time animation ColorChange: can not found material config: ${e.target}`),()=>{};const i=new R(e.color),s=t.renderManager;let a=!1;return()=>{if(a)return;a=!0;const c=new d(r[e.attribute]).to({r:i.r,g:i.g,b:i.b}).duration(e.duration).delay(e.delay).easing(p[e.timingFunction]).start(),l=u=>{c.update()};s.addEventListener("render",l),c.onComplete(()=>{s.removeEventListener("render",l),o[e.attribute]=e.color,a=!1})}};var _t=Object.freeze(Object.defineProperty({__proto__:null,config:mt,generator:yt},Symbol.toStringTag,{value:"Module"}));const ht={name:"fadeObject",params:{target:"",direction:"out",delay:0,duration:300,timingFunction:h.EASING_QUADRATIC_INOUT,visible:!0}},bt=function(t,n){const e=n.params,r=t.getObjectBySymbol(e.target);if(!r)return console.warn(`real time animation fadeObject: can not found vid object: ${e.target}`),()=>{};const o=t.getObjectConfig(r);if(!o.material)return console.warn(`real time animation fadeObject: target can not support fade: ${e.target}`),()=>{};const i=[],s=[],a=Array.isArray(o.material)?[].concat(o.material):[o.material];for(const l of a){const u=t.getObjectBySymbol(l),f=t.getConfigBySymbol(l);if(!(u instanceof D)){console.error(`real time animation fadeObject: object config material is not instanceof Material: ${l}`);continue}if(!f){console.error(`real time animation fadeObject: object config material can not found config: ${l}`);continue}i.push(u),s.push(f)}let c=!1;return()=>{if(c)return;c=!0;const l=t.renderManager;o.visible=!0,i.forEach((u,f,_)=>{u.visible=!0,u.transparent=!0,u.opacity=e.direction==="in"?0:1,u.needsUpdate=!0;const y=new d(u).to({opacity:e.direction==="in"?1:0}).duration(e.duration).delay(e.delay).easing(p[e.timingFunction]).start(),m=S=>{y.update()};l.addEventListener("render",m),y.onComplete(()=>{l.removeEventListener("render",m),e.direction==="out"&&e.visible?(s[f].visible=!1,o.visible=!1):e.direction==="in"&&e.visible&&(s[f].visible=!0,o.visible=!0),s[f].opacity=e.direction==="in"?1:0,c=!1})})}};var vt=Object.freeze(Object.defineProperty({__proto__:null,config:ht,generator:bt},Symbol.toStringTag,{value:"Module"}));const St={name:"focusObject",params:{target:"",camera:"",space:"world",offset:{x:0,y:0,z:20},delay:0,duration:1e3,timingFunction:h.EASING_QUADRATIC_INOUT,back:!0}},Tt=function(t,n){const e=n.params,r=t.getObjectBySymbol(e.target),o=t.orbitControls.target;if(!r)return console.warn(`real time animation focusObject: can not found vid object: ${e.target}`),()=>{};if(!(r instanceof M))return console.warn(`real time animation focusObject: vid object is not a class of THREE.Object3D: ${e.target}`),()=>{};let i=!1;const s=new U;return()=>{if(i)return;i=!0;let a=t.camera;e.camera&&(a=t.getObjectBySymbol(e.camera),a||(a=t.camera,console.warn(`real time animation focusObject: can not found camera config: ${e.camera}`)));const c=t.getObjectConfig(a),l=t.orbitControls&&t.orbitControls.object===a;c||console.warn("engine current camera can not found config.");const u=t.renderManager;let f={x:r.matrixWorld.elements[12]+e.offset.x,y:r.matrixWorld.elements[13]+e.offset.y,z:r.matrixWorld.elements[14]+e.offset.z};const _={x:a.position.x,y:a.position.y,z:a.position.z};if(e.space==="local"){const g=new E(e.offset.x,e.offset.y,e.offset.z).applyEuler(s.setFromRotationMatrix(r.matrixWorld));f={x:r.matrixWorld.elements[12]+g.x,y:r.matrixWorld.elements[13]+g.y,z:r.matrixWorld.elements[14]+g.z}}const y=new d(a.position).to(f).duration(e.duration).delay(e.delay).easing(p[e.timingFunction]).start();let m;const S={x:a.up.x,y:a.up.y,z:a.up.z};if(e.space==="local"){const g=new E(0,1,0).applyEuler(s.setFromRotationMatrix(r.matrixWorld));m=new d(a.up).to({x:g.x,y:g.y,z:g.z}).duration(e.duration).delay(e.delay).easing(p[e.timingFunction]).start()}let T;const A={x:o.x,y:o.y,z:o.z};l&&(T=new d(o).to({x:r.matrixWorld.elements[12],y:r.matrixWorld.elements[13],z:r.matrixWorld.elements[14]}).duration(e.duration).delay(e.delay).easing(p[e.timingFunction]).start());let O;l&&e.space==="local"?O=g=>{y.update(),m.update(),T.update()}:l?O=g=>{y.update(),T.update()}:e.space==="local"?O=g=>{y.update(),m.update()}:O=g=>{y.update()},u.addEventListener("render",O),y.onComplete(()=>{if(u.removeEventListener("render",O),c&&(c.position.x=f.x,c.position.y=f.y,c.position.z=f.z),i=!1,e.back){const g=()=>{const I=new d(a.position).to(_).duration(e.duration).delay(e.delay).easing(p[e.timingFunction]).start();let x;e.space==="local"&&(x=new d(a.up).to(S).duration(e.duration).delay(e.delay).easing(p[e.timingFunction]).start());let z;l&&(z=new d(o).to(A).duration(e.duration).delay(e.delay).easing(p[e.timingFunction]).start());const $=Yt=>{I.update(),x&&x.update(),z&&z.update()};I.onComplete(()=>{u.removeEventListener("render",$)}),u.addEventListener("render",$),document.removeEventListener("dblclick",g)};document.addEventListener("dblclick",g)}})}};var Ot=Object.freeze(Object.defineProperty({__proto__:null,config:St,generator:Tt},Symbol.toStringTag,{value:"Module"}));const jt={name:"moveFromTo",params:{target:"",from:{x:0,y:0,z:0},to:{x:10,y:10,z:10},delay:0,duration:1e3,timingFunction:h.EASING_QUADRATIC_INOUT}},wt=function(t,n){const e=n.params,o=t.compilerManager.getObjectBySymbol(e.target);if(!o)return console.warn(`real time animation moveTO: can not found vid object: ${e.target}`),()=>{};const i=t.renderManager,s=t.dataSupportManager.getConfigBySymbol(e.target);if(!s)return console.warn(`can not found object config: ${e.target}`),()=>{};let a=!1;return()=>{if(a)return;a=!0,o.position.set(e.from.x,e.from.y,e.from.z),o.updateMatrix(),o.updateMatrixWorld();const c=new d(o.position).to(e.to).duration(e.duration).delay(e.delay).easing(p[e.timingFunction]).start(),l=u=>{c.update()};i.addEventListener("render",l),c.onComplete(()=>{i.removeEventListener("render",l),s.position.x=e.to.x,s.position.y=e.to.y,s.position.z=e.to.z,a=!1})}};var Ct=Object.freeze(Object.defineProperty({__proto__:null,config:jt,generator:wt},Symbol.toStringTag,{value:"Module"}));const At={name:"moveSpacing",params:{target:"",spacing:{x:10,y:10,z:10},delay:0,duration:1e3,timingFunction:h.EASING_QUADRATIC_INOUT}},It=function(t,n){const e=n.params,r=t.getObjectBySymbol(e.target);if(!r)return console.warn(`can not found vid object: ${e.target}`),()=>{};if(!(r instanceof M))return console.warn(`object is not instanceof Object3D: ${e.target}`),()=>{};const o=t.renderManager,i=t.getConfigBySymbol(e.target);let s=!1;return()=>{if(s)return;s=!0;const a={x:r.position.x+e.spacing.x,y:r.position.y+e.spacing.y,z:r.position.z+e.spacing.z},c=new d(r.position).to(a).duration(e.duration).delay(e.delay).easing(p[e.timingFunction]).start(),l=u=>{c.update()};o.addEventListener("render",l),c.onComplete(()=>{o.removeEventListener("render",l),i.position.x=a.x,i.position.y=a.y,i.position.z=a.z,s=!1})}};var xt=Object.freeze(Object.defineProperty({__proto__:null,config:At,generator:It},Symbol.toStringTag,{value:"Module"}));const zt={name:"moveTo",params:{target:"",position:{x:0,y:0,z:0},delay:0,duration:1e3,timingFunction:h.EASING_QUADRATIC_INOUT}},Et=function(t,n){const e=n.params,o=t.compilerManager.getObjectBySymbol(e.target);if(!o)return console.warn(`real time animation moveTO: can not found vid object: ${e.target}`),()=>{};const i=t.renderManager,s=t.dataSupportManager.getConfigBySymbol(e.target);if(!s)return console.warn(`can not found object config: ${e.target}`),()=>{};let a=!1;return()=>{if(a)return;a=!0;const c=new d(o.position).to(e.position).duration(e.duration).delay(e.delay).easing(p[e.timingFunction]).start(),l=u=>{c.update()};i.addEventListener("render",l),c.onComplete(()=>{i.removeEventListener("render",l),s.position.x=e.position.x,s.position.y=e.position.y,s.position.z=e.position.z,a=!1})}};var Mt=Object.freeze(Object.defineProperty({__proto__:null,config:zt,generator:Et},Symbol.toStringTag,{value:"Module"}));const $t={name:"moveToObject",params:{target:"",to:"",offset:{x:0,y:0,z:0},delay:0,duration:1e3,timingFunction:h.EASING_QUADRATIC_INOUT}},Ft=function(t,n){const e=n.params,r=t.compilerManager,o=r.getObjectBySymbol(e.target),i=r.getObjectBySymbol(e.to);if(!o)return console.warn(`real time animation MoveToObject: can not found vid object: ${e.target}`),()=>{};if(!i)return console.warn(`real time animation MoveToObject: can not found vid object: ${e.target}`),()=>{};const s=t.renderManager,a=t.dataSupportManager.getConfigBySymbol(e.target);if(!a)return console.warn(`can not found object config: ${e.target}`),()=>{};let c=!1;return()=>{if(c)return;c=!0;const l={x:i.position.x+e.offset.x,y:i.position.y+e.offset.y,z:i.position.z+e.offset.z},u=new d(o.position).to(l).duration(e.duration).delay(e.delay).easing(p[e.timingFunction]).start(),f=_=>{u.update()};s.addEventListener("render",f),u.onComplete(()=>{s.removeEventListener("render",f),a.position.x=l.x,a.position.y=l.y,a.position.z=l.z,c=!1})}};var Rt=Object.freeze(Object.defineProperty({__proto__:null,config:$t,generator:Ft},Symbol.toStringTag,{value:"Module"}));const Ut={name:"orbitTargetMove",params:{target:"",offset:{x:0,y:0,z:0},delay:0,duration:1e3,timingFunction:h.EASING_QUADRATIC_INOUT}},Pt=function(t,n){const e=n.params;if(t.compilerManager,!t.orbitControls)return console.warn("real time animation orbitTargetMove: engine can not install orbitControls."),()=>{};const r=t.renderManager;let o=!1;return()=>{if(o)return;o=!0;let i=e.offset;if(e.target){const c=t.getObjectBySymbol(e.target);c?i={x:c.matrixWorld.elements[12]+i.x,y:c.matrixWorld.elements[13]+i.y,z:c.matrixWorld.elements[14]+i.z}:console.warn(`real time animation orbitTargetMove: can not found vid object: ${e.target}`)}const s=new d(t.orbitControls.target).to(i).duration(e.duration).delay(e.delay).easing(p[e.timingFunction]).start(),a=c=>{s.update()};r.addEventListener("render",a),s.onComplete(()=>{r.removeEventListener("render",a),o=!1})}};var Nt=Object.freeze(Object.defineProperty({__proto__:null,config:Ut,generator:Pt},Symbol.toStringTag,{value:"Module"}));const Dt={name:"rotationTo",params:{target:"",rotation:{x:0,y:0,z:0},delay:0,duration:1e3,timingFunction:h.EASING_QUADRATIC_INOUT}},Lt=function(t,n){const e=n.params,o=t.compilerManager.getObjectBySymbol(e.target);if(!o)return console.warn(`real time animation moveTO: can not found vid object: ${e.target}`),()=>{};const i=t.renderManager,s=t.dataSupportManager.getConfigBySymbol(e.target);if(!s)return console.warn(`can not found object config: ${e.target}`),()=>{};let a=!1;return()=>{if(a)return;a=!0;const c=new d(o.rotation).to(e.rotation).duration(e.duration).delay(e.delay).easing(p[e.timingFunction]).start(),l=u=>{c.update()};i.addEventListener("render",l),c.onComplete(()=>{i.removeEventListener("render",l),s.rotation.x=e.rotation.x,s.rotation.y=e.rotation.y,s.rotation.z=e.rotation.z,a=!1})}};var Bt=Object.freeze(Object.defineProperty({__proto__:null,config:Dt,generator:Lt},Symbol.toStringTag,{value:"Module"}));const Qt={name:"showToCamera",params:{target:"",offset:{x:0,y:0,z:-30},delay:0,duration:1e3,timingFunction:h.EASING_QUADRATIC_INOUT,back:!0}},kt=function(t,n){const e=n.params,r=t.getObjectBySymbol(e.target),o=t.getConfigBySymbol(e.target),i=t.camera;if(!r)return console.warn(`real time animation showToCamera: can not found vid object: ${e.target}`),()=>{};if(!r)return console.warn(`real time animation showToCamera: can not found vid config: ${e.target}`),()=>{};if(!(r instanceof M))return console.warn(`real time animation showToCamera: vid object is not a class of THREE.Object3D: ${e.target}`),()=>{};const s=new L,a=new U,c=new E;let l=!1;return()=>{if(l)return;l=!0;const u=t.renderManager;c.set(e.offset.x,e.offset.y,e.offset.z).applyEuler(i.rotation),c.set(i.position.x+c.x,i.position.y+c.y,i.position.z+c.z),s.lookAt(i.position,c,i.up),a.setFromRotationMatrix(s);const f={x:r.position.x,y:r.position.y,z:r.position.z},_={x:r.rotation.x,y:r.rotation.y,z:r.rotation.z},y=new d(r.position).to({x:c.x,y:c.y,z:c.z}).duration(e.duration).delay(e.delay).easing(p[e.timingFunction]).start(),m=new d(r.rotation).to({x:a.x,y:a.y,z:a.z}).duration(e.duration).delay(e.delay).easing(p[e.timingFunction]).start(),S=T=>{y.update(),m.update()};u.addEventListener("render",S),y.onComplete(()=>{if(u.removeEventListener("render",S),o.position.x=c.x,o.position.y=c.y,o.position.z=c.z,o.rotation.x=a.x,o.rotation.y=a.y,o.rotation.z=a.z,l=!1,e.back){const T=()=>{const A=new d(r.position).to(f).duration(e.duration).delay(e.delay).easing(p[e.timingFunction]).start(),O=new d(r.rotation).to(_).duration(e.duration).delay(e.delay).easing(p[e.timingFunction]).start(),g=I=>{A.update(),O.update()};A.onComplete(()=>{u.removeEventListener("render",g),o.position.x=f.x,o.position.y=f.y,o.position.z=f.z,o.rotation.x=_.x,o.rotation.y=_.y,o.rotation.z=_.z}),u.addEventListener("render",g),document.removeEventListener("dblclick",T)};document.addEventListener("dblclick",T)}})}};var Gt=Object.freeze(Object.defineProperty({__proto__:null,config:Qt,generator:kt},Symbol.toStringTag,{value:"Module"}));const Wt={name:"upTo",params:{target:"",up:{x:0,y:1,z:0},delay:0,duration:1e3,timingFunction:h.EASING_QUADRATIC_INOUT}},qt=function(t,n){const e=n.params,o=t.compilerManager.getObjectBySymbol(e.target);if(!o)return console.warn(`real time animation upTo: can not found vid object: ${e.target}`),()=>{};const i=t.renderManager,s=t.dataSupportManager.getConfigBySymbol(e.target);if(!s)return console.warn(`can not found object config: ${e.target}`),()=>{};let a=!1;return()=>{if(a)return;a=!0;const c=new d(o.up).to(e.up).duration(e.duration).delay(e.delay).easing(p[e.timingFunction]).start(),l=u=>{c.update()};i.addEventListener("render",l),c.onComplete(()=>{i.removeEventListener("render",l),s.up.x=e.up.x,s.up.y=e.up.y,s.up.z=e.up.z,a=!1})}};var Ht=Object.freeze(Object.defineProperty({__proto__:null,config:Wt,generator:qt},Symbol.toStringTag,{value:"Module"}));const Xt={name:"vector3To",params:{target:"",attribute:".position",props:{x:"x",y:"y",z:"z"},delay:0,duration:500,to:{},compiling:!1,timingFunction:h.EASING_QUADRATIC_INOUT}},Jt=function(t,n){var e,r,o;const i=n.params,s=t.compilerManager.getObjectBySymbol(i.target);if(!s)return console.warn(`real time animation vector3To: can not found vid object: ${i.target}`),()=>{};const a=t.renderManager;let c=t.dataSupportManager.getConfigBySymbol(i.target);if(!c)return console.warn(`real time animation vector3To: can not found object config: ${i.target}`),()=>{};const l=i.attribute.split(".");l.shift();let u=s;for(const m of l){if(u[m]===void 0)return console.error(`real time animation vector3To: object can not support key: ${m}`,s),()=>{};u=u[m],c=c[m]}const f=i.props;if(!(f.x in u)||!(f.y in u)||!(f.z in u))return console.error("real time animation vector3To: object can not support props:",u,f),()=>{};if(!(f.x in c)||!(f.y in c)||!(f.z in c))return console.error("real time animation vector3To: config can not support props:",c,f),()=>{};const _={x:(e=i.to.x)!=null?e:u[f.x],y:(r=i.to.y)!=null?r:u[f.y],z:(o=i.to.z)!=null?o:u[f.z]};let y=!1;return()=>{if(y)return;y=!0;const m=new d(i.compiling?c:u).to(_).duration(i.duration).delay(i.delay).easing(p[i.timingFunction]).start(),S=T=>{m.update()};a.addEventListener("render",S),m.onComplete(()=>{a.removeEventListener("render",S),i.compiling||(c[f.x]=_.x,c[f.y]=_.y,c[f.z]=_.z),y=!1})}};var Kt=Object.freeze(Object.defineProperty({__proto__:null,config:Xt,generator:Jt},Symbol.toStringTag,{value:"Module"})),te={addClass:G,changeCamera:H,changeScene:K,openWindow:V,switchAnimate:nt,visibleObject:it,colorChange:_t,fadeObject:vt,focusObject:Ot,moveFromTo:Ct,moveSpacing:xt,moveTo:Mt,moveToObject:Rt,orbitTargetMove:Nt,rotationTo:Bt,showToCamera:Gt,upTo:Ht,vector3To:Kt,setPosition:ct,setParent:ft,changeCursor:gt};export{te as i};
