import"../modulepreload-polyfill.b7f2da20.js";import{l as k}from"../loadingTips.c31b1441.js";import{bM as p}from"../three.837c9bb0.js";import{P as M}from"../index.42c65df3.js";import{D as I}from"../index.3517e264.js";import{k as l,g as o,a as t}from"../vis-three.middleware.es.2e80d21b.js";import{C as c}from"../vis-three.convenient.es.83638baf.js";import{i as b}from"../vis-three.library-event.es.1631ca13.js";import{A as z}from"../index.a87f8394.js";/* empty css               */import"../Antdv.a86c3c0d.js";import"../index.7d48aff8.js";import"../index.1d7ad8b9.js";import"../index.dfadcd6f.js";import"../CSS3DRenderer.d266155a.js";import"../index.9c42f01c.js";import"../index.ddb76977.js";import"../index.388dadd4.js";import"../Pass.1ae4f2a0.js";import"../index.763ed6df.js";import"../index.ec2b829b.js";import"../index.aa7ffc23.js";import"../vis-three.module-animation-action.es.09a94f96.js";import"../UnrealBloomPass.caa1ad7b.js";import"../index.4192aafc.js";import"../index.ce95ade9.js";import"../vis-three.plugin-pointer-manager.es.86f17451.js";import"../vis-three.strategy-orbit-controls-support.es.7f0e9f15.js";import"../index.b828c96c.js";import"../index.cfcd8596.js";import"../vis-three.library-parser.es.80d54b6a.js";import"../vis-three.strategy-multi-renderer.es.c7860e7e.js";import"../vis-three.plugin-loader-manager.es.7fbd57ff.js";import"../G6.7a2bba98.js";l.register(b.moveTo);const d=(r,a)=>{r.textBaseline="middle",r.textAlign="center",r.fillStyle="rgb(26, 203, 208)",r.fillRect(0,0,512,512),r.fillStyle="white",r.font="bold 58px \u5FAE\u8F6F\u96C5\u9ED1",r.fillText(a,255,255)},R=new c().draw(r=>d(r,"to bedroom")),h=new c().draw(r=>d(r,"to kitchenroom")),f=new c().draw(r=>d(r,"to livingroom")),e=new I().rollback("OrbitControlsSupportStrategy").uninstall("OrbitControlsPlugin").install(M()).install(z()).setDom(document.getElementById("app")).setSize().play();k(e);o.injectEngine=e;const s=o(t.PERSPECTIVECAMERA,{near:.01,far:500});e.setCameraBySymbol(s.vid);e.setSize();const P=o(t.SCENE);e.setSceneBySymbol(P.vid);o.injectScene=!0;e.loaderManager.setPath("/examples/");e.registerResources({bedroomCanvas:R.getDom(),kitchenroomCanvas:h.getDom(),livingroomCanvas:f.getDom()}).loadResourcesAsync(["/texture/360vr/room/bedroom.jpeg","/texture/360vr/room/kitchenroom.jpeg","/texture/360vr/room/livingroom.jpeg"]).then(r=>{const a=o(t.SPHEREGEOMETRY,{radius:7,widthSegments:128,heightSegments:128}),g=o(t.IMAGETEXTURE,{url:"/texture/360vr/room/livingroom.jpeg"}),E=o(t.MESHBASICMATERIAL,{map:g.vid,side:p}),i=o(t.MESH,{geometry:a.vid,material:E.vid}),v=o(t.IMAGETEXTURE,{url:"/texture/360vr/room/bedroom.jpeg"}),y=o(t.MESHBASICMATERIAL,{map:v.vid,side:p}),n=o(t.MESH,{geometry:a.vid,material:y.vid,position:{x:i.position.x+9,y:i.position.y,z:i.position.z-14}}),T=o(t.IMAGETEXTURE,{url:"/texture/360vr/room/kitchenroom.jpeg"}),u=o(t.MESHBASICMATERIAL,{map:T.vid,side:p}),m=o(t.MESH,{geometry:a.vid,material:u.vid,position:{x:i.position.x+15,y:i.position.y,z:i.position.z}}),S=o(t.CANVASTEXTURE,{url:"kitchenroomCanvas"}),x=o(t.SPRITEMATERIAL,{map:S.vid});o(t.SPRITE,{material:x.vid,scale:{x:.5,y:.5,z:.5},position:{x:i.position.x+5,y:i.position.y+.5,z:i.position.z+.2},click:[l.generateConfig("moveTo",{params:{target:s.vid,position:{x:m.position.x,y:m.position.y,z:m.position.z}}})]});const A=o(t.CANVASTEXTURE,{url:"bedroomCanvas"}),C=o(t.SPRITEMATERIAL,{map:A.vid});o(t.SPRITE,{material:C.vid,scale:{x:.5,y:.5,z:.5},position:{x:i.position.x+2,y:i.position.y+.5,z:i.position.z-5},click:[l.generateConfig("moveTo",{params:{target:s.vid,position:{x:n.position.x,y:n.position.y,z:n.position.z}}})]}),s.position.x=i.position.x,s.position.y=i.position.y,s.position.z=i.position.z,document.getElementById("global").onclick=()=>{e.camera.position.set(0,70,0),e.camera.lookAt(0,0,0)},document.getElementById("bedroom").onclick=()=>{e.camera.position.set(n.position.x,n.position.y,n.position.z),e.camera.lookAt(0,0,0)},document.getElementById("kitchenroom").onclick=()=>{e.camera.position.set(m.position.x,m.position.y,m.position.z),e.camera.lookAt(0,0,0)},document.getElementById("livingroom").onclick=()=>{e.camera.position.set(i.position.x,i.position.y,i.position.z),e.camera.lookAt(0,0,0)}});window.engine=e;
