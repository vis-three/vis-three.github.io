import{d as i,u as l,C as p,D as e,M as S,g as m,a as c}from"./vis-three.tdcm.es.ba892fff.js";import{b as f,K as C}from"./vis-three.plugin-transform-controls.es.5244fee5.js";import{t as T}from"./curve.0ba3d968.js";import{a as O}from"./vis-three.module-particle.es.2f619925.js";const u="@vis-three/strategy-transform-controls-support",r=function(){return Object.assign(O(),{vid:l("TransformControls"),axis:"XYZ",enabled:!0,mode:"position",snapAllow:!1,rotationSnap:Math.PI/180*10,translationSnap:5,scaleSnap:.1,showX:!0,showY:!0,showZ:!0,size:1,space:"world"})};var A=i({type:"TransformControls",config:r,commands:{set:{snapAllow({target:o,config:n,value:a}){a?(o.translationSnap=n.translationSnap,o.rotationSnap=n.rotationSnap,o.scaleSnap=n.scaleSnap):(o.translationSnap=0,o.rotationSnap=0,o.scaleSnap=0)},translationSnap({target:o,config:n,value:a}){n.snapAllow&&(o.translationSnap=a)},rotationSnap({target:o,config:n,value:a}){n.snapAllow&&(o.rotationSnap=a)},scaleSnap({target:o,config:n,value:a}){n.snapAllow&&(o.scaleSnap=a)}}},create({config:o,engine:n}){let a=n.transformControls;return o.snapAllow&&(a.translationSnap=o.translationSnap,a.rotationSnap=o.rotationSnap,a.scaleSnap=o.scaleSnap),a},dispose({target:o}){o.dispose()}});const d=T(u),E=function(){return{name:d,condition:[p,e,f],exec(o){o.compilerManager.getCompiler(S.CONTROLS).useModel(A,s=>{o.applyConfig(m(c.TRANSFORMCONTROLS,r()))});let a=null;o.transformControls.addEventListener(C.OBJECT_CHANGE,s=>{s.transObjectSet.forEach(t=>{a=o.getObjectConfig(t),a&&(a.position.x=t.position.x,a.position.y=t.position.y,a.position.z=t.position.z,a.rotation.x=t.rotation.x,a.rotation.y=t.rotation.y,a.rotation.z=t.rotation.z,a.scale.x=t.scale.x,a.scale.y=t.scale.y,a.scale.z=t.scale.z)})})},rollback(){}}};export{E as T};
