import{t as f,a as d}from"./index.202ebdec.js";import{h as E,O as T}from"./three.237d835c.js";const g="@vis-three/plugin-viewpoint";var p;(function(e){e.DEFAULT="default",e.TOP="top",e.BOTTOM="bottom",e.LEFT="left",e.RIGHT="right",e.FRONT="front",e.BACK="back"})(p||(p={}));const u="setViewpoint",b=f(g),z=function(e={}){var l;!e.perspective&&(e.perspective={}),!e.perspective.position&&(e.perspective.position={x:60,y:60,z:60}),!e.perspective.lookAt&&(e.perspective.lookAt={x:0,y:0,z:0}),!e.perspective.up&&(e.perspective.up={x:0,y:1,z:0}),!e.orthograpbic&&(e.orthograpbic={}),!e.orthograpbic.up&&(e.orthograpbic.up={x:0,y:1,z:0});const s=new E;s.position.set(e.perspective.position.x,e.perspective.position.y,e.perspective.position.z),s.lookAt(e.perspective.lookAt.x,e.perspective.lookAt.y,e.perspective.lookAt.z),s.up.set(e.perspective.up.x,e.perspective.up.y,e.perspective.up.z);const i=e.orthograpbic.distance||1e4,t=new T(-window.innerWidth/8,window.innerWidth/8,-window.innerHeight/8,window.innerHeight/8,0,i);t.up.set(e.perspective.up.x,e.perspective.up.y,e.perspective.up.z),(l=e.orthograpbic.allowRotate)!=null;let r,v;return{name:b,install(n){n.setViewpoint=function(c){return this.dispatchEvent({type:u,viewpoint:c}),this},r=c=>{const o=c.width,w=c.height,h=o/w;s.aspect=h,s.updateProjectionMatrix(),t.left=-i*h,t.right=i*h,t.top=i,t.bottom=-i,t.zoom=i/w*5,t.updateProjectionMatrix()},n.addEventListener(d.SETSIZE,r),v=c=>{const o=c.viewpoint;if(o===p.DEFAULT){n.setCamera(s);return}o===p.TOP?t.position.set(0,i/2,0):o===p.BOTTOM?t.position.set(0,-i/2,0):o===p.RIGHT?t.position.set(i/2,0,0):o===p.LEFT?t.position.set(-i/2,0,0):o===p.FRONT?t.position.set(0,0,i/2):o===p.BACK&&t.position.set(0,0,-i/2),t.lookAt(0,0,0),n.setCamera(t)},n.addEventListener(u,v)},dispose(n){n.removeEventListener(d.SETSIZE,r),n.removeEventListener(u,v)}}};export{u as S,z as V,b as a,p as b};
